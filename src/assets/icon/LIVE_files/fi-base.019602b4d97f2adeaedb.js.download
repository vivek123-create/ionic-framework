!function(e){function t(t){for(var n,r,c=t[0],l=t[1],s=t[2],u=0,m=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);m.length;)m.shift()();return a.push.apply(a,s||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,c=1;c<o.length;c++){var l=o[c];0!==i[l]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},i={6:0},a=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var t=[],o=i[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise(function(t,n){o=i[e]=[t,n]});t.push(o[2]=n);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=function(e){return r.p+"js/"+({}[e]||e)+".019602b4d97f2adeaedb.js"}(e);var l=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(s);var o=i[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,o[1](l)}i[e]=void 0}};var s=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/media/dist/",r.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=l;a.push([132,0]),o()}({1:function(e,t,o){"use strict";o.d(t,"a",function(){return i}),o.d(t,"c",function(){return a}),o.d(t,"d",function(){return r}),o.d(t,"i",function(){return c}),o.d(t,"m",function(){return l}),o.d(t,"l",function(){return s}),o.d(t,"p",function(){return d}),o.d(t,"o",function(){return u}),o.d(t,"g",function(){return m}),o.d(t,"b",function(){return p}),o.d(t,"f",function(){return h}),o.d(t,"j",function(){return f}),o.d(t,"e",function(){return g}),o.d(t,"q",function(){return v}),o.d(t,"k",function(){return w}),o.d(t,"n",function(){return y}),o.d(t,"h",function(){return b});o(27);var n=o(32);function i(e){return(e=document.querySelectorAll(e)).length>1?e:e[0]?e[0]:null}function a(){this.warning=function(e,o,n){t(e,o,n,"warning")},this.danger=function(e,o,n){t(e,o,n,"danger")},this.success=function(e,o,n){t(e,o,n,"success")};var e=8e3;function t(t,o,n,i){!function(t,o,n,i){var a=Date.now();t instanceof Object&&(o=t.body,t=t.title);var r=document.getElementById("user-alert-container");r||((r=document.createElement("div")).id="user-alert-container",r.className="user-alert-container",document.body.appendChild(r));r.innerHTML=Handlebars.tag("notification")({title:t,body:o,sticky:n,type:i,time:a}),n||setTimeout(function(){var e=document.getElementById("notify-"+a);e&&e.parentElement.removeChild(e)},e)}(t,o,n,i)}}$(function(){try{localStorage.n_pageviews=void 0!==localStorage.n_pageviews?parseInt(localStorage.n_pageviews,10)+1:1}catch(e){}n.Premium.init()}),$(document).ajaxError(function(e,t,o){~o.url.indexOf("coupons/popup")||r.danger("Oops!",messages.errors.connectivity)}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,o){return void 0!==e[o]?e[o]:t})}),document.get=function(e){return document.querySelector(e)},document.find=function(e){return document.querySelectorAll(e)},Element.prototype.get=function(e){return this.querySelector(e)},Element.prototype.find=function(e){return this.querySelectorAll(e)},Element.prototype.parents=function(e){var t=[],o=this;if(e)var n=e.charAt(0);for(var i=0;o&&o!==document&&!i;o=o.parentNode)e&&("."===n&&o.classList.contains(e.substr(1))&&(i=1),"#"===n&&o.id===e.substr(1)&&(i=1),"["===n&&o.hasAttribute(e.substr(1,e.length-1))&&(i=1),o.tagName.toLowerCase()===e&&(i=1)),t.push(o);return!t.length||"HTML"==t.reverse()[0].tagName&&e?[]:t},Element.prototype.parent=function(e){var t=this.parents(e);return void 0===e&&t.reverse(),t&&t.length?t[0]:null},Element.prototype.outerWidth=function(){return this.clientWidth+(parseInt(getComputedStyle(this).marginLeft,10)+parseInt(getComputedStyle(this).marginRight,10))},Element.prototype.outerHeight=function(){return this.clientHeight+(parseInt(getComputedStyle(this).marginTop,10)+parseInt(getComputedStyle(this).marginBottom,10))},Handlebars.tag=function(e){return Handlebars.compile(document.getElementById("tpl-"+e).innerHTML)},Handlebars.registerHelper("isColor",function(e,t){return"XXXXXX"!=e?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("specialItem",function(e,t,o){return 1==e||1==t?o.fn(this):o.inverse(this)}),Handlebars.registerHelper("get_length",function(e){return"object"==typeof e?Object.keys(e).length:Array.isArray(e)?e.length:0}),Handlebars.registerHelper("retinaImage",function(){if(0!==Object.keys(this).length||this.constructor!==Object)return this.png.replace("png/128","png/512")}),Handlebars.registerHelper("isPersonalIcon",function(e){return 4==e}),Handlebars.registerHelper("numberFormat",function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Handlebars.registerHelper("isEqualTo",function(e,t,o){return e==t?o.fn(this):o.inverse(this)}),Handlebars.registerHelper("compare",function(e,t,o,n){var i;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===n&&(n=o,o=t,t="==="),!(i={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},typeof:function(e,t){return typeof e==t}})[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return i[t](e,o)?n.fn(this):n.inverse(this)}),a.close=function(e){var t=document.getElementById("notify-"+e.dataset.time);t.parentElement.removeChild(t)};var r=new a;window.UserAlerts=r;try{sessionStorage.setItem("test","1"),sessionStorage.removeItem("test")}catch(e){r.danger("ERROR!","Your browser doesn't support Storage Feature or you are using private browsing. Please use a compatible browser",!0)}function c(e){if(void 0!==e){e=e.replace(/^\s+|\s+$|\(\)\'/g,"").toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/,:;",o=0,n=t.length;o<n;o++)e=e.replace(new RegExp(t.charAt(o),"g"),"aaaaaeeeeeiiiiooooouuuunc-----".charAt(o));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}return e}function l(e){var t=e.match(/[\u3131-\uD79D]/giu);return!!t&&t.length===e.length}function s(e){return/^[\u0400-\u04FF ]+$/.test(e)}function d(e){if("string"!=typeof e)return e;e=e.replace(/^\s+|\s+$/g,"").toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",o=0,n=t.length;o<n;o++)e=e.replace(new RegExp(t.charAt(o),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(o));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function u(e){var t=(new Date).getTime(),o=d(e=e.split(".").join(t));return o=o.split(t).join(".")}function m(){if(-1!=navigator.userAgent.indexOf("Chrome"))return"Chrome";if(-1!=navigator.userAgent.indexOf("Opera"))return"Opera";if(-1!=navigator.userAgent.indexOf("Firefox"))return"Firefox";if(-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode)return"IE";if(-1!=navigator.userAgent.indexOf("Edge"))return"Edge";if(-1!=navigator.userAgent.indexOf("Safari")){var e=navigator.userAgent;return null!==e?"Safari":(e=(e=(e=e.match(/Version\/\d./g))[0].split("/"))[1])>=13?"UpdatedSafari":"Safari"}return navigator.userAgent}var p={get:function(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},set:function(e,t,o){var n=window.location.host.replace(/[^.]+\./,"");if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);var a="; expires="+i.toGMTString()}else a="";document.cookie=e+"="+t+a+"; path=/; domain=."+n},setH:function(e,t,o){var n=window.location.host.replace(/[^.]+\./,"");if(o){var i=new Date;i.setTime(i.getTime()+60*o*60*1e3);var a="; expires="+i.toGMTString()}else a="";document.cookie=e+"="+t+a+"; path=/; domain=."+n},del:function(e){var t=window.location.host.replace(/[^.]+\./,"")||window.location.host;document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=."+t},expiry:function(e){return p.get(e)}};function h(e){e.parent(".fi-modal")&&(e.parent(".fi-modal").get(".modal-state").checked=!1,document.querySelector("body").classList.remove("modal-open"))}function f(e){if(void 0===e)return Math.floor(Date.now()/1e3);if(e instanceof Date)return o(e);var t=new Date(e);return t instanceof Date?o(t):Math.floor(Date.now()/1e3);function o(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return parseInt(Date.parse(t).toString().slice(0,10),10)}}function g(e){return""!=e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e}function v(e){var t=null;0!=function(e){var t=0,o=e.lastIndexOf("/"),n=e.length;return-1!=e.lastIndexOf("?")&&(n=e.lastIndexOf("?")),-1!=o&&(t=e.substring(o+1,n)),isNaN(t)?0:t}(e)?t=e.substring(0,e.lastIndexOf("/")):t=""!=window.location.search&&e==window.location.href?e.substring(0,e.lastIndexOf("?")):e;return t}function w(e,t,o){for(var n=0;e.length>n&&"/"==e[e.length-(n+1)];)n+=1;return n>0&&(e=e.slice(0,-n)),""!=t&&void 0!==t&&t>1&&(e=e+"/"+t),""!=o&&void 0!==o&&(o=function(e){""!=e&&void 0!==e&&(e=(e=e.replace(/pack_id=(\d)*/g,"")).replace("&&","&").replace(/[^=&]+=(&|$)/g,"").replace(/^&|&$/,""));return e}(o),e=(e=e.replace("///$/","/")).replace("#",""),e=-1==o.lastIndexOf("?")?e+"?"+o:e+o),e}function y(e){if(""==(e=e.substr(1).split("&")))return{};for(var t={},o=0;o<e.length;++o){var n=e[o].split("=",2);1==n.length?t[n[0]]="":t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}return t}function b(e){return e.replace(/[\*\%\?\-\+\/\}\{_\:\,;\.<>\&\#\"@\+\=\~]+/g,"")}Date.prototype.getWeekNumber=function(){var e=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var o=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-o)/864e5+1)/7)}},10:function(e,t,o){"use strict";o.r(t),o.d(t,"continue_exec_search",function(){return d}),o.d(t,"urlUserIcon",function(){return u}),o.d(t,"update_download_counter",function(){return m}),o.d(t,"number_format",function(){return p}),o.d(t,"dispatchEventTooltip",function(){return g}),o.d(t,"store_url",function(){return v}),o.d(t,"checkHybriDevices",function(){return w}),o.d(t,"closePopup",function(){return y}),o.d(t,"getUrlParameter",function(){return b}),o.d(t,"emptyAuthorBox",function(){return _}),o.d(t,"callHotjarTrigger",function(){return k});var n,i=o(1),a=o(37),r=o(0),c=o(7),l=o(44);function s(e){"touchstart"==e.type&&this.touchstart&&!document.body.classList.contains("notouch")||("touchstart"==e.type&&(this.touchstart=!0),"mousemove"==e.type&&!this.touchstart&&document.body.classList.contains("notouch")||(this.touchstart?document.body.classList.remove("notouch"):document.body.classList.add("notouch"),"mousemove"==e.type&&(this.touchstart=!1)))}$(function(){var e=navigator.userAgent.toLowerCase(),t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e),o=window.innerWidth<=768&&window.innerHeight<=600;window.isMobile=t||o,$(document).on("mouseleave",".icon--item",function(e){var t=this.querySelector(".popover");t&&t.querySelector("button.popover-button.active")&&(t.classList.remove("popover-left"),t.classList.remove("popover-right"),t.querySelector("button.popover-button.active").classList.remove("active"),t.querySelector("div.popover-content.show-menu").classList.remove("show-menu"))}),$(document).on("click","#share-btn button",function(){this.parentNode.querySelector("input.input-share-url").value=document.location.href}),$(".grid_selector input[name=grid]").on("change",function(){var e=document.querySelector(".search-result .icons");if(e){localStorage.setItem("grid_size",this.value),e.classList.toggle("big","big"==this.value),$(window).trigger("resize");var t="big"==this.value?128:64;[].forEach.call(e.querySelectorAll(".icon--item img"),function(e){e.width=t,e.height=t})}}),"IE"==i.g()&&$("body").addClass("isIE"),(n="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)?$(window).on("touchstart mousemove",s):document.body.classList.add("notouch"),function(){var e=document.querySelector(".detail-footer .license");e&&(gr.auth.me.premium&&1==document.querySelector("#download-form #selection").value?e.classList.add("hidden"):e.classList.remove("hidden"))}(),/Android [4-6]\.[0-9]/.test(navigator.appVersion)&&window.addEventListener("resize",function(){"INPUT"==document.activeElement.tagName&&document.activeElement.scrollIntoViewIfNeeded()}),$(document).on("click",".modal-trigger",function(e){document.getElementById(this.dataset.modal).checked=!0,e.preventDefault()}),$(document).on("click",".modal-close",function(e){void 0!==$(this)&&void 0!==$(this).parents("div.modal")[0]&&($(this).parents("div.modal")[0].get(".modal-state").checked=!1,document.querySelector("body").classList.remove("modal-open"),e.preventDefault())}),$(".modal-inner").on("click",function(e){e.stopPropagation()}),$(".modal-fade-screen").on("click",function(){[].forEach.call(document.find(".modal-state"),function(e){i.f(e),r.e.Downloads.cleanFormatValue()})}),$(document).on("contextmenu",".icon--item:not(.icon-upload)",function(e){var t=this.querySelector("div.popover");t.querySelector("button.popover-button").classList.add("active"),t.querySelector("div.popover-content").classList.add("show-menu");h(t,230),e.preventDefault()}),g(),$(document).on("click",".alert .close-alert",function(e){$(this).parent().removeClass("zoomIn").addClass("zoomOut").slideUp(300),e.preventDefault()}),$(document).on("mouseup",function(e){var t=e.target;t.parentNode&&2!==e.button&&(0===t.classList.length||t.classList.contains("active")||t.parentNode.classList.contains("active")||t.classList.contains("popover-container")||[].some.call(t.parents(),function(e){return e.classList.contains("popover-container")})||([].forEach.call(document.find(".popover-content"),function(e){e.parentNode.classList.contains("popover-not-close")||e.classList.remove("show-menu")}),[].forEach.call(document.find(".popover-button"),function(e){e.parentNode.classList.contains("popover-not-close")||e.classList.remove("active")})))}),$(document).on("click",".popover-button",function(e){!function(e,t){var o=t.parentElement.parentElement.get(".popover-content"),n=o.parentElement.parentElement;t.classList.contains("active")?(o.classList.remove("show-menu"),t.classList.remove("active")):([].forEach.call(Object(i.a)(".popover-content"),function(e){if(e==o)return!0;e.classList.remove("show-menu")}),[].forEach.call(Object(i.a)(".popover-button"),function(e){e.classList.remove("active")}),[].forEach.call(Object(i.a)(".popover"),function(e){if(e==o)return!0;e.classList.contains("hToggleRender")&&e.classList.remove("popover-right"),e.classList.contains("vToggleRender")&&(e.classList.remove("popover-top"),e.classList.remove("popover-button"))}),o.classList.add("show-menu"),t.classList.add("active"));n.classList.contains("hToggleRender")&&(h(n,230),f(tooltip,230));n.classList.contains("vToggleRender")&&function(e,t){e.querySelector("button.popover-button").getBoundingClientRect().bottom>window.innerHeight-t?e.classList.add("popover-top"):e.classList.add("popover-bottom")}(n,100);e.stopPropagation()}(e,this)}),function(){var e=$(".fullscreen"),t=window.innerWidth,o=window.innerHeight;if(0===e.length)return;if(t<=768)return;$(document).ready(onresize()),$(window).on("resize",function(n){var i="resize"!==n.type||t!==window.innerWidth&&o!==window.innerHeight,a=(a=e.data("fullscreen"))?a:8640,r=e.find("> *").outerHeight(!0);window.innerWidth<=a&&window.innerHeight>r?!i&&_touch||e.css("height",window.innerHeight-56):e.removeAttr("style");t=window.innerWidth,o=window.innerHeight})}(),document.body.click(),a.a.add(function(){document.querySelector(".list-options"),document.querySelector(".search-data")});try{var u=parseInt(localStorage.time_valuation);u&&!isNaN(u)||(u=0);var m=Object(i.a)("#form_valuation");m&&(parseInt(localStorage.time_valuation,10)%70==0?m.classList.add("active"):m.classList.remove("active")),localStorage.time_valuation=++u}catch(e){}function p(){Object(i.a)("#valuation_text").value="",Object(i.a)("#id_last_valuation").value="",Object(i.a)("#valuation_comment_panel").style.display="none",Object(i.a)("#form_valuation").classList.remove("active"),Object(i.a)("#valuation_congrat").style.display="none",document.getElementById("trustpilotNPS").style.display="none",Object(i.a)("#valuation_panel").style.display="block"}$("#open_panel").on("click",function(){this.parent("#form_valuation").classList.toggle("active")}),$("#form_valuation").on("submit",function(e){e.preventDefault();var t=Object(i.a)("#id_last_valuation"),o=Object(i.a)("#valuation_text");if(o.value.trim().length)if(window.FeatureFlag.isEnabled("user_oauth")){let e="ajax/valuations/send-user-comment",n={id:t.value,comment:o.value};n=JSON.stringify(n),Object(c.a)(e,{method:"POST",headers:{"Content-Type":"application/json"},data:n})}else gr.request.post("valuations/send_user_comment",{id:t.value,comment:o.value});Object(i.a)("#valuation_comment_panel").style.display="none",Object(i.a)("#valuation_congrat").style.display="block",setTimeout(function(){p()},3e3)}),$("#no_thanks").on("click",p),document.getElementById("no_thanks_trustpilot").addEventListener("click",p);($(".valuation_response").on("click",function(e){navigator.appName;var t,o=navigator.userAgent,n=[],a=o.match(/(opera|chrome|safari|firefox|msie|maxthon|lunascape)\/?\s*(\.?\d+(\.\d+)*)/i);if(a&&null!==(t=o.match(/version\/([\.\d]+)/i))&&(a[2]=t[1]),n.name=a[1],n.version=a[2],"9"===this.dataset.value||"10"===this.dataset.value?(document.getElementById("valuation_panel").style.display="none",document.getElementById("valuation_comment_panel").style.display="none",document.getElementById("trustpilotNPS").style.display="block"):(Object(i.a)("#valuation_panel").style.display="none",Object(i.a)("#valuation_comment_panel").style.display="block"),window.FeatureFlag.isEnabled("user_oauth")){let e="ajax/valuations/send-valuation",t={value:this.dataset.value,question:Object(i.a)("#valuation_question_id").value,browser:n.name,browser_version:n.version,language:LANGUAGE_SHORT};t=JSON.stringify(t),Object(c.a)(e,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{document.getElementById("id_last_valuation").value=e.data.id})}else gr.request.post("valuations/send_valuation",{value:this.dataset.value,question:Object(i.a)("#valuation_question_id").value,browser:n.name,browser_version:n.version,language:LANGUAGE_SHORT})}),$(document).on("keyup",function(e){e.preventDefault(),27==e.which&&[].forEach.call(document.find(".popover-content"),function(e){e.classList.remove("show-menu")})}),$(".reset-input").off(),$(document).on("click",".reset-input",function(){return""!==$(this).siblings("input").val()?$(this).siblings("input").val("").focus():"username"!=$(this).siblings("input").attr("id")&&"email"!=$(this).siblings("input").attr("id")&&$(this).siblings("input").attr("placeholder",""),$(this).siblings("input").removeClass("error").parent().next("span.error").remove(),!1}),$(document).on("click",".reset-textarea",function(){return""!==$(this).siblings("textarea").val()&&$(this).siblings("textarea").val("").focus(),$(this).siblings("textarea").removeClass("error").parent().next("span.error").remove(),!1}),$(".input-group input, .textarea-group textarea").off(),$(".input-group input, .textarea-group textarea").on("blur",function(){$(this).val()?$(this).addClass("hascontent"):($(this).removeClass("hascontent"),$(this).attr("placeholder")&&this.addClass("hascontent"))}),$(".input-group input, .textarea-group textarea").on("keyup",function(){$(this).removeClass("error").parent().next("span.error").remove(),"password"!=$(this).attr("id")&&"repeat_password"!=$(this).attr("id")||($("#password").removeClass("error").parent().next("span.error").remove(),$("#repeat_password").removeClass("error").parent().next("span.error").remove())}),$(".input-group input, .textarea-group textarea").each(function(){$(this).val()?$(this).addClass("hascontent"):($(this).removeClass("hascontent"),$(this).attr("placeholder")&&this.addClass("hascontent"))}),Object(i.a)(".tabs")&&tabs(),document.querySelector(".home_search_input"))&&w(".home_search_input");document.querySelector(".search-holder form")&&w(".search-holder form");function w(e){document.querySelector(e).addEventListener("submit",function(e){e.preventDefault();var t=e.target.querySelector('input[name="word"]');if(null!==t){var o=t.value.trim(),a=i.h(o);t.value=a;var r=!1;if(e.target.querySelectorAll('input[type="hidden"]').forEach(function(e){r=r||e.value.length>0}),r=!1,a.length<1&&!r)return i.d.warning(messages.search.search,messages.search.minimal_characters,0),!1;!function(e,t){void 0!==gr.sponsor&&null!=gr.sponsor&&(n||"function"!=typeof gr.sponsor.popup.launch||~~gr.auth.me.premium||gr.sponsor.popup.launch());var o=i.m(e)&&"korean"==language,a=i.l(e)&&"russian"==language,r=i.i(e),c=document.querySelector(".search-holder .type-selector input[name=type]:checked").value;e.length&&(""!==r||o||a)?$.ajax({cache:!1,type:"post",data:{word:e,type:c},url:APP_URL+"stats/search",success:function(){window.FeatureFlag.isEnabled("filters_v2")?Object(l.b)():d()},error:function(){window.FeatureFlag.isEnabled("filters_v2")?Object(l.b)():d()}}):window.FeatureFlag.isEnabled("filters_v2")?Object(l.b)():d()}(a,e.target)}})}function y(){let e,t=navigator.userAgent,o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(o[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===o[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&o.splice(1,1,e[1]),o.join(" "))}$(".reset-textarea").on("click",function(){return""!==$(this).siblings("textarea").val()&&$(this).siblings("textarea").val("").focus(),$(this).siblings("textarea").removeClass("error").parent().next("span.error").remove(),!1}),$(document).on("click",".selectInput",function(){this.select()}),function(){var e="DOLLAR",t="US",o=["EURO","DOLLAR"];i.b.get("currency")&&i.b.get("country")?(e=i.b.get("currency"),t=i.b.get("country")):$.ajax({cache:!1,type:"post",dataType:"json",url:APP_URL+"usercur",success:function(n){e=n.cur&&-1!=o.indexOf(n.cur)?n.cur:e,t=n.code?n.code:t,i.b.set("currency",e,2),i.b.set("country",t,2)}})}(),v(),document.addEventListener("click",function(e){for(var t=e.target;t;){if(void 0!=t.dataset&&t.dataset[Logs.dataKey]){Logs.pushLog(t.dataset[Logs.dataKey]);break}t=t.parentNode}},!1),function(){let e=document.querySelector(".link-editor"),t=y().split(" ")[0];"Edge"!=t&&"Opera"!=t&&"IE"!=t||e.classList.add("hide")}(),_()});const d=()=>{let e=Array.from(document.querySelectorAll(".search-view-filters input:checked"));const t=document.querySelector(".search-holder form input[name=word]"),o=document.querySelector(".home_search_input.fake-search input[name=word]"),n=document.querySelector("[data-section=main_search_author]");document.querySelector(".search-holder .type-selector input[name=type]:checked");let i=!!e.find(e=>"sticker"==e.value),a=t&&t.value.length>0?`${t.name}=${t.value}`:`${o.name}=${o.value}`;var r,c=[],l="";if(c.push(a),n&&c.push(`author_id=${n.dataset.value}`),void 0===e||i||e.forEach(function(e){if(void 0!==e.name&&void 0!==e.value&&""!=e.name&&""!=e.dataset.value&&-1==e.name.indexOf("-")&&"license"==e.name){if("style"!=e.name||"gradient"!=e.dataset.value&&"lineal-color"!=e.dataset.value&&"flat"!=e.dataset.value&&"hand-drawn"!=e.dataset.value||(e.name="filter_style"),"style"==e.name&&("linear"==e.dataset.value||"filled"==e.dataset.value||"multicolor"==e.dataset.value)){let t=e.dataset.style.replace(",","&");(t=t.split("|")).shift(),t[0]=t[0].replace(",","&"),t=t.join("="),e.name="color",e.dataset.value=t}let t=e.dataset.value?e.dataset.value:e.value;"order_by"==e.name&&(t=e.value),c.push(e.name+"="+t)}}),c.length&&(l="?"+c.join("&")),document.querySelector("form #main-search-current_section")&&document.querySelector("form #main-search-current_section").value)return void(window.location.href=document.querySelector(".main_search_bar").action+l);let s;r=document.querySelector(".search-holder .type-selector input[name=type]:checked"),s=document.querySelector(".search-holder .type-selector input[name=search-group]:checked"),1==c.length&&"interface-icons"==r.dataset.type&&(l=l.concat("&ec=all")),"interface-icons"===r.value&&(r.value="icon"),window.location.href=s?s.getAttribute("data-url")+l+`&type=${r.value}`:r.getAttribute("data-url")+l+`&type=${r.value}`};function u(e,t){if((t=t||gr.auth.me.id)&&e){var o=Math.floor(t/1e3);return STATIC_URL+"user_icons/"+o+"/"+t+"/"+e+".svg"}}function m(e){var t=document.getElementById("icons_downloaded_counters"),o=document.getElementById("essentials");o&&o.classList.contains("active")||null!==t&&setTimeout(function(){gr.auth.me.id&&$.ajax({cache:!1,dataType:"json",xhrFields:{withCredentials:!0},url:FLATICON_DOWNLOAD_URL+"ajax/download/user-stats",success:function(e){void 0!==e&&void 0!==t&&void 0!==e&&e.max&&(t.classList.remove("hidden"),t.innerHTML=p(e.now)+"/"+p(e.max))}})},e)}function p(e){return parseInt(e,10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function h(e,t){if(document.querySelector(".detail--v2 .icons"))var o=e.querySelector("button.popover-button").getBoundingClientRect().left-document.querySelector(".detail--v2 .icons").getBoundingClientRect().left;else o=e.querySelector("button.popover-button").getBoundingClientRect().left;e.classList.contains("collectionIcon")&&(t=180+document.getElementById("collections-holder").getBoundingClientRect().left),o<t?e.classList.add("popover-right"):e.classList.add("popover-left")}function f(e,t){if(document.querySelector(".detail--v2 .icons"))var o=e.querySelector(".tooltip__content").getBoundingClientRect().left-document.querySelector(".detail--v2 .icons").getBoundingClientRect().left;else o=e.querySelector(".tooltip__content").getBoundingClientRect().left;e.classList.contains("collectionIcon")&&(t=180+document.getElementById("collections-holder").getBoundingClientRect().left),e.classList.contains("icon--item__premium-badge")||(o<=t?(e.classList.remove("tooltip--left"),e.classList.add("tooltip--right")):(e.classList.add("tooltip--left"),e.classList.remove("tooltip--right")))}function g(){document.querySelectorAll(".icon--item .tooltip").forEach(e=>{e.addEventListener("mouseenter",e=>{f(e.target,230),e.preventDefault()})})}function v(e){e||(e=window.location.href);var t=!0;if(["downloads-abuse","downloads-limit","limite-descargas","abuso-descargas","user/follow/author/list"].forEach(function(o){-1!=e.indexOf(o)&&(t=!1)}),t){var o=new Date;o.setTime(o.getTime()+36e5);var n="; expires="+o.toGMTString(),i=null;try{var a=new URL(e),r=a.searchParams,c=Date.now().toString();r.has("k")?r.set("k",c):r.append("k",c),i=a.origin+a.pathname+"?"+r.toString()}catch(t){i=e}var l="CB_URL="+i+n+";path=/;domain="+window.location.host.replace(/[^.]+\./,"");document.cookie=l}}function w(){(n="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.body.classList.add("notouch")}function y(e){for(;(e=e.parentElement)&&!e.classList.contains("popover-container"););e.querySelector(".popover-button").classList.remove("active"),e.querySelector(".popover-content").classList.remove("show-menu")}function b(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function _(){const e=document.querySelectorAll(".box--author .box--author-pt2");if(e)for(const t of e)if(1==t.children.length){let e=0;for(;e<2;){const o=document.createElement("div");o.innerHTML='<div class="img-wrapper"></div>',o.classList.add("sprite"),o.classList.add("empty"),t.insertAdjacentElement("beforeend",o),e++}}else if(2==t.children.length){const e=document.createElement("div");e.innerHTML='<div class="img-wrapper"></div>',e.classList.add("sprite"),e.classList.add("empty"),t.insertAdjacentElement("beforeend",e)}}function k(e){window.hj&&"function"==typeof window.hj&&hj("trigger",e)}r.e.valuation_request_comment=function(e){Object(i.a)("#id_last_valuation").value=e.id}},132:function(e,t,o){o(316),o(192),o(193),o(194),o(195),o(55),o(196),o(197),o(198),e.exports=o(32)},133:function(e,t,o){var n;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(i,a,r,c){"use strict";function l(e,t,o){return setTimeout(p(e,o),t)}function s(e,t,o){return!!Array.isArray(e)&&(d(e,o[t],o),!0)}function d(e,t,o){var n;if(e)if(e.forEach)e.forEach(t,o);else if(e.length!==c)for(n=0;n<e.length;)t.call(o,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(o,e[n],n,e)}function u(e,t,o){var n="DEPRECATED METHOD: "+t+"\n"+o+" AT \n";return function(){var t=new Error("get-stack-trace"),o=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=i.console&&(i.console.warn||i.console.log);return a&&a.call(i.console,n,o),e.apply(this,arguments)}}function m(e,t,o){var n,i=t.prototype;(n=e.prototype=Object.create(i)).constructor=e,n._super=i,o&&ne(n,o)}function p(e,t){return function(){return e.apply(t,arguments)}}function h(e,t){return typeof e==re?e.apply(t&&t[0]||c,t):e}function f(e,t){return e===c?t:e}function g(e,t,o){d(b(t),function(t){e.addEventListener(t,o,!1)})}function v(e,t,o){d(b(t),function(t){e.removeEventListener(t,o,!1)})}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function y(e,t){return e.indexOf(t)>-1}function b(e){return e.trim().split(/\s+/g)}function _(e,t,o){if(e.indexOf&&!o)return e.indexOf(t);for(var n=0;n<e.length;){if(o&&e[n][o]==t||!o&&e[n]===t)return n;n++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function S(e,t,o){for(var n=[],i=[],a=0;a<e.length;){var r=t?e[a][t]:e[a];_(i,r)<0&&n.push(e[a]),i[a]=r,a++}return o&&(n=t?n.sort(function(e,o){return e[t]>o[t]}):n.sort()),n}function E(e,t){for(var o,n,i=t[0].toUpperCase()+t.slice(1),a=0;a<ie.length;){if((n=(o=ie[a])?o+i:t)in e)return n;a++}return c}function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}function I(e,t){var o=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){h(e.options.enable,[e])&&o.handler(t)},this.init()}function q(e,t,o){var n=o.pointers.length,i=o.changedPointers.length,a=t&ye&&n-i==0,r=t&(_e|ke)&&n-i==0;o.isFirst=!!a,o.isFinal=!!r,a&&(e.session={}),o.eventType=t,function(e,t){var o=e.session,n=t.pointers,i=n.length;o.firstInput||(o.firstInput=C(t)),i>1&&!o.firstMultiple?o.firstMultiple=C(t):1===i&&(o.firstMultiple=!1);var a=o.firstInput,r=o.firstMultiple,c=r?r.center:a.center,l=t.center=T(n);t.timeStamp=se(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=P(c,l),t.distance=$(c,l),function(e,t){var o=t.center,n=e.offsetDelta||{},i=e.prevDelta||{},a=e.prevInput||{};t.eventType!==ye&&a.eventType!==_e||(i=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=e.offsetDelta={x:o.x,y:o.y}),t.deltaX=i.x+(o.x-n.x),t.deltaY=i.y+(o.y-n.y)}(o,t),t.offsetDirection=O(t.deltaX,t.deltaY);var s=A(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=s.x,t.overallVelocityY=s.y,t.overallVelocity=le(s.x)>le(s.y)?s.x:s.y,t.scale=r?function(e,t){return $(t[0],t[1],Oe)/$(e[0],e[1],Oe)}(r.pointers,n):1,t.rotation=r?function(e,t){return P(t[1],t[0],Oe)+P(e[1],e[0],Oe)}(r.pointers,n):0,t.maxPointers=o.prevInput?t.pointers.length>o.prevInput.maxPointers?t.pointers.length:o.prevInput.maxPointers:t.pointers.length,x(o,t);var d=e.element;w(t.srcEvent.target,d)&&(d=t.srcEvent.target),t.target=d}(e,o),e.emit("hammer.input",o),e.recognize(o),e.session.prevInput=o}function x(e,t){var o,n,i,a,r=e.lastInterval||t,l=t.timeStamp-r.timeStamp;if(t.eventType!=ke&&(l>we||r.velocity===c)){var s=t.deltaX-r.deltaX,d=t.deltaY-r.deltaY,u=A(l,s,d);n=u.x,i=u.y,o=le(u.x)>le(u.y)?u.x:u.y,a=O(s,d),e.lastInterval=t}else o=r.velocity,n=r.velocityX,i=r.velocityY,a=r.direction;t.velocity=o,t.velocityX=n,t.velocityY=i,t.direction=a}function C(e){for(var t=[],o=0;o<e.pointers.length;)t[o]={clientX:ce(e.pointers[o].clientX),clientY:ce(e.pointers[o].clientY)},o++;return{timeStamp:se(),pointers:t,center:T(t),deltaX:e.deltaX,deltaY:e.deltaY}}function T(e){var t=e.length;if(1===t)return{x:ce(e[0].clientX),y:ce(e[0].clientY)};for(var o=0,n=0,i=0;t>i;)o+=e[i].clientX,n+=e[i].clientY,i++;return{x:ce(o/t),y:ce(n/t)}}function A(e,t,o){return{x:t/e||0,y:o/e||0}}function O(e,t){return e===t?Se:le(e)>=le(t)?0>e?Ee:Le:0>t?Ie:qe}function $(e,t,o){o||(o=Ae);var n=t[o[0]]-e[o[0]],i=t[o[1]]-e[o[1]];return Math.sqrt(n*n+i*i)}function P(e,t,o){o||(o=Ae);var n=t[o[0]]-e[o[0]],i=t[o[1]]-e[o[1]];return 180*Math.atan2(i,n)/Math.PI}function j(){this.evEl=Pe,this.evWin=je,this.pressed=!1,I.apply(this,arguments)}function F(){this.evEl=Ue,this.evWin=Ne,I.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Re,this.evWin=Me,this.started=!1,I.apply(this,arguments)}function U(){this.evTarget=Xe,this.targetIds={},I.apply(this,arguments)}function N(){I.apply(this,arguments);var e=p(this.handler,this);this.touch=new U(this.manager,e),this.mouse=new j(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function D(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var o={x:t.clientX,y:t.clientY};this.lastTouches.push(o);var n=this.lastTouches;setTimeout(function(){var e=n.indexOf(o);e>-1&&n.splice(e,1)},ze)}}function R(e,t){this.manager=e,this.set(t)}function M(e){this.options=ne({},this.defaults,e||{}),this.id=me++,this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=ot,this.simultaneous={},this.requireFail=[]}function H(e){return e&ct?"cancel":e&at?"end":e&it?"move":e&nt?"start":""}function X(e){return e==qe?"down":e==Ie?"up":e==Ee?"left":e==Le?"right":""}function z(e,t){var o=t.manager;return o?o.get(e):e}function Y(){M.apply(this,arguments)}function G(){Y.apply(this,arguments),this.pX=null,this.pY=null}function W(){Y.apply(this,arguments)}function V(){M.apply(this,arguments),this._timer=null,this._input=null}function J(){Y.apply(this,arguments)}function K(){Y.apply(this,arguments)}function Q(){M.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Z(e,t){return(t=t||{}).recognizers=f(t.recognizers,Z.defaults.preset),new ee(e,t)}function ee(e,t){this.options=ne({},Z.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(he?F:fe?U:pe?N:j))(e,q)}(this),this.touchAction=new R(this,this.options.touchAction),te(this,!0),d(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function te(e,t){var o,n=e.element;n.style&&(d(e.options.cssProps,function(i,a){o=E(n.style,a),t?(e.oldCssProps[o]=n.style[o],n.style[o]=i):n.style[o]=e.oldCssProps[o]||""}),t||(e.oldCssProps={}))}function oe(e,t){var o=a.createEvent("Event");o.initEvent(e,!0,!0),o.gesture=t,t.target.dispatchEvent(o)}var ne,ie=["","webkit","Moz","MS","ms","o"],ae=a.createElement("div"),re="function",ce=Math.round,le=Math.abs,se=Date.now;ne="function"!=typeof Object.assign?function(e){if(e===c||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),o=1;o<arguments.length;o++){var n=arguments[o];if(n!==c&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}:Object.assign;var de=u(function(e,t,o){for(var n=Object.keys(t),i=0;i<n.length;)(!o||o&&e[n[i]]===c)&&(e[n[i]]=t[n[i]]),i++;return e},"extend","Use `assign`."),ue=u(function(e,t){return de(e,t,!0)},"merge","Use `assign`."),me=1,pe="ontouchstart"in i,he=E(i,"PointerEvent")!==c,fe=pe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ge="touch",ve="mouse",we=25,ye=1,be=2,_e=4,ke=8,Se=1,Ee=2,Le=4,Ie=8,qe=16,xe=Ee|Le,Ce=Ie|qe,Te=xe|Ce,Ae=["x","y"],Oe=["clientX","clientY"];I.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(L(this.element),this.evWin,this.domHandler)}};var $e={mousedown:ye,mousemove:be,mouseup:_e},Pe="mousedown",je="mousemove mouseup";m(j,I,{handler:function(e){var t=$e[e.type];t&ye&&0===e.button&&(this.pressed=!0),t&be&&1!==e.which&&(t=_e),this.pressed&&(t&_e&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:ve,srcEvent:e}))}});var Fe={pointerdown:ye,pointermove:be,pointerup:_e,pointercancel:ke,pointerout:ke},Be={2:ge,3:"pen",4:ve,5:"kinect"},Ue="pointerdown",Ne="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&(Ue="MSPointerDown",Ne="MSPointerMove MSPointerUp MSPointerCancel"),m(F,I,{handler:function(e){var t=this.store,o=!1,n=e.type.toLowerCase().replace("ms",""),i=Fe[n],a=Be[e.pointerType]||e.pointerType,r=a==ge,c=_(t,e.pointerId,"pointerId");i&ye&&(0===e.button||r)?0>c&&(t.push(e),c=t.length-1):i&(_e|ke)&&(o=!0),0>c||(t[c]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),o&&t.splice(c,1))}});var De={touchstart:ye,touchmove:be,touchend:_e,touchcancel:ke},Re="touchstart",Me="touchstart touchmove touchend touchcancel";m(B,I,{handler:function(e){var t=De[e.type];if(t===ye&&(this.started=!0),this.started){var o=function(e,t){var o=k(e.touches),n=k(e.changedTouches);return t&(_e|ke)&&(o=S(o.concat(n),"identifier",!0)),[o,n]}.call(this,e,t);t&(_e|ke)&&o[0].length-o[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:o[0],changedPointers:o[1],pointerType:ge,srcEvent:e})}}});var He={touchstart:ye,touchmove:be,touchend:_e,touchcancel:ke},Xe="touchstart touchmove touchend touchcancel";m(U,I,{handler:function(e){var t=He[e.type],o=function(e,t){var o=k(e.touches),n=this.targetIds;if(t&(ye|be)&&1===o.length)return n[o[0].identifier]=!0,[o,o];var i,a,r=k(e.changedTouches),c=[],l=this.target;if(a=o.filter(function(e){return w(e.target,l)}),t===ye)for(i=0;i<a.length;)n[a[i].identifier]=!0,i++;for(i=0;i<r.length;)n[r[i].identifier]&&c.push(r[i]),t&(_e|ke)&&delete n[r[i].identifier],i++;return c.length?[S(a.concat(c),"identifier",!0),c]:void 0}.call(this,e,t);o&&this.callback(this.manager,t,{pointers:o[0],changedPointers:o[1],pointerType:ge,srcEvent:e})}});var ze=2500,Ye=25;m(N,I,{handler:function(e,t,o){var n=o.pointerType==ge,i=o.pointerType==ve;if(!(i&&o.sourceCapabilities&&o.sourceCapabilities.firesTouchEvents)){if(n)(function(e,t){e&ye?(this.primaryTouch=t.changedPointers[0].identifier,D.call(this,t)):e&(_e|ke)&&D.call(this,t)}).call(this,t,o);else if(i&&function(e){for(var t=e.srcEvent.clientX,o=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],a=Math.abs(t-i.x),r=Math.abs(o-i.y);if(Ye>=a&&Ye>=r)return!0}return!1}.call(this,o))return;this.callback(e,t,o)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ge=E(ae.style,"touchAction"),We=Ge!==c,Ve="compute",Je="auto",Ke="manipulation",Qe="none",Ze="pan-x",et="pan-y",tt=function(){if(!We)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(o){e[o]=!t||i.CSS.supports("touch-action",o)}),e}();R.prototype={set:function(e){e==Ve&&(e=this.compute()),We&&this.manager.element.style&&tt[e]&&(this.manager.element.style[Ge]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return d(this.manager.recognizers,function(t){h(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(y(e,Qe))return Qe;var t=y(e,Ze),o=y(e,et);return t&&o?Qe:t||o?t?Ze:et:y(e,Ke)?Ke:Je}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,o=e.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,i=y(n,Qe)&&!tt[Qe],a=y(n,et)&&!tt[et],r=y(n,Ze)&&!tt[Ze];if(i){var c=1===e.pointers.length,l=e.distance<2,s=e.deltaTime<250;if(c&&l&&s)return}return r&&a?void 0:i||a&&o&xe||r&&o&Ce?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ot=1,nt=2,it=4,at=8,rt=at,ct=16;M.prototype={defaults:{},set:function(e){return ne(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=z(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return s(e,"dropRecognizeWith",this)?this:(e=z(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return-1===_(t,e=z(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(s(e,"dropRequireFailure",this))return this;e=z(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){o.manager.emit(t,e)}var o=this,n=this.state;at>n&&t(o.options.event+H(n)),t(o.options.event),e.additionalEvent&&t(e.additionalEvent),n>=at&&t(o.options.event+H(n))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|ot)))return!1;e++}return!0},recognize:function(e){var t=ne({},e);return h(this.options.enable,[this,t])?(this.state&(rt|ct|32)&&(this.state=ot),this.state=this.process(t),void(this.state&(nt|it|at|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},m(Y,M,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,o=e.eventType,n=t&(nt|it),i=this.attrTest(e);return n&&(o&ke||!i)?t|ct:n||i?o&_e?t|at:t&nt?t|it:nt:32}}),m(G,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:Te},getTouchAction:function(){var e=this.options.direction,t=[];return e&xe&&t.push(et),e&Ce&&t.push(Ze),t},directionTest:function(e){var t=this.options,o=!0,n=e.distance,i=e.direction,a=e.deltaX,r=e.deltaY;return i&t.direction||(t.direction&xe?(i=0===a?Se:0>a?Ee:Le,o=a!=this.pX,n=Math.abs(e.deltaX)):(i=0===r?Se:0>r?Ie:qe,o=r!=this.pY,n=Math.abs(e.deltaY))),e.direction=i,o&&n>t.threshold&&i&t.direction},attrTest:function(e){return Y.prototype.attrTest.call(this,e)&&(this.state&nt||!(this.state&nt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=X(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),m(W,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Qe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&nt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),m(V,M,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Je]},process:function(e){var t=this.options,o=e.pointers.length===t.pointers,n=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!n||!o||e.eventType&(_e|ke)&&!i)this.reset();else if(e.eventType&ye)this.reset(),this._timer=l(function(){this.state=rt,this.tryEmit()},t.time,this);else if(e.eventType&_e)return rt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===rt&&(e&&e.eventType&_e?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=se(),this.manager.emit(this.options.event,this._input)))}}),m(J,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Qe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&nt)}}),m(K,Y,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:xe|Ce,pointers:1},getTouchAction:function(){return G.prototype.getTouchAction.call(this)},attrTest:function(e){var t,o=this.options.direction;return o&(xe|Ce)?t=e.overallVelocity:o&xe?t=e.overallVelocityX:o&Ce&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&o&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&le(t)>this.options.velocity&&e.eventType&_e},emit:function(e){var t=X(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),m(Q,M,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ke]},process:function(e){var t=this.options,o=e.pointers.length===t.pointers,n=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&ye&&0===this.count)return this.failTimeout();if(n&&i&&o){if(e.eventType!=_e)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,r=!this.pCenter||$(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,r&&a?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=rt,this.tryEmit()},t.interval,this),nt):rt}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Z.VERSION="2.0.7",Z.defaults={domEvents:!1,touchAction:Ve,enable:!0,inputTarget:null,inputClass:null,preset:[[J,{enable:!1}],[W,{enable:!1},["rotate"]],[K,{direction:xe}],[G,{direction:xe},["swipe"]],[Q],[Q,{event:"doubletap",taps:2},["tap"]],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ee.prototype={set:function(e){return ne(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var o,n=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&rt)&&(i=t.curRecognizer=null);for(var a=0;a<n.length;)o=n[a],2===t.stopped||i&&o!=i&&!o.canRecognizeWith(i)?o.reset():o.recognize(e),!i&&o.state&(nt|it|at)&&(i=t.curRecognizer=o),a++}},get:function(e){if(e instanceof M)return e;for(var t=this.recognizers,o=0;o<t.length;o++)if(t[o].options.event==e)return t[o];return null},add:function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(s(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,o=_(t,e);-1!==o&&(t.splice(o,1),this.touchAction.update())}return this},on:function(e,t){if(e!==c&&t!==c){var o=this.handlers;return d(b(e),function(e){o[e]=o[e]||[],o[e].push(t)}),this}},off:function(e,t){if(e!==c){var o=this.handlers;return d(b(e),function(e){t?o[e]&&o[e].splice(_(o[e],t),1):delete o[e]}),this}},emit:function(e,t){this.options.domEvents&&oe(e,t);var o=this.handlers[e]&&this.handlers[e].slice();if(o&&o.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<o.length;)o[n](t),n++}},destroy:function(){this.element&&te(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ne(Z,{INPUT_START:ye,INPUT_MOVE:be,INPUT_END:_e,INPUT_CANCEL:ke,STATE_POSSIBLE:ot,STATE_BEGAN:nt,STATE_CHANGED:it,STATE_ENDED:at,STATE_RECOGNIZED:rt,STATE_CANCELLED:ct,STATE_FAILED:32,DIRECTION_NONE:Se,DIRECTION_LEFT:Ee,DIRECTION_RIGHT:Le,DIRECTION_UP:Ie,DIRECTION_DOWN:qe,DIRECTION_HORIZONTAL:xe,DIRECTION_VERTICAL:Ce,DIRECTION_ALL:Te,Manager:ee,Input:I,TouchAction:R,TouchInput:U,MouseInput:j,PointerEventInput:F,TouchMouseInput:N,SingleTouchInput:B,Recognizer:M,AttrRecognizer:Y,Tap:Q,Pan:G,Swipe:K,Pinch:W,Rotate:J,Press:V,on:g,off:v,each:d,merge:ue,extend:de,assign:ne,inherit:m,bindFn:p,prefixed:E}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Z,void 0===(n=function(){return Z}.call(t,o,t,e))||(e.exports=n)}(window,document)},192:function(e,t,o){"use strict";o.r(t);var n=o(55),i=o(27),a=o(26),r=o(10);$(function(){$(window).on("load",function(){setTimeout(function(e){$(window).on("popstate",function(){return history.state&&document.querySelector("#detail-overlay.loading")?void i.a.close():void 0})},0)}),$(document).on("keydown",function(e){var t=document.querySelectorAll(".collection .collection-content.edit-mode .icons .collectionIcon .edit .collection-icon-rename, .collection .collection-header .edit-name.active .collection-name-input");if(![].some.call(t,function(e){return e==document.activeElement})&&(document.querySelector("#detail-overlay.loading")?(27==e.keyCode&&(Detail.close(),i.a.pushState({page:"pagination"},document.title,i.a.prev_url),Object(r.store_url)(i.a.prev_url)),39==e.keyCode&&i.a.getNextElement(i.a.id),37==e.keyCode&&i.a.getPrevElement(i.a.id),13==e.keyCode&&(window.location.href=window.location.href)):document.getElementById("pagination-page")&&"undefined"!=typeof axScript&&(39==e.keyCode&&n.INFINITY.infinityLoaderBtn(axScript,"next"),37==e.keyCode&&n.INFINITY.infinityLoaderBtn(axScript,"prev")),document.getElementById("download-form"))){var o=parseInt(document.getElementById("icon_id").value,10),a=document.getElementById("keyword").value,c=parseInt(document.getElementById("team").value,10),l=parseInt(document.getElementById("colored").value,10),s=parseInt(document.querySelector("#download-form #premium").value,10);if(!(window.db instanceof Object))return;var d=Collection.getActive();if(!d)return;var u=window.db.queryAll(d.bookmark_id,{query:{id:o}}).length;if(107==e.keyCode||187==e.keyCode||171==e.keyCode){if(u)return;Widget.addIcon(o,a,c,l,s)}if(109==e.keyCode||189==e.keyCode||173==e.keyCode){if(!u)return;Widget.delIcon(o,a,c)}}}),"function"==typeof a.f&&Object(a.f)()});window.History},193:function(e,t,o){!function(){var t=function(e,o){var i=this;this.input=n(e),this.input.setAttribute("autocomplete","off"),o=o||{},function(e,t,o){for(var n in t){var i=t[n],a=e.input.getAttribute("data-"+n.toLowerCase());"number"==typeof i?e[n]=parseInt(a):!1===i?e[n]=null!==a:i instanceof Function?e[n]=null:e[n]=a,e[n]||0===e[n]||(e[n]=n in o?o[n]:i)}}(this,{minChars:2,maxItems:10,autoFirst:!1,filter:t.FILTER_CONTAINS,sort:t.SORT_BYLENGTH,item:t.ITEM,replace:t.REPLACE},o),this.index=-1,this.container=n.create("div",{className:"awesomplete",around:e}),this.ul=n.create("ul",{hidden:"hidden",inside:this.container}),this.status=n.create("span",{hidden:"hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),n.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(e){var t=e.keyCode;i.opened&&(13===t&&i.selected?(e.preventDefault(),i.select()):27===t?i.close():38!==t&&40!==t||(e.preventDefault(),i[38===t?"previous":"next"]()))}}),n.bind(this.input.form,{submit:this.close.bind(this)}),n.bind(this.ul,{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&i.select(t,e.target)}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||o.list||[],t.all.push(this)};t.prototype={set list(e){Array.isArray(e)?this._list=e:"string"==typeof e&&e.indexOf(",")>-1?this._list=e.split(/\s*,\s*/):(e=n(e))&&e.children&&(this._list=o.apply(e.children).map(function(e){return e.textContent.trim()})),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return!this.ul.hasAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,n.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),n.fire(this.input,"awesomplete-open")},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:-1)},previous:function(){var e=this.ul.children.length;this.goto(this.selected?this.index-1:e-1)},goto:function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&t.length>0&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent),n.fire(this.input,"awesomplete-highlight")},select:function(e,t){((e=e||this.ul.children[this.index]).parentElement.classList.contains("autocomplete-icons")&&(t=e=e.parentElement.parent("li")),e)&&(n.fire(this.input,"awesomplete-select",{text:e.textContent,data:this.suggestions[n.siblingIndex(e)],originalTarget:t||e})&&(this.replace(e.textContent),this.close(),n.fire(this.input,"awesomplete-selectcomplete")))},evaluate:function(){var e=this,t=this.input.value;t.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.filter(function(o){return e.filter(o,t)}).slice(0,this.maxItems),this.suggestions.forEach(function(o){e.ul.appendChild(e.item(o,t))}),0===this.ul.children.length?this.close():this.open()):this.close()}},t.all=[],t.FILTER_CONTAINS=function(e,t){return RegExp(n.regExpEscape(t.trim()),"i").test(e)},t.FILTER_STARTSWITH=function(e,t){return RegExp("^"+n.regExpEscape(t),"i").test(e)},t.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},t.ITEM=function(e,t){var o=""===t?e:e.replace(RegExp(n.regExpEscape(t.toLowerCase().trim()),"gi"),"<mark>$&</mark>");return n.create("li",{innerHTML:o,"aria-selected":"false"})},t.REPLACE=function(e){this.input.value=e.toLowerCase()};var o=Array.prototype.slice;function n(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function i(e,t){return o.call((t||document).querySelectorAll(e))}function a(){i("input.awesomplete").forEach(function(e){new t(e)})}n.create=function(e,t){var o=document.createElement(e);for(var i in t){var a=t[i];if("inside"===i)n(a).appendChild(o);else if("around"===i){var r=n(a);r.parentNode.insertBefore(o,r),o.appendChild(r)}else i in o?o[i]=a:o.setAttribute(i,a)}return o},n.bind=function(e,t){if(e)for(var o in t){var n=t[o];o.split(/\s+/).forEach(function(t){e.addEventListener(t,n)})}},n.fire=function(e,t,o){var n=document.createEvent("HTMLEvents");for(var i in n.initEvent(t,!0,!0),o)n[i]=o[i];return e.dispatchEvent(n)},n.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},n.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)),t.$=n,t.$$=i,"undefined"!=typeof self&&(self.Awesomplete=t),e.exports&&(e.exports=t)}()},194:function(e,t,o){"use strict";o.r(t);var n=o(1),i=o(10),a=o(44);Element.prototype.hasOwnProperty("parent")||(Element.prototype.parent=function(e){var t=this.parents(e);return void 0===e&&t.reverse(),t&&t.length?t[0]:null}),$(function(){window.awesompletes=[];var e=null;[].forEach.call(document.querySelectorAll(".autocomplete"),function(e){e.classList.contains("home_search_input");var t=new Awesomplete(e,{minChars:2,item:function(e,t){var o={icons:0,items:[],tag_id:0,tag:""};for(var n in window.autocompleteTags)if(window.autocompleteTags[n].tag==e){o=window.autocompleteTags[n];break}o.hasOwnProperty("packs")&&(o.icons=o.packs);var i='<div class="text-container">\t\t\t\t<div class="text">$$</div></div>';return i=(i+="</ul>").replace("$$",e.toLowerCase().replace(new RegExp(t.toLowerCase(),"g"),"<mark>"+t.toLowerCase()+"</mark>")),Awesomplete.$.create("li",{innerHTML:i,"aria-selected":"false"})},sort:function(){}});if(window.awesompletes.push(t),!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)){let e=document.querySelector(".home_search_input");if(e){e.classList.add("ios");let t=document.querySelector(".home_search_input .awesomplete");t&&t.addEventListener("click",()=>{document.querySelector(".home_search_input .autocomplete").focus()})}}$(e).on("awesomplete-selectcomplete",function(t,o){e.value=e.value.trim().split("(")[0].trim();var n=e.parent("form");"undefined"!=typeof exec_search?exec_search():n.classList.contains("author_search")?n.submit():window.FeatureFlag.isEnabled("filters_v2")?Object(a.b)():Object(i.continue_exec_search)()}).on("blur",function(e){e.value=""})}),$(".autocomplete").on("keyup",function(t){var o=this.classList.contains("home_search_input");if(-1==[27,13,37,38,39,40,106,191].indexOf(t.keyCode)){"function"==typeof n.h?n.h(this.value):this.value;var i=encodeURIComponent(this.value).replace(/[']/g,escape),a=document.querySelector(".search-holder .type-selector input[name=type]:checked"),r=document.querySelector(".search-holder .type-selector input[name=search-group]:checked"),c=!1;r&&!o&&(c="packs"==r.getAttribute("data-type"));var l=c?APP_URL+"ajax/autocomplete_packs?term="+i:APP_URL+"ajax/autocomplete/"+i;if(a)l+=(c?"&":"?")+"type="+a.value;i&&i.length>1&&(e&&clearTimeout(e),function(t){e=setTimeout(()=>{$.ajax({url:encodeURI(t),type:"GET",success:function(e){let t=JSON.parse(e);!function(e,t){for(var o in window.autocomplete=[],window.autocompleteTags=e,e)window.autocomplete.push(e[o].tag);window.awesompletes.forEach(function(e){e.list=window.autocomplete})}(t)}})},400)}(l))}})})},195:function(e,t,o){"use strict";o.r(t);var n=o(6);void 0!==gr.sponsor&&gr.log("gr.sponsor ya está definido"),window.pu=function(e){var t=$(window).width()-200,o=$(window).height()-50,n="toolbar=0,statusbar=1,resizable=1,scrollbars=0,menubar=0,location=1,directories=0";-1!=navigator.userAgent.indexOf("Chrome")&&(n="scrollbar=yes");var i=window.open("about:blank","",n+",height="+o+",width="+t);return-1!=navigator.userAgent.indexOf("rv:2.")?(i.puPop=function(e){-1!=navigator.userAgent.indexOf("rv:2.")&&this.window.open("about:blank").close(),this.document.location.href=e},i.puPop(e)):i.document.location.href=e,setTimeout(window.focus,200),window.focus(),i?(i.moveTo(window.screenX+2,window.screenY+2),i.blur(),self.focus()):(done_pu=null,ifSP2=!1,"undefined"==typeof pu_window&&(pu_window=!1),window.SymRealWinOpen&&(open=SymRealWinOpen),window.NS_ActualOpen&&(open=NS_ActualOpen),ifSP2=-1!=navigator.userAgent.indexOf("SV1"),ifSP2?(window.Event&&document.captureEvents(Event.CLICK),document.onclick=do_clicked_pu):do_pu(),self.focus(),do_clicked_pu()),this},gr.sponsor={base_url:SPONSOR_BASE_URL,popup:{cookie_name:"launcher_popup",url:"undefined"!=typeof pu_url?pu_url:"",launch:function(){if(!isMobile&&"standard"==RESOURCE_TYPE){let e="",t="shutter-popup";const o=function(e){return n.a.getItem(`test_ab-${e}`)};"a"===o(t)?e="search_fl2_test_a":"b"===o(t)&&(e="search_fl2_test_b"),"b"!==o(t)&&Currency.getCountry().then(function(t){if("1"==gr.auth.me.premium)return!1;if(""===gr.sponsor.popup.url)return!1;if((window.FeatureFlag.isEnabled("user_oauth")?!n.a.getItem(gr.sponsor.popup.cookie_name):!gr.cookie(gr.sponsor.popup.cookie_name))&&!t.match(/MX|FR|TH|AU|IL/gi)){var o=gr.sponsor.popup.url;"undefined"!=typeof clientId&&clientId&&(o+="&track_sub_id4="+clientId),""!==e&&(o+="&track_sub_id2="+e);let t=document.querySelector('.main_search_bar input[name="word"]').value,n={type:"popup",searchTerm:t};EventTracker.printGA(n);let a=o.replace("[SEARCH]",t);pu(a),"undefined"!=typeof appf&&(language=""===appf?"_english":appf),"undefined"!=typeof ga&&ga("send","event","busquedas","show-popup",language,{dimension15:"true"});var i=new Date;i.setHours(i.getHours()+12),document.cookie=gr.sponsor.popup.cookie_name+"=1;expires="+i.toUTCString()+";domain="+document.domain+";path=/"}})}}},coupon:{cookie_name:"sponsor_coupon",coupon_url:"undefined"!=typeof SPONSOR_BASE_URL&&"undefined"!=typeof LANGUAGE?SPONSOR_BASE_URL+"coupons/popup?lang="+LANGUAGE+"&k="+(new Date).toISOString().substr(0,10):"http://ads.freepik.com/coupons/popup?lang=&k="+(new Date).toISOString().substr(0,10),launch:function(e){if("undefined"!=typeof disallow_coupon)return!1;$.get(gr.sponsor.coupon.coupon_url,function(t){$("#footer").after(t),EventTracker.printGA({type:"imp",section:"stockbanner"}),"function"==typeof e&&e()})}},get:function(e){if(void 0===e&&(e={}),void 0===e.container)return!1;gr.request.get(gr.sponsor.base_url+"banner/ajax_search",e)}}},196:function(e,t){function o(e){!function(e){var t=e.dataset.section,o="_id";"main_search_current_section"===t&&(o="");t=t.replace(/main_search_/,"main-search-")+o,document.getElementById(t).value=""}(e.parentNode),e.parentNode.remove(e)}$(document).on("click",".tag-field__items .remove",function(e){this.parent("form"),o(this)}),$(document).on("click",".filters_delete_tag",function(e){let t=document.querySelector('form[name="search-form"]');t&&(t.querySelector('input[name="style_id"]').value="")})},197:function(e,t,o){"use strict";o.r(t);var n=o(26),i=o(32);$(document).on("mousedown","section.related-styles *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-styles")}),$(document).on("mousedown","section.related-packs *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-packs")}),$(document).on("mousedown","section.related-tags *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-tags")}),$(document).on("click",".detail_equivalent_icons .link-icon-detail",function(e){if("viewport"==document.querySelector("section[id=detail]").parentNode.id)return window.location.href=`${this.href}${this.dataset.src}`,!1;ga("send","event","Detail-modal","Toggle-icon-style"),e.preventDefault();var t=~~this.dataset.id,o=Math.floor(t/1e3),a=~~this.dataset.premium,r=~~this.dataset.selection,c=~~this.dataset.color,l=document.querySelector(".detail_equivalent_icons .link-icon-detail.active");l&&l.classList.remove("active"),this.classList.add("active");var s=document.querySelectorAll(".gallery .main-icon");[].forEach.call(s,function(e){var n=a?APP_URL+"premium-icon/":STATIC_URL;if(1==c){var i="{0}icons/svg/{1}/{2}.svg".format(n,o,t);e.innerHTML='<img src="{0}">'.format(i),(!a||(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)&&a)&&(getSVG($(e),i),document.querySelector(".svg-version").classList.remove("active"))}else e.innerHTML='<img src="{0}icons/png/512/{1}/{2}.png">'.format(n,o,t)}),document.querySelector(".customize.active")&&1==this.dataset.color&&document.querySelector(".gallery .svg-version").classList.add("active"),document.querySelector("section.customize ul.color-selector")&&(document.querySelector("section.customize ul.color-selector").classList.toggle("hidden",2==c),document.querySelector("section.customize ul.color-selector").previousElementSibling&&document.querySelector("section.customize ul.color-selector").previousElementSibling.classList.toggle("hidden",2==c));var d=document.getElementById("download-form");d.querySelector("#icon_id").value=t,d.querySelector("#colored").value=c,d.querySelector("#premium").value=a,d.querySelector("#selection").value=r,Object(n.e)();var u=document.querySelector("h1").querySelector("span:not(.title)");u&&u.parentNode.removeChild(u),i.Premium.init();var m=APP_URL+this.dataset.pack_slug;[].forEach.call(document.querySelectorAll(".related-packs .related-header a:not(:first-child), #detail-header-more .group-pack a"),function(e){e.href=m})})},198:function(e,t){!function(e){var t=function(){var t={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},o=function(t,o){var n=a(t);e(o).data("colpick").fields.eq(1).val(n.r).end().eq(2).val(n.g).end().eq(3).val(n.b).end()},r=function(t,o){e(o).data("colpick").fields.eq(4).val(Math.round(t.h)).end().eq(5).val(Math.round(t.s)).end().eq(6).val(Math.round(t.b)).end()},l=function(t,o){e(o).data("colpick").fields.eq(0).val(c(t).toUpperCase())},s=function(t,o){e(o).data("colpick").selector.css("backgroundColor","#"+c({h:t.h,s:100,b:100})),e(o).data("colpick").selectorIndic.css({left:parseInt(e(o).data("colpick").height*t.s/100,10),top:parseInt(e(o).data("colpick").height*(100-t.b)/100,10)})},d=function(t,o){e(o).data("colpick").hue.css("top",parseInt(e(o).data("colpick").height-e(o).data("colpick").height*t.h/360,10))},u=function(t,o){e(o).data("colpick").currentColor.css("backgroundColor","#"+c(t))},m=function(t,o){e(o).data("colpick").newColor.css("backgroundColor","#"+c(t))},p=function(t){var u,p=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?(p.data("colpick").color=u=n(A(this.value)),o(u,p.get(0)),r(u,p.get(0))):this.parentNode.className.indexOf("_hsb")>0?(p.data("colpick").color=u=C({h:parseInt(p.data("colpick").fields.eq(4).val(),10),s:parseInt(p.data("colpick").fields.eq(5).val(),10),b:parseInt(p.data("colpick").fields.eq(6).val(),10)}),o(u,p.get(0)),l(u,p.get(0))):(p.data("colpick").color=u=i(T({r:parseInt(p.data("colpick").fields.eq(1).val(),10),g:parseInt(p.data("colpick").fields.eq(2).val(),10),b:parseInt(p.data("colpick").fields.eq(3).val(),10)})),l(u,p.get(0)),r(u,p.get(0))),s(u,p.get(0)),d(u,p.get(0)),m(u,p.get(0)),p.data("colpick").onChange.apply(p.parent(),[u,c(u),a(u),p.data("colpick").el,0])},h=function(t){e(this).parent().removeClass("colpick_focus")},f=function(){e(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),e(this).parent().addClass("colpick_focus")},g=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var o=e(this).parent().find("input").focus(),n={el:e(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:o,val:parseInt(o.val(),10),preview:e(this).parent().parent().data("colpick").livePreview};e(document).mouseup(n,w),e(document).mousemove(n,v)},v=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val-e.pageY+e.data.y,10)))),e.data.preview&&p.apply(e.data.field.get(0),[!0]),!1},w=function(t){return p.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colpick_slider").find("input").focus(),e(document).off("mouseup",w),e(document).off("mousemove",v),!1},y=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var o={cal:e(this).parent(),y:e(this).offset().top};e(document).on("mouseup touchend",o,_),e(document).on("mousemove touchmove",o,b);var n="touchstart"==t.type?t.originalEvent.changedTouches[0].pageY:t.pageY;return p.apply(o.cal.data("colpick").fields.eq(4).val(parseInt(360*(o.cal.data("colpick").height-(n-o.y))/o.cal.data("colpick").height,10)).get(0),[o.cal.data("colpick").livePreview]),!1},b=function(e){var t="touchmove"==e.type?e.originalEvent.changedTouches[0].pageY:e.pageY;return p.apply(e.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,t-e.data.y)))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},_=function(t){return o(t.data.cal.data("colpick").color,t.data.cal.get(0)),l(t.data.cal.data("colpick").color,t.data.cal.get(0)),e(document).off("mouseup touchend",_),e(document).off("mousemove touchmove",b),!1},k=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var o,n={cal:e(this).parent(),pos:e(this).offset()};return n.preview=n.cal.data("colpick").livePreview,e(document).on("mouseup touchend",n,E),e(document).on("mousemove touchmove",n,S),"touchstart"==t.type?(pageX=t.originalEvent.changedTouches[0].pageX,o=t.originalEvent.changedTouches[0].pageY):(pageX=t.pageX,o=t.pageY),p.apply(n.cal.data("colpick").fields.eq(6).val(parseInt(100*(n.cal.data("colpick").height-(o-n.pos.top))/n.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(pageX-n.pos.left)/n.cal.data("colpick").height,10)).get(0),[n.preview]),!1},S=function(e){var t;return"touchmove"==e.type?(pageX=e.originalEvent.changedTouches[0].pageX,t=e.originalEvent.changedTouches[0].pageY):(pageX=e.pageX,t=e.pageY),p.apply(e.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,t-e.data.pos.top)))/e.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(e.data.cal.data("colpick").height,pageX-e.data.pos.left))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},E=function(t){return o(t.data.cal.data("colpick").color,t.data.cal.get(0)),l(t.data.cal.data("colpick").color,t.data.cal.get(0)),e(document).off("mouseup touchend",E),e(document).off("mousemove touchmove",S),!1},L=function(t){var o=e(this).parent(),n=o.data("colpick").color;o.data("colpick").origColor=n,u(n,o.get(0)),o.data("colpick").onSubmit(n,c(n),a(n),o.data("colpick").el)},I=function(t){t.stopPropagation();var o=e("#"+e(this).data("colpickId"));o.data("colpick").onBeforeShow.apply(this,[o.get(0)]);var n=e(this).offset(),i=n.top+this.offsetHeight,a=n.left,r=x(),c=o.width();a+c>r.l+r.w&&(a-=c),o.css({left:a+"px",top:i+"px"}),0!=o.data("colpick").onShow.apply(this,[o.get(0)])&&o.show(),e("html").mousedown({cal:o},q),o.mousedown(function(e){e.stopPropagation()})},q=function(t){0!=t.data.cal.data("colpick").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),e("html").off("mousedown",q)},x=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth)}},C=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},T=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},A=function(e){var t=6-e.length;if(t>0){for(var o=[],n=0;t>n;n++)o.push("0");o.push(e),e=o.join("")}return e.toUpperCase()},O=function(){var t=e(this).parent(),n=t.data("colpick").origColor;t.data("colpick").color=n,o(n,t.get(0)),l(n,t.get(0)),r(n,t.get(0)),s(n,t.get(0)),d(n,t.get(0)),m(n,t.get(0))};return{init:function(a){if("string"==typeof(a=e.extend({},t,a||{})).color)a.color=n(a.color);else if(void 0!=a.color.r&&void 0!=a.color.g&&void 0!=a.color.b)a.color=i(a.color);else{if(void 0==a.color.h||void 0==a.color.s||void 0==a.color.b)return this;a.color=C(a.color)}return this.each(function(){if(!e(this).data("colpickId")){var t=e.extend({},a);t.origColor=a.color;var n="collorpicker_"+parseInt(1e3*Math.random());e(this).data("colpickId",n);var i=e('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",n);i.addClass("colpick_"+t.layout+(t.submit?"":" colpick_"+t.layout+"_ns")),"light"!=t.colorScheme&&i.addClass("colpick_"+t.colorScheme),i.find("div.colpick_submit").html(t.submitText).click(L),t.fields=i.find("input").change(p).blur(h).focus(f),i.find("div.colpick_field_arrs").mousedown(g).end().find("div.colpick_current_color").click(O),t.selector=i.find("div.colpick_color").on("mousedown touchstart",k),t.selectorIndic=t.selector.find("div.colpick_selector_outer"),t.el=this,t.hue=i.find("div.colpick_hue_arrs"),huebar=t.hue.parent();var c,v,w=navigator.userAgent.toLowerCase(),b="Microsoft Internet Explorer"===navigator.appName,_=b?parseFloat(w.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,S=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(b&&10>_)for(c=0;11>=c;c++)v=e("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+S[c]+", endColorstr="+S[c+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+S[c]+", endColorstr="+S[c+1]+')";'),huebar.append(v);else stopList=S.join(","),huebar.attr("style","background:-webkit-linear-gradient(top,"+stopList+"); background: -o-linear-gradient(top,"+stopList+"); background: -ms-linear-gradient(top,"+stopList+"); background:-moz-linear-gradient(top,"+stopList+"); -webkit-linear-gradient(top,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); ");i.find("div.colpick_hue").on("mousedown touchstart",y),t.newColor=i.find("div.colpick_new_color"),t.currentColor=i.find("div.colpick_current_color"),i.data("colpick",t),o(t.color,i.get(0)),r(t.color,i.get(0)),l(t.color,i.get(0)),d(t.color,i.get(0)),s(t.color,i.get(0)),u(t.color,i.get(0)),m(t.color,i.get(0)),t.flat?(i.appendTo(this).show(),i.css({position:"relative",display:"block"})):(i.appendTo(document.body),e(this).on(t.showEvent,I),i.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){e(this).data("colpickId")&&I.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colpickId")&&e("#"+e(this).data("colpickId")).hide()})},setColor:function(t,p){if(p=void 0===p?1:p,"string"==typeof t)t=n(t);else if(void 0!=t.r&&void 0!=t.g&&void 0!=t.b)t=i(t);else{if(void 0==t.h||void 0==t.s||void 0==t.b)return this;t=C(t)}return this.each(function(){if(e(this).data("colpickId")){var n=e("#"+e(this).data("colpickId"));n.data("colpick").color=t,n.data("colpick").origColor=t,o(t,n.get(0)),r(t,n.get(0)),l(t,n.get(0)),d(t,n.get(0)),s(t,n.get(0)),m(t,n.get(0)),n.data("colpick").onChange.apply(n.parent(),[t,c(t),a(t),n.data("colpick").el,1]),p&&u(t,n.get(0))}})}}}(),o=function(e){return{r:(e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}},n=function(e){return i(o(e))},i=function(e){var t={h:0,s:0,b:0},o=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),i=n-o;return t.b=n,t.s=0!=n?255*i/n:0,0!=t.s?e.r==n?t.h=(e.g-e.b)/i:e.g==n?t.h=2+(e.b-e.r)/i:t.h=4+(e.r-e.g)/i:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},a=function(e){var t={},o=e.h,n=255*e.s/100,i=255*e.b/100;if(0==n)t.r=t.g=t.b=i;else{var a=i,r=(255-n)*i/255,c=o%60*(a-r)/60;360==o&&(o=0),60>o?(t.r=a,t.b=r,t.g=r+c):120>o?(t.g=a,t.b=r,t.r=a-c):180>o?(t.g=a,t.r=r,t.b=r+c):240>o?(t.b=a,t.r=r,t.g=a-c):300>o?(t.b=a,t.g=r,t.r=r+c):360>o?(t.r=a,t.g=r,t.b=a-c):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},r=function(t){var o=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(o,function(e,t){1==t.length&&(o[e]="0"+t)}),o.join("")},c=function(e){return r(a(e))};e.fn.extend({colpick:t.init,colpickHide:t.hidePicker,colpickShow:t.showPicker,colpickSetColor:t.setColor}),e.extend({colpick:{rgbToHex:r,rgbToHsb:i,hsbToHex:c,hsbToRgb:a,hexToHsb:n,hexToRgb:o}})}(jQuery)},26:function(e,t,o){"use strict";var n=o(10),i=o(45),a=o(1),r=o(27);$(function(){c.set_collection(),$(document).on("click",".collection-content button.flaticon-redo",function(){void 0!==c&&c.next()}),$(document).on("click",".collection-content button.flaticon-undo",function(){void 0!==c&&c.prev()})});var c={user_id:gr.auth.me.id||0,collection:{},actions:[],pointer:0,key_actions:"",key_pointer:"",executing:!1,set_collection:function(){if("undefined"==typeof Collection)return!1;if(this.collection=Collection.getActive(),this.actions=[],this.pointer=0,void 0!==this.collection&&Object.keys(this.collection).length){this.key_actions="History_Collection_Actions_"+this.collection.bookmark_id,this.key_pointer="History_Collection_Pointer_"+this.collection.bookmark_id;var e=JSON.parse(sessionStorage.getItem(this.key_actions))||new Array;this.actions=e;var t=JSON.parse(sessionStorage.getItem(this.key_pointer))||0;this.pointer=t}this.collection&&this._toogle_cursors(),this._purgue()},middleware:function(){return!this.executing&&(this.set_collection(),void 0!==this.collection.bookmark_id)},collection_delete:function(e){this.middleware()&&(Collection.getActive().bookmark_id==e&&(sessionStorage.removeItem(this.key_actions),sessionStorage.removeItem(this.key_pointer),this.pointer=0,this.actions=new Array,this._toogle_cursors()))},icon_color:function(e,t,o){if(this.middleware()){var n={id:e,next:"color",next_value:new_value,prev:"color",prev_value:o};this._save(n)}},icon_name:function(e,t,o){if(this.middleware()){var n={id:e,next:"name",next_value:t,prev:"name",prev_value:o};this._save(n)}},icon_add:function(e,t){if(this.middleware()){var o={id:e,next:"add",next_value:t,prev:"del",prev_value:e};this._save(o)}},icon_del:function(e,t){if(this.middleware()){var o={id:e,next:"del",next_value:e,prev:"add",prev_value:t};this._save(o)}},collection_name:function(e,t,o){if(this.middleware()){var n={id:e,next:"collection_name",next_value:t,prev:"collection_name",prev_value:o};this._save(n)}},collection_color:function(e,t){if(this.middleware()){var o={id:icon_id,next:"collection_color",next_value:e,prev:"collection_color",prev_value:t};this._save(o)}},_save:function(e){this.actions=JSON.parse(sessionStorage.getItem(this.key_actions))||new Array,this.actions.length&&(this.actions=this.actions.slice(0,this.pointer)),this.actions.push(e),this.pointer++,sessionStorage.setItem(this.key_actions,JSON.stringify(this.actions)),this._save_pointer()},_save_pointer:function(){sessionStorage.setItem(this.key_pointer,JSON.stringify(this.pointer))},_toogle_cursors:function(){var e=document.querySelector(".collection.expanded .collection-content .collection-options");if(!e)return!1;e.querySelector("button.flaticon-redo").classList.toggle("disabled",this.pointer>=this.actions.length),e.querySelector("button.flaticon-undo").classList.toggle("disabled",this.pointer<=0)},_get:function(e){e>this.pointer&&(e=this.pointer);var t=e||this.pointer;return this.actions.slice(t-1,t)[0]},prev:function(){if(this.middleware()){if(!(this.pointer>0))return!1;var e=this._get();this.pointer--,this._execute(e,"prev"),this._toogle_cursors()}},next:function(){if(this.middleware()){if(!(this.pointer<this.actions.length))return!1;this.pointer++;var e=this._get();this._execute(e,"next"),this._toogle_cursors()}},_execute:function(e,t){if(void 0===t&&(t="prev"),void 0===e[t])return!1;var o=e[t],n=e[t+"_value"];switch(this.executing=!0,this._save_pointer(),o){case"add":if(n.icon.id>999999999){var i=n.color?n.color:n.icon.color,a=n.name?n.name:n.icon.name,r=gr.auth.me.id,c="XXXXXX"==n.icon.color?"2":"1";c="2"==i?i:c,Widget.addIcon(n.icon.id,a,r,c,"4")}else Widget.addIcon(n.icon.id,n.name,n.author,n.color,n.premium,n.custom_color);break;case"del":Widget.delIcon(e.id)}this.executing=!1},_purgue:function(){var e=this.actions.length;if(e){for(var t=0;t<e&&void 0!==this.actions[t];t++);(e=this.actions.length)>20&&this.actions.splice(0,e-20),sessionStorage.setItem(this.key_actions,JSON.stringify(this.actions)),this.pointer>e&&(this.pointer=e,this._save_pointer())}},_debug:function(e){console.log("|====================== DEBUG ====>",e,"|== POINTER =>",this.pointer,"|== ACTIONS =>",this.actions)}},l=(o(89),o(32)),s=(o(186),o(13));$(document).ready(function(){if(null!==document.querySelector("#detail")){if(parseFloat(total_pack.replace(",","."),10)>0&&null!=pack_items){current<total_pack&&current,current>0?current:total_pack;var e=!0;"IE"==a.g()&&($("a.next").attr("href",$(".next-icon-1").attr("data-slug")),$("a.prev").attr("href",$(".prev-icon-1").attr("data-slug")),e=!1),e&&function(e,t){if("undefined"!=typeof ie&&ie)return void $("#detail").addClass("loaded ie9");if(!(pack_items instanceof Array&&pack_items.length))return;var o=new d(500);d.icon_equivalent_wrapper=document.querySelector(".detail-styles .detail_equivalent_icons"),d.icon_equivalent_wrapper&&(d.icon_equivalent_tpl=Handlebars.tag("detail-icon-equivalent"),d.icon_equivalent_wrapper=document.querySelector(".detail-styles .detail_equivalent_icons")),$("#detail a.prev, #detail a.next").fadeIn(250),$("#detail a.next").on("click",function(e){e.preventDefault(),o.navigation("next")}),$("#detail a.prev").on("click",function(e){e.preventDefault(),o.navigation("prev")}),$(document).on("keydown",function(e){if(!document.querySelector(".fi-modal input[type=checkbox]:checked")){var t=document.querySelectorAll(".collection .collection-content.edit-mode .icons .collectionIcon .edit .collection-icon-rename, .collection .collection-header .edit-name.active .collection-name-input"),n=[].some.call(t,function(e){return e==document.activeElement});n||(39==e.keyCode&&o.navigation("next"),37==e.keyCode&&o.navigation("prev"))}})}(pack,icon_id)}else $(".next").html(""),$(".prev").html(""),$(".prev-icon").hide(),$(".next-icon").hide();$("#detail").addClass("loaded"),q()}});var d=function(e){var t,o,n,i,r=this,c=!1,s=!1,u=pack_items.length-1,m=$(".prev-icon-2"),p=$(".prev-icon-1"),h=$(".main-icon"),f=$(".next-icon-1"),g=$(".next-icon-2"),v=$(".detail-header h1");function w(){t=current-1<0?u:current-1,o=t-1<0?u:t-1,n=current+1>u?0:current+1,i=n+1>u?0:n+1,[pack_items[o].src,pack_items[t].src,pack_items[current].src,pack_items[n].src,pack_items[i].src]}w(),this.setImages=function(e){"next"===e&&(m.removeAttr("class").addClass("next-icon next-icon-2").not('[data-type="svg"]').find("img").attr("src",pack_items[i].src),p.removeAttr("class").addClass("prev-icon prev-icon-2"),h.removeAttr("class").addClass("prev-icon prev-icon-1"),f.removeAttr("class").addClass("main-icon"),g.removeAttr("class").addClass("next-icon next-icon-1")),"prev"===e&&(m.removeAttr("class").addClass("prev-icon prev-icon-1"),p.removeAttr("class").addClass("main-icon"),h.removeAttr("class").addClass("next-icon next-icon-1"),f.removeAttr("class").addClass("next-icon next-icon-2"),g.removeAttr("class").addClass("prev-icon prev-icon-2").not('[data-type="svg"]').find("img").attr("src",pack_items[o].src)),m=$(".prev-icon-2"),p=$(".prev-icon-1"),h=$(".main-icon"),f=$(".next-icon-1"),g=$(".next-icon-2"),s&&("next"===e&&(1==pack_items[i].color&&0==pack_items[i].premium||1==pack_items[i].premium&&gr.auth.me.premium?getSVG(g.not('[data-type="img"]'),pack_items[i].src):g.not('[data-type="img"]').html('<img src="'+pack_items[i].src+'" />')),"prev"===e&&(1==pack_items[i].color&&0==pack_items[i].premium||1==pack_items[i].premium&&gr.auth.me.premium?getSVG(m.not('[data-type="img"]'),pack_items[o].src):m.not('[data-type="img"]').html('<img src="'+pack_items[o].src+'" />')))},this.navigation=function(t){var o=document.querySelectorAll(".gallery div.main-icon img");[].forEach.call(o,function(e){var t=e.src.slice(-3);e.src="png"==t?pack_items[current].png:pack_items[current].src}),c||(c=!0,s=$("#detail .svg-version").hasClass("active"),v.addClass("out"),"next"===t&&(current++,m.addClass("nextPos"),p.addClass("prevOut"),h.addClass("mainPrev"),f.addClass("nextMain"),g.addClass("nextIn"),ga("send","event","Detail View","Move","Next")),"prev"===t&&(current--,m.addClass("prevIn"),p.addClass("prevMain"),h.addClass("mainNext"),f.addClass("nextOut"),g.addClass("prevPos"),ga("send","event","Detail View","Move","Previous")),current>u&&(current=0),current<0&&(current=u),w(),function(){if($(".main-icon-without-slide").find("img").attr("src",pack_items[current].src),function(e){!!e&&(!!d.icon_equivalent_wrapper&&$.ajax({url:"/ajax/get_equivalents/"+e,type:"GET",async:!0,dataType:"json",success:function(t){for(var o in d.icon_equivalent_wrapper.innerHTML="",t)t[o].active=e==o?" active":"",t[o].id=o,d.icon_equivalent_wrapper.insertAdjacentHTML("beforeend",d.icon_equivalent_tpl(t[o]))},error:function(e,t,o){d.icon_equivalent_wrapper.innerHTML="",console.error("AX ERROR["+o+"]: "+t)}}))}(pack_items[current].id),pack_items[current].tags.length){var e=document.querySelector("ul.tags");e.innerHTML="";for(var t=0;t<pack_items[current].tags.length;t++){var o=document.createElement("li"),n=document.createElement("a");n.innerHTML=pack_items[current].tags[t].tag,n.href=pack_items[current].tags[t].slug,o.appendChild(n),e.appendChild(o)}}var i=1==pack_items[current].selection?"flaticon-selection":"hidden";i=1==pack_items[current].premium?"icon icon--premium":i;var r=document.querySelector("#detail h1 span i");null!==r&&(r.className="",r.classList.add(i));document.querySelector("#detail h1 span").classList.toggle("premium",1==pack_items[current].premium);var c=pack_items[current].premium?messages.common.free:"premium",s=pack_items[current].premium?"premium":messages.common.free;$("h1 span.title").html(pack_items[current].description);var u=document.querySelector("h1"),m=u.lastChild.nodeValue;u.lastChild.nodeValue=m.replace(c,s),Object(a.a)(".modal-download p.filename .description").innerHTML=pack_items[current].description,Object(a.a)("meta[property='og:title']").content=pack_items[current].metaTwitterTitle,Object(a.a)("meta[name='twitter:title']").content=pack_items[current].metaTwitterTitle;var p=pack_items[current].src.replace("www.flaticon","imageog.flaticon").replace("svg/","png/512/").replace(".svg",".png")+"?size=1200x630f&pad=10,10,10,10&ext=png&bg=FFFFFFFF";Object(a.a)(".modal-download p.filename img").src=pack_items[current].src,Object(a.a)("meta[property='og:image']").content=p,Object(a.a)("meta[name='twitter:image']").content=p;var h=Object(a.a)("meta[name='twitter:description']").content.split(".");h[0]=h[0].replace(c,s),Object(a.a)("meta[name='twitter:description']").content=h.join("."),Object(a.a)("meta[property='og:url']").content=pack_items[current].slug,Object(a.a)("meta[property='og:description']").content=h.join("."),Object(a.a)(".modal-download .modal-body").classList.toggle("nopremium",!pack_items[current].selection),Object(a.a)("#detail .publish_date").textContent=pack_items[current].published;var f=pack_items[current].slug,g=document.querySelector(".category-icon");document.title=pack_items[current].description+" -"+document.title.split("-")[1].replace(a.e(g.innerHTML),a.e(pack_items[current].category)).replace(new RegExp("("+c+")","gi"),a.e(s)),pack_items[current].category?document.querySelector(".category-in-icon").classList.remove("hidden"):document.querySelector(".category-in-icon").classList.add("hidden");g.href=pack_items[current].category_url,g.innerHTML=pack_items[current].category;var v=Object(a.a)("#fi-premium-upgrade-button .btn-upgrade");v&&(v.href=ACCOUNTS_BASE_URL+"premium/"+pack_items[current].pack_id);"history"in window&&window.history.pushState({flaticon:"icon"},pack_items[current].description,f);var w=f.replace(APP_URL,"");ga("send","pageview","/"+w),Object(a.a)("#download-form #icon_id").value=pack_items[current].id,Object(a.a)("#download-form #author").value=pack_items[current].team_id,Object(a.a)("#download-form #selection").value=pack_items[current].selection,Object(a.a)("#download-form #colored").value=pack_items[current].color,Object(a.a)("#download-form #premium").value=pack_items[current].premium,Object(a.a)("#download-form #keyword").value=pack_items[current].description,function(){var e=pack_items[current].tags.map(function(e){return e.tag_id}).join();$.ajax({url:"/ajax/search/tags",data:{tags:e,pack:pack},type:"POST",async:!0,dataType:"json",success:function(e){var t=e.items,o=e.total,n=e.tag;if($(INFINITY.css_selector).html(""),$("section .tags a span").html(o),parseInt(o)>0){var i=$("section.related-tags a.badge:last-child");i.attr({href:"/"+n.slug,title:n.name}),i.html(messages.common.view_all+" - <span>"+a.e(n.name)+"</span> "+messages.common.icons),document.querySelector(".related-header p").innerHTML=`${messages.common.more}\n                <a class="text-link" href="/${n.slug}" title="${messages.common.more} ${a.e(n.name)} ${messages.common.icons}">\n                ${a.e(n.name)} </a> ${messages.common.icons}`,$(".related-header a.badge span").html(n.total),INFINITY.setUrl=!1,INFINITY.css_selector="section.related-tags ul.icons",INFINITY.tplLoadItem(t,!1);var r=document.getElementById("fi-premium-sponsor-freepik");r.querySelector("iframe")&&(r.querySelector("iframe").remove(),r.insertAdjacentHTML("beforeend",SponsorBanner.getFreepikSponsor(n.name)))}},error:function(e,t,o){console.error("AX ERROR["+o+"]: "+t)}})}(),q();l.Premium.check(),window.innerWidth>480&&$("html,body").animate({scrollTop:0},"slow");let y=document.getElementById("s-p");if(null!==y){y.dataset.term=pack_items[current].keyword;const e={premium:!0,element:y,term:y.dataset.term};SponsorBanner.insert(e)}}(),setTimeout(function(){v.removeClass("out")},300),setTimeout(function(){r.setImages(t),c=!1},e))}};function u(){if(null!==document.querySelector("#detail")){if(window.toggleDetailBtnInterval&&clearInterval(window.toggleDetailBtnInterval),"undefined"!=typeof pack_items&&null!==pack_items&&pack_items instanceof Array&&(current==parseInt(current,10)||0==current))var e=parseInt(pack_items[current].id,10),t=pack_items[current].keyword,o=parseInt(pack_items[current].team_id,10),n=parseInt(pack_items[current].color,10),i=parseInt(pack_items[current].premium,10);else e=parseInt(document.getElementById("icon_id").value,10),t=document.querySelector("#download-form #keyword").value,o=parseInt(document.getElementById("team").value,10),n=parseInt(document.getElementById("colored").value,10),i=parseInt(document.getElementById("premium").value,10);if(window.db instanceof Object){var a="addIcon",r=Collection.getActive();window.db.queryAll(r.bookmark_id,{query:{id:e}}).length&&(a="delIcon");var c,l=document.getElementById("detail-icon-button");if(l)"delIcon"===a?(l.classList.add("btn-danger"),c=messages.collection.delete_icon):(l.classList.remove("btn-danger"),c=messages.collection.add_icon),void 0!==l.querySelector("span")&&(l.querySelector("span").innerHTML=c),l.setAttribute("onclick","Widget."+a+"("+e+",'"+Object(s.a)(t)+"',"+o+", "+n+", "+i+")"),l.get("i").classList.toggle("icon--removecollection","delIcon"==a)}else window.toggleDetailBtnInterval=setInterval(q,1e3)}}var m=o(3),p=o(7),h=o(12);o(0);o.d(t,"d",function(){return v}),o.d(t,"a",function(){return b}),o.d(t,"c",function(){return k}),o.d(t,"b",function(){return L}),o.d(t,"f",function(){return q}),o.d(t,"e",function(){return x});const f=`${BASE_URL}ajax/download/validate`;$(function(){if(document.getElementById("collections-toggle")){$(".edit-icon-content").on("click",function(e){e.stopPropagation()}),$(".edit-icon-wrapper .close-button").on("click",function(e){e.stopPropagation(),L._openEditModal(!1,!1)}),$(document).on("click",".btn-edit-icon",function(){let e=document.querySelector("#download-form");if("icon-detail"==window.view.section&&(e=document.querySelector("#detail #download-form")),e){var t={id:e.querySelector("#icon_id").value,name:e.querySelector("#keyword").value,color:e.querySelector("#colored").value,premium:e.querySelector("#premium").value};L._openEditModal(!0,t,!0)}}),$(document).on("click",".context_btn-edit-icon",function(e){e.preventDefault();var t=e.currentTarget.closest("ul").querySelector("li .link-icon-detail");t&&(t.dataset.edit=!0,t.click())}),$(document).on("click",".only_registered .close-alert",function(){window.Editor.close(),L.reset_widget()}),$(".edit-icon-content .right > header button").on("click",L._toggleEditPanel),$(".edit-icon-content .left #download_button").on("click",function(){L._toggleEditPanel(!0)}),$(".collection").on("change",".collection_icons_list li .edit input",function(e){var t=$('.collection[data-order="0"] .collection-content.color-mode .icons li .edit label input:checked');$("#edit-color").toggleClass("show",t.length>0)}),$(".collections").on("change",".collection_icons_list li .edit input",function(e){var t=$('.collection[data-order="0"] .collection-content.edit-mode:not(.color-mode) .icons li .edit label input:checked'),o=this.parent(".icon--item"),n=b.getActive().bookmark_id,i=window.db.queryAll(n,{query:{id:o.dataset.id}});L._openEditModal(t.length>0,i[0]),$(document).on("click",".collection_color_button",L.createCollectionCPicker)}),$(document).on("click",".edit-icon-content .right header button",function(){L._openEditModal(!1,!1),$("#edit-color").removeClass("show"),$('.collection[data-order="0"] .collection_icons_list .icon--item .edit input[type=checkbox]:checked').prop("checked",!1)}),window.addEventListener("dragstart",function(e){e=e||event},!1),window.addEventListener("dragenter",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragleave",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragover",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragend",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("drop",function(e){(e=e||event).preventDefault()},!1),$(document).on("dragstart",".collection-content.sort-mode .collectionIcon",function(e){e.originalEvent.dataTransfer.setData("text/plain","icon"),y.moveDragStart(e)}),$(document).on("dragleave",".collection-content.sort-mode .collectionIcon",function(e){y.moveDragLeave(e)}),$(document).on("drop",".collection-content.sort-mode .collectionIcon",function(e){y.moveDrop(e)}),$(document).on("dragend",".collection-content.sort-mode .collectionIcon",function(e){y.moveDragEnd(e)}),$(document).on("dragenter",".collection-content.sort-mode .collectionIcon",function(e){y.moveDragEnter(e)}),$("#btn-fetch-collection").on("click",b.fetch),$(document).on("click",".overlay-drop .register button",function(e){e.preventDefault(),this.closest(".overlay-drop").style.display="none",this.closest(".overlay-drop").classList.remove("register")}),$(document).on("click",".overlay-drop .upgrade button",function(e){e.preventDefault(),this.parentNode.parentNode.style.display="none",this.parentNode.parentNode.classList.remove("upgrade")}),$(document).on("click",".overlay-drop .close-button",function(){this.closest(".overlay-drop").style.display="none",this.closest(".overlay-drop").classList.remove("upgrade")}),$(document).on("click",".collection-content:not(.sort-mode) .icon-upload",function(e){e.preventDefault(),this.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector("input.fileCollection").click()}),$(document).on("change",".fileCollection",function(e){if(e.preventDefault(),!b.checkUploadLimits(e))return!1;if(e.target.files.length){for(var t=0;t<e.target.files.length;t++)e.target.files[t].id=Date.now().toString()+t,y.checkUploadSvg(e.target.files[t]);document.getElementById("fileCollection-"+b.getActive().bookmark_id).value=""}}),$(".collections").on("click",".help_link",function(e){e.preventDefault(),window.open(this.href,"_blank").focus()}),$(".modal-download.modal-collection #download-free").on("click",function(e){e.stopPropagation(),$('[name="download-collection-form"].active-form').trigger("submit"),Object(a.a)("#modal-download").checked=!1,Object(a.a)("#modal-credit").checked=i.open_attribution_modal()}),$("#modal-download").on("change",function(e){if(!this.checked){let e=document.querySelector(".collection.expanded .download-holder button");null!==e&&(e.classList.remove("disabled"),document.getElementById("collections").classList.remove("loading"))}}),$(".modal-download .modal-fade-screen").on("click",function(e){document.querySelector(".collection.expanded .download-holder button").classList.remove("disabled"),document.getElementById("collections").classList.remove("loading")}),$("#max-collections").on("click",".max-collections__item",function(e){e.stopPropagation();var t=document.get("#max-collections #button-confirm");t&&(document.querySelectorAll("input[name=choice]:checked").length==b.limit.collections?t.disabled=!1:t.disabled=!0)}),$("#max-collections").on("click","#button-confirm",function(){var e=[];document.querySelectorAll("input[name=choice]:checked").forEach(function(t){let o=t.closest("li");e.push(parseInt(o.getAttribute("data-bookmark"),10))}),window.db.update("list",function(t){return!~e.indexOf(parseInt(t.bookmark_id,10))},function(e){var t=Object(a.a)(".collection[data-bookmark='"+e.bookmark_id+"']");let o=Object(a.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .collection-header"),n=Object(a.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .collection-header .header-options .popover-content").querySelectorAll("p, hr, div");for(var i=0;i<n.length;i++)"option-buttons"!=n[i].className&&n[i].remove();t.classList.add("locked"),o.insertAdjacentHTML("beforeend",'<div class="locked-options"><i class="icon icon--lock"></i></div>');var r=t.get(".popover .menu-options");r&&([].forEach.call(r.querySelectorAll("li button.collection-option"),function(e){e.classList.contains("delete-collection")||e.classList.add("hidden")}),null!=r.querySelector(".locked-collection")&&r.querySelector(".locked-collection").classList.remove("hidden"));var c=t.get(".download-wrapper");c&&c.parentNode.removeChild(c);var l=t.get(".upgrade_btn");return l&&l.classList.remove("hidden"),e.status=0,b.emit("set",{bookmark_id:e.bookmark_id,status:0}),e}),window.db.commit(),Object(a.a)("#max-collections").classList.remove("visible")}),$("#collections").on("click",".collection_share_button",function(e){var t;Array.from(e.target.parentNode.offsetParent.children).filter(e=>{e.classList.contains("selectInput")&&(t=e.value)}),b.share(this.dataset.type,t)}),$(document).on("click",".collection-icon-delete, .collectionIcon .icon--removecollection",function(e){e.stopPropagation(),e.preventDefault(),L.delIcon(parseInt(this.parent(".icon--item").dataset.id,10))}),$(document).on("click",".icon--item .overlay button.add-remove",function(e){e.stopPropagation(),e.preventDefault();var t=this.parent(".icon--item"),o=t.get(".tooltip .content span");L[t.classList.contains("selected")?"delIcon":"addIcon"](t.dataset.id,t.dataset.name,t.dataset.team,t.dataset.color,t.dataset.premium,t.dataset.custom_color,t.dataset.icon_src),o&&(t.classList.contains("selected")?o.innerHTML="Remove from Collection":o.innerHTML="Add to collection")}),$(document).on("click",".collection .collection-header",function(e){e.stopPropagation(),window.launching=!0;var t=this.parent(".collection");t.classList.contains("expanded")?t.classList.contains("locked")||c.set_collection():(window.firstColorChange=!0,b.setActive(t.dataset.bookmark))}),$(document).on("click",".collection-header .edit-collection",function(e){e.stopPropagation(),window.launching=!0;var t=this.parent(".collection");if(t.classList.contains("expanded")){if(!t.classList.contains("locked")){var o=t.get(".edit-name");o.classList.add("active"),o.get("input").select(),c.set_collection()}}else window.firstColorChange=!0,b.setActive(t.dataset.bookmark)}),$(document).on("click",".collectionIcon .edit .popover-button",function(){L.createIconsCPicker(this)}),$(document).on("click",".collection .edit-name:not(.active), .edit-name.active .flaticon-disk",function(e){e.stopPropagation(),b.rename(this)}),$(document).on("click",".download-holder button",function(e){e.stopPropagation(),this.parent(".collection").get(".collection-download").classList.add("active");let t=document.querySelectorAll('[name="download-collection-form"]');for(const e of t)e.classList.remove("active-form");this.parent(".collection").querySelector('[name="download-collection-form"]').classList.add("active-form")}),$(document).on("click","#collections ul.download li button",function(e){e.stopPropagation(),e.preventDefault(),this.parent(".download-files").get(".customize").classList.add("active")}),$(document).on("click",".collection-download.active .download-button",function(e){e.stopPropagation();var t=this.parent(".collection");t.get(".collection-download .customize").classList.remove("active"),t.get(".collection-download").classList.remove("active"),"png"==this.dataset.format||m.a.isPremium()?b.download(t.dataset.bookmark,this.dataset.format,this.dataset.size):h.a.callModalDownloadOnlyForPremium()}),$(document).on("click",".collection-download.active .header-download button",function(e){e.stopPropagation();var t=this.parent(".collection");t.get(".collection-download .customize").classList.remove("active"),t.get(".collection-download").classList.remove("active")}),$(window).on("resize",function(){clearTimeout(window.resizeWindowInterval),window.resizeWindowInterval=setTimeout(function(){Object(a.a)(".collection.expanded .collection-content");delete window.resizeWindowInterval},500)}),$(document).on("keyup",".collection-name-input",function(e){e.preventDefault(),13==e.which&&b.rename(this),27==e.which&&(this.value=this.dataset.original,this.parentElement.classList.remove("active"),this.blur())}),$(document).on("click",".collection-icon-rename",function(e){e.stopPropagation(),this.select()}),$(document).on("keyup",".collection-icon-rename",function(e){e.preventDefault(),13==e.which&&y.rename(this),27==e.which&&(this.value=this.dataset.original)}),$(document).on("blur",".collection-icon-rename",y.rename),$(document).on("click","#collections-toggle",function(e){e.stopPropagation(),L.toggle()}),$(document).on("click",".collection-header button.edit-collection",function(e){e.stopPropagation();var t=this.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".edit-name");_(),[].forEach.call(document.find(".collection .collection-header .edit-name"),function(e){e.classList.remove("active")}),t.classList.add("active"),t.get("input").select()}),$(document).on("click",".collection-options .toggle-edit",b.openEditMode),$(document).on("click",".collection .collection-content .header-edit .btn-back",b.closeEditMode),$(document).on("click",".collection-options .toggle-sort",b.openSortMode),$(document).on("click",".collection .collection-content .header-sort .btn-back",b.closeSortMode),$(document).on("click",".collection-options .toggle-share",b.toggleShareLayer),$(document).on("click",".collection-share .close",b.toggleShareLayer),$(document).on("click",".collection-options .toggle-backup",b.toggleBackupLayer),$(document).on("click",".collection-backup .close",b.toggleBackupLayer),$(document).on("click",".collection-header button.flaticon-bin, .collection.locked .locked-options button",function(e){e.stopPropagation();var t=Object(a.a)("#modal-delete-collection");t.parentNode.get(".modal-inner button.modal_delete_collection_btn").dataset.bookmark=this.dataset.bookmark,t.checked=!0}),$(".modal_delete_collection .modal_delete_collection_btn").on("click",function(e){e.stopPropagation();var t=this.getAttribute("data-bookmark");t&&b.del(t),a.f(this)}),$(document).on("click",".collection .color-selector li button",function(e){$(this.parent(".color-selector").nextElementSibling).colpickSetColor(this.dataset.color)}),$(document).on("click",".collection_color_button",L.createCollectionCPicker),$(document).on("change",".upload-file-input",function(e){var t=this.files[0];if(t.type.match(/text.*/)){var o=new FileReader;o.onload=function(e){$.ajax({url:APP_URL+"Collections/restore_backup",type:"POST",data:JSON.stringify(o.result),success:function(e){b.restore_backup(e)}})},o.readAsText(t),this.value=""}}),$(document).on("click","#paint_collection",function(){document.getElementById("collections").classList.contains("expanded")?(document.querySelector(".paint-popover").classList.remove("popover-left"),document.querySelector(".paint-popover").classList.add("popover-right")):(document.querySelector(".paint-popover").classList.remove("popover-right"),document.querySelector(".paint-popover").classList.add("popover-left")),L.createCollectionCPicker(),document.querySelector('section[data-bookmark="'+b.getActive().bookmark_id+'"] .trigger_popover').click()}),document.getElementById("new_collection_btn").addEventListener("click",e=>{EventTracker.send("all","event","collection","create"),b.new()}),$(document).on("click",".empty-collection-register .close",function(){document.querySelector(".icons-collection-noregister").style.display="none",document.querySelector(".collection-content").classList.remove("nologged-limit-reached")}),$(document).on("click",".collection-locked-inside .close",function(){this.closest(".collection-locked-inside").style.display="none"});const e=document.querySelector(".add-collections-holder");m.a.isLogged()||m.a.isPremium()?e.children[2]&&e.children[2].remove():e.children[1]&&e.children[1].remove()}}),$(document).on("click","#collections-holder .download-holder button",function(){var e=window.db.queryAll(b.getActive().bookmark_id).map(e=>e.id);$.ajax({url:APP_URL+"ajax/collections/license",type:"POST",data:{bookmarkIconIds:e},success:function(e){e=JSON.parse(e);var t=document.querySelector("div.modal-download"),o="";e.forEach(function(e){var t="freepik"===e.slug?messages.attribution.freepik_url:`${APP_URL}${messages.url.authors}/${e.slug}`;o+=`<div>${messages.attribution.icons_made_by} <a href="${t}" title="${e.name}">${e.name}</a> from <a href="${APP_URL}" title="Flaticon">${window.location.host}</a></div>`}),t.querySelector(".copy-wrapper").classList.remove("hidden"),t.querySelector(".copy-holder span").textContent=o,t.querySelector(".input_atributtion_text").setAttribute("value",o)}})});const g=()=>{$('[name="download-collection-form"].active-form').trigger("submit"),Object(a.a)("#modal-download").checked=!1,i.open_attribution_modal();var e=document.querySelector('.active-form [name="downC_bookmark_id"]').value,t=b.getCollectionData(e),o=[];t&&t.icons.length>0&&(o=t.icons.map(e=>e.id)),Logs.pushLog(`download|type,collection|url,${window.location.href}|items,${o.join(";")}`,!0),document.querySelector(".fi-modal #download-free").removeEventListener("click",v)};async function v(e){e.preventDefault(),e.stopPropagation();try{await Object(p.a)(`${f}?resourceType=icon`,{withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}}),g()}catch(e){if(429===e.status){let e=document.getElementById("modal-download");e&&(e.checked=!1,document.querySelector("body").classList.remove("modal-open")),window.location.href=`${APP_URL}${messages.common.url_downloads_limit}`}else console.error("Error validate download ",e)}}function w(e){return/((^[0-9A-F]{6}$|XXXXXX))/i.test(e)}function y(e,t,o,n,i,r,c){if("number"!=typeof e)throw"Invalid icon id";if(!i)throw"Invalid bookmark_id";if("number"!=typeof o)throw"Invalid author";if(this.premium=parseInt(r)||0,this.id=parseInt(e,10),this.author=parseInt(o,10),this.bookmark_id=i,this.color=w(n)?n:"XXXXXX",this.sort=parseInt(c,10),this.name=void 0!==t&&t.toString().length?a.p(t.toString()):"icon-"+this.id,!window.db.queryAll(this.bookmark_id,{query:{id:this.id}}).length){var l={},s=this;y.properties.forEach(function(e){l[e]=s[e]}),window.db.insertOrUpdate(this.bookmark_id,{id:l.id},l),window.db.commit(),L.updateToggle()}}function b(e,t,o,n=!1){a.j();this.bookmark_id=e.bookmark_id||(Math.random().toString(36)+"00000000000000000").slice(2,18),this.name=e.name||messages.collection.default_name,this.status=0!=e.status?1:0,this.color=e.color||"000000",this.created=e.created,this.updated=e.updated,this.source=e.source||"local",this.icons=e.icons||[],this.active=parseInt(e.active,10)||1,this.order=parseInt(e.order,10)||0,window.db.update("list",function(){return!0},function(e){return e.active=0,e.order++,e}),window.db.commit();var i=this;e={duplicate:!1},["bookmark_id","name","color","created","updated","active","order","source","status"].forEach(function(t){void 0!==i[t]&&(e[t]=i[t])});var r=window.db.queryAll("list").filter(function(t){return t.bookmark_id==e.bookmark_id});r.length&&(e.active=r[0].active,e.order=r[0].order),window.db.insertOrUpdate("list",{bookmark_id:this.bookmark_id},e),window.db.tableExists(this.bookmark_id)&&window.db.dropTable(this.bookmark_id),this.icons.length?(this.icons.forEach(function(e){for(var t in e)~y.properties.indexOf(t)||(e[t]=null);e.bookmark_id=i.bookmark_id}),window.db.createTableWithData(this.bookmark_id,this.icons)):window.db.createTable(this.bookmark_id,y.properties),window.db.commit(),o&&(e.duplicate=!0,e.icons=this.icons),t||"tour_demo_collection"==e.bookmark_id||(n?b.emit("create",e,b.setActive):b.emit("create",e)),t||L.update(t);var c=document.querySelector("#collections-holder");c&&c.classList.add("overflow"),c&&c.classList.remove("scrollable"),document.querySelector("button.flaticon-share")&&(document.querySelector("button.flaticon-share").disabled=window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.status:!gr.auth.me.status)}function _(){var e=document.querySelector(".popover-button.active"),t=document.querySelector(".popover-content.show-menu");e&&e.classList.remove("active"),t&&t.classList.remove("show-menu")}function k(e){if(e.namespace&&"Auth.error"!=e.namespace){var t=e.namespace.split(".");"function"==typeof window[t[0]][t[1]]&&(delete e.namespace,window[t[0]][t[1]](e))}window.loading=!1}var S,E;function L(){}function I(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var o=e[t];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf("download_collection="))return}document.querySelector(".collection.expanded .download-holder button").classList.remove("disabled"),document.getElementById("collections").classList.remove("loading"),clearTimeout(E)}function q(){r.a.id?x():u()}function x(){window.toggleDetailBtnInterval&&clearInterval(window.toggleDetailBtnInterval);var e=document.querySelector("#download-form #icon_id").value,t=document.querySelector("#download-form #keyword").value,o=document.querySelector("#download-form #team").value,n=document.querySelector("#download-form #colored").value,i=document.querySelector("#download-form #premium").value;if(window.db instanceof Object){var a="addIcon",r=b.getActive();window.db.queryAll(r.bookmark_id,{query:{id:e}}).length&&(a="delIcon");var c,l=document.getElementById("detail-icon-button");if(l)"delIcon"===a?(l.classList.add("btn-danger"),c=messages.collection.delete_icon):(l.classList.remove("btn-danger"),c=messages.collection.add_icon),void 0!==l.querySelector("span")&&(l.querySelector("span").innerHTML=c),l.setAttribute("onclick","Widget."+a+"("+e+",'"+Object(s.a)(t)+"',"+o+", "+n+", "+i+")"),l.get("i").classList.toggle("icon--removecollection","delIcon"==a)}else window.toggleDetailBtnInterval=setInterval(q,1e3)}y.properties=["id","name","author","color","premium","sort","imageUrl"],y.set=function(e,t,o,n){if(!e)return!1;if(!e)throw"Invalid icon id (Icon.set)";if(!o)throw"Invalid bookmark_id (Icon.set)";var i=["color","name","sort","id","premium","imageUrl"];for(var r in t)-1==i.indexOf(r)&&delete t[r];if(!window.db.tableExists(o))throw"Table "+o+" doesn't exists (Icon.set)";if(!Object.keys(t).length)throw t;var c=a.j();window.db.update("list",{bookmark_id:o},function(e){return e.updated=c,e}),window.db.update(o,{id:e},function(e){for(var i in t)e[i]=t[i];return t={},y.properties.forEach(function(o){t[o]=e[o]}),t.bookmark_id=o,t.updated=c,n||b.emit("put_icon",t),e}),window.db.commit()},y.refreshSVG=function(e){var t=Object(a.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .icon--item[data-id='"+e.original+"']");t.dataset.color=e.color;var o=S.imageUrl;t.get("svg,img").outerHTML='<img src="{0}" data-premium="4"></img>'.format(o),"XXXXXX"!=t.dataset.color?(L.getSVGCode({id:e.original,bookmark:e.bookmark_id,src:o,premium:4,color:e.color}),y.set(e.original,{id:e.original,color:e.color},e.bookmark_id,!0),t.dataset.id=e.original):(L.getSVGCode({id:e.id,bookmark:e.bookmark_id,src:o,premium:4,color:e.color}),y.set(e.original,{id:e.id,premium:4,color:e.color},e.bookmark_id,!0),t.dataset.id=e.id),q()},y.toggle=function(e){q();var t,o,n,i=document.querySelectorAll(".icons .icon--item[data-id='"+e+"']:not(.collectionIcon)");i.length&&[].forEach.call(i,function(e){e.classList.toggle("selected"),t=e.get(".overlay .add-remove"),o=["add","remove"],n=e.get(".tooltip .content span"),e.classList.contains("selected")&&o.reverse(),t.classList[o[0]]("icon--addcollection"),t.classList[o[1]]("icon--removecollection"),"remove"===o[0]&&(n.textContent="Remove from collection"),"add"===o[0]&&(n.textContent="Add to collection")})},y.rename=function(e){var t=(e=e instanceof Element?e:e.currentTarget).value.length?a.p(e.value):e.dataset.original;if(t!=e.dataset.original){var o=parseInt(e.parent(".icon--item").dataset.id,10),n=Object(a.a)(".collection[data-order='0']").dataset.bookmark;y.set(o,{name:t},n),e.dataset.original=t,e.value=t,ga("send","event","Collection","Rename Icon")}},y.cleanSvgIcon=function(e){var t=document.createElement("div");t.innerHTML=e;for(var o=t.getElementsByTagName("*"),n=-1,i=o.length;++n<i;)void 0===o[n]&&o[n].hasAttribute("fill")&&"none"==o[n].getAttribute("fill")&&(!o[n].hasAttribute("stroke")||o[n].hasAttribute("stroke")&&"none"==o[n].getAttribute("stroke"))&&o[n].parentNode.removeChild(o[n]);return t.innerHTML},y.equal_colors=function(e){if(!Array.isArray(e)||1==e.length||0==e.length)return null;for(var t=0;t<e.length;t++)if(t>0&&e[t]!=e[t-1])return e;return null},y.checkSvgColor=function(e){var t=e.match(/#(?:[a-f\d]{3}){1,2}\b|rgb\((?:(?:\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)\s*,){2}\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)|\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%(?:\s*,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%){2})\s*\)|hsl\(\s*0*(?:360|3[0-5]\d|[12]?\d?\d)\s*(?:,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*){2}\)|(?:rgba\((?:(?:\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)\s*,){3}|(?:\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*,){3})|hsla\(\s*0*(?:360|3[0-5]\d|[12]?\d?\d)\s*(?:,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*){2},)\s*0*(?:1|0(?:\.\d+)?)\s*\)/gi);return null!=(t=y.equal_colors(t))?1:0},y.checkXmlFormat=function(e){var t=new DOMParser;try{var o=t.parseFromString(e,"text/xml")}catch(e){return!1}return"svg"==(/script/i.test(e)?"ERROR while parsing":"parsererror"==o.documentElement.nodeName?"error while parsing":o.documentElement.nodeName)},y.checkUploadSvg=function(e){var t=new FileReader,o=sanitize_filename(e.name),n=new File([e],o,{type:e.type});if(e.size>15e4)return ga("send","event","Collection","Upload Icon","Error: Exceeded size."),a.d.danger("ERROR",messages.limit.max_size+" (Max. 150Kb.)",!1),!1;t.filename=o,t.filetype=e.type,t.file=n,t.onloadend=function(e){var t=0;window.webkitURL||window.URL||window;if("image/svg+xml"!=e.target.filetype)return ga("send","event","Collection","Upload Icon","Error: File not SVG"),void a.d.danger("ERROR",messages.collection.only_svg,!1);if(!y.checkXmlFormat(e.target.result))return ga("send","event","Collection","Upload Icon","Error: Malformed SVG"),a.d.danger("ERROR",messages.collection.svg_incorrect,!1),!1;t=y.checkSvgColor(e.target.result),e.target.filetype;var o=b.getActive(),n=window.db.query(o.bookmark_id).length+1;b.upload_icon(this.file,t,n)},t.readAsText(e),delete window.reader},y.moveDragStart=function(e){var t=e.originalEvent.dataTransfer;t.effectAllowed="move",t.dropEffect="move",L.dragged_icon="LI"==e.target.nodeName?e.target:e.target.parentNode.parentNode,L.dragged_icon.classList.add("dragHover"),L.dragged_position=parseInt(L.dragged_icon.dataset.sort,10)},y.moveDragEnter=function(e){var t,o="LI"==e.target.nodeName?e.target:e.target.parentNode.parentNode;if(o.dataset.id==L.dragged_icon.dataset.id)return!1;t=L.dragged_icon.dataset.sort==o.dataset.sort+1?e.currentTarget:L.dragged_icon.dataset.sort<=o.dataset.sort?e.currentTarget:e.currentTarget.nextElementSibling,L.moveIcon(L.dragged_icon,t),L.scroll(e.clientX,e.clientY)},y.moveDragLeave=function(e){},y.moveDragEnd=function(e){e.preventDefault(),e.stopPropagation(),y.moveDrop(e)},y.moveDrop=function(e){e.preventDefault();var t=b.getActive(),o=document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"]');if(L.reorderIcons(o,!1),L.dragged_icon.classList.contains("dragHover")){L.dragged_icon.classList.remove("dragHover");var n=parseInt(L.dragged_icon.dataset.id,10),i=parseInt(o.querySelector('li[data-id="'+n+'"]').dataset.sort,10);y.updateReorder(t.bookmark_id,n,L.dragged_position,i)}},y.updateReorder=function(e,t,o,n){b.emit("reorder_item",{bookmark_id:e,icon_id:t,old_order:o,new_order:n})},b.fetch=function(e){if(!0===e){var t=!1,o=document.getElementById("btn-fetch-collection");return!!o&&(Array.isArray(collection_icons)&&(collection_icons.every(function(e){return 0!=e.premium})&&(t=!0),b.limit.collections&&window.db.rowCount("list")>=b.limit.collections&&(t=!0)),void(o.disabled=t))}if("undefined"==typeof collection_icons)return!1;if(!Array.isArray(collection_icons)||(window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.logged:!gr.auth.logged)||b.limit.collections&&window.db.rowCount("list")>=b.limit.collections)return console.warn("No se puede realizar fetch",!Array.isArray(collection_icons),window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.logged:!gr.auth.logged,b.limit.collections&&window.db.rowCount("list")>=b.limit.collections),!1;var n={personal:!1,premium:!1},i={color:"000000"};i.name=document.getElementsByTagName("h1")[0].textContent,i.source="fetch",i.icons=collection_icons.filter(function(e){return 4==e.premium&&e.author!=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?(n.personal=!0,!1):!(1==e.premium&&(window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.premium:!gr.auth.me.premium))||(n.premium=!0,!1)}),n.premium&&a.d.warning("Ooops!",messages.collection.fetch_premium),n.personal&&a.d.warning("Ooops!",messages.collection.fetch_personal),new b(i,!1,!0)},b.init=function(){if(window.db)return;b.limit={};var e={icons:{value:10},collections:{value:1}};if(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.logged:gr.auth.logged){var t=Object(a.a)(".dropdown-upgrade.register");document.querySelector(".collections-holder")&&(document.querySelector(".collections-holder").classList.add("logged"),e={icons:{value:256},collections:{value:3}})}else t=Object(a.a)(".dropdown-upgrade.upgrade");t&&t.parentNode.removeChild(t),(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)&&(e.collections.value=0),Object.defineProperties(b.limit,e),Object.freeze(b);var o=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)||0;window.db=new localStorageDB(o);if(window.db.tableExists("list")?window.db.columnExists("list","status")||window.db.alterTable("list","status",1):(window.db.createTable("list",["name","bookmark_id","created","updated","active","source","order","color","status"]),!0),window.db.queryAll("list").forEach(function(e){window.db.columnExists(e.bookmark_id,"premium")||window.db.alterTable(e.bookmark_id,"premium",0),window.db.columnExists(e.bookmark_id,"sort")||window.db.alterTable(e.bookmark_id,"sort",0)}),window.db.tableExists("tour_demo_collection")&&(window.db.dropTable("tour_demo_collection"),window.db.deleteRows("list",{bookmark_id:"tour_demo_collection"})),window.db.commit(),localStorage.getItem("widget_state_user")!=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)&&null!==Object(a.a)("#collections-holder")&&(Object(a.a)("#collections-holder").innerHTML=""),null!==document.getElementById("collections-holder")&&document.getElementById("collections-holder").childElementCount){L.update(!0)}b.push(),b.fetch(!0)},b.pull=function(){b.emit("pull")},b.openEditMode=function(){b._toggleEditMode("add")},b.closeEditMode=function(){b._toggleEditMode("remove")},b._toggleEditMode=function(e){var t=Object(a.a)('.collection[data-order="0"]');t.get(".collection-content").classList[e]("edit-mode"),t.get(".header-sort").classList[e]("hidden"),t.get(".header-edit").classList[e]("visible"),t.get(".download-wrapper").classList[e]("hidden"),_()},b.openSortMode=function(){ga("send","event","Collection","Sort"),b._toggleSortMode("add"),b.FirstIconOrder("add"),document.querySelectorAll("li.icon-upload").forEach(function(e){e.dataset.tooltip=messages.collection.upload_disabled})},b.closeSortMode=function(){b._toggleSortMode("remove"),b.FirstIconOrder("remove"),document.querySelectorAll("li.icon-upload").forEach(function(e){e.dataset.tooltip=messages.collection.upload_enabled})},b._toggleSortMode=function(e){var t=Object(a.a)('.collection[data-order="0"]');t.get(".collection-content").classList[e]("sort-mode"),t.get(".header-sort").classList[e]("visible"),_()},b.toggleShareLayer=function(e){Object(a.a)('.collection[data-order="0"]').get(".collection-share").classList.toggle("visible"),_()},b.toggleBackupLayer=function(e){Object(a.a)('.collection[data-order="0"]').get(".collection-backup").classList.toggle("visible"),_()},b.merge=function(){var e=new localStorageDB(0);e.queryAll("list").forEach(function(t){if(t.icons=e.queryAll(t.bookmark_id),t.icons.length){var o=a.j();t.created||(t.created=o),t.updated||(t.updated=o),new b(t,!1,!0,!0)}}),e.drop()},b.set_id=function(e){window.db.renameTable(e.old_id,e.bookmark_id),window.db.update("list",{bookmark_id:e.old_id},function(t){return t.bookmark_id=e.bookmark_id,t.source="local",t}),window.db.commit(),window.db.rowCount(e.bookmark_id)&&(window.db.update(e.bookmark_id,function(e){return!0},function(t){return t.bookmark_id=e.bookmark_id,t}),window.db.commit()),L.limitsCollection(e.bookmark_id);var t=Object(a.a)(".collection[data-bookmark='"+e.old_id+"']");t&&(t.dataset.bookmark=e.bookmark_id);var o=t.querySelector(".header-options button.flaticon-bin");o&&(o.dataset.bookmark=e.bookmark_id);var n=t.querySelector(".collection-share input");if(n){var i=n.value.split("/");i.pop(),i.push(e.bookmark_id),n.value=i.join("/")}var r=Object(a.a)(".box[data-bookmark='"+e.old_id+"']");r&&(r.dataset.bookmark=e.bookmark_id);var c=Object(a.a)(".max-collections__item[data-bookmark='"+e.old_id+"']");c&&c.setAttribute("data-bookmark",e.bookmark_id)},b.emit=function(e,t,o=null){if("tour_demo_collection"!=(t=t instanceof Object?t:{}).bookmark_id)if("put_icon"===e){var n=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===n)return gr.log("[ERROR] REQUEST URL no definida");"/"!=n.substr(0,1)&&"http"!=n.substr(0,4)&&(n=ACCOUNTS_URL+"request/"+n),n+="?o="+ACCOUNTS_API_KEY,n+="&kfc="+i,t=JSON.stringify(t),Object(p.a)(n,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{S=e.data,o&&o()})}else if("push"===e){n=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===n)return gr.log("[ERROR] REQUEST URL no definida");"/"!=n.substr(0,1)&&"http"!=n.substr(0,4)&&(n=ACCOUNTS_URL+"request/"+n),n+="?o="+ACCOUNTS_API_KEY,n+="&kfc="+i,t=JSON.stringify(t),Object(p.a)(n,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{o&&o(e.data.bookmarks),k(e.data),L.update()})}else{if(window.FeatureFlag.isEnabled("user_oauth")){n=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===n)return gr.log("[ERROR] REQUEST URL no definida");"/"!=n.substr(0,1)&&"http"!=n.substr(0,4)&&(n=ACCOUNTS_URL+"request/"+n),n+="?o="+ACCOUNTS_API_KEY,n+="&kfc="+i,t=JSON.stringify(t),Object(p.a)(n,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{e.data&&k(e.data),L.update()})}else gr.request.post("/collections/"+e,t);o&&"create"==e&&o(t.bookmark_id)}},b.limitReached=function(){var e=Object(a.a)(".max-collections__holder"),t=Handlebars.tag("collection-limit-box"),o=window.db.queryAll("list",{query:{status:1}});(b.limit.collections?o.length-b.limit.collections:0)<1||(Object(a.a)("#max-collections").classList.add("visible"),e.innerHTML="",o.forEach(function(o){o.icons=window.db.queryAll(o.bookmark_id,{limit:10,sort:[["created","DESC"]]}),o.count=window.db.rowCount(o.bookmark_id),e.insertAdjacentHTML("beforeend",t(o))}),document.querySelector(".max-collections__second-step p strong").innerHTML="<strong>"+o.length+"</strong>")},b.set=function(e,t){var o=Object(a.a)(".collection[data-bookmark='"+e+"']"),n=t.force,i=t.old_color;for(var r in t)-1==["name","bookmark_id","source","color"].indexOf(r)&&delete t[r];Object.keys(t).length&&(t.updated=a.j(),window.db.update("list",{bookmark_id:e},function(a){"name"in t&&(o.get(".collection-name").innerHTML=t.name),"bookmark_id"in t&&(o.dataset.bookmark=t.bookmark_id);var r={bookmark_id:e,force:n,old_color:i};for(var c in t)a[c]=t[c],r[c]=t[c];return b.emit("set",r),a}),window.db.commit())},b.editName=function(){var e=Object(a.a)(".collections [data-order='0'] .collection-header .edit-name");e.classList.add("active"),e.get("input").select()},b.list=function(){var e=Object(a.a)("#collections-holder");if([].forEach.call(document.find("#collections .collection"),function(e){0==e.getAttribute("data-order")&&e.classList.contains("expanded")?(e.classList.remove("expanded"),ga("send","event","Collection","List","Hide")):(0==e.getAttribute("data-order")&&e.classList.add("expanded"),ga("send","event","Collection","List","Show"))}),e.classList.toggle("overflow"),e.classList.toggle("scrollable"),e.matches(".scrollable"))for(const t of e.children)if(t.matches(".locked")){const t=document.createElement("div");t.innerHTML=`\n                    <div class="collection-locked">\n                        <div class="collection-locked-box">\n                            <i class="icon icon--exclamation"></i>\n                        </div>\n                        <div class="collection-locked-box">\n                            <p class="collection-locked-box--title mg-none">${messages.collection.locked_title}</p>\n                            <p class="collection-locked-box--text mg-none">${messages.collection.locked_text}</p>\n                            <a href="${messages.collection.locked_url}" class="bj-button bj-button--sm bj-button--yellow track" data-track-arguments="all, event, collection, go-to-premium, collection-locked">${messages.collection.locked_button}</a>\n                        </div>\n                    </div>\n                `,t.classList.add("collection-locked-outside"),e.insertAdjacentElement("afterbegin",t);break}e.matches(".overflow")&&document.querySelector(".collection-locked-outside")&&document.querySelector(".collection-locked-outside").remove()},b.expandCollapse=function(){var e=Object(a.a)("#collections"),t=Object(a.a)("#viewport");e.classList.toggle("expanded"),t.classList.toggle("collections-expanded")},b.setActive=function(e,t){e||(e=b.getActive().bookmark_id);var o=window.db.queryAll("list",{sort:[["order","ASC"]]}),n=[e];if(!t){var i=Object(a.a)("#collections-holder");i&&(i.scrollTop=0,i.classList.add("overflow"),i.classList.remove("scrollable")),i&&i.matches(".overflow")&&document.querySelector(".collection-locked-outside")&&document.querySelector(".collection-locked-outside").remove()}var r=o.length>1?o.length>2?"collection-height-2":"collection-height-1":"";o.forEach(function(o){o.bookmark_id!=e&&n.push(o.bookmark_id);var i=Object(a.a)('.collection[data-bookmark="'+o.bookmark_id+'"]');if(i){if(i.length>1)for(var c=1,l=i.length;c<l.length;c++)i[c].parentNode.removeChild(c);o.order=n.indexOf(o.bookmark_id),i.dataset.order=o.order,o.bookmark_id==e&&(o.active=1,i.classList.remove("collection-height-1","collection-height-2"),t||i.classList.add("expanded"),r.length&&i.classList.add(r)),window.db.update("list",{bookmark_id:o.bookmark_id},function(e){return e.order=o.order,e.active=o.active,e}),window.db.commit()}}),void 0!==c&&c.set_collection(),L.limitsCollection(e),L.update(null,t)},L.limitsCollection=function(e){if(!e)return!1;var t=Object(a.a)("#collections-toggle"),o=window.db.rowCount(e),n=Object(a.a)(".collection[data-bookmark='"+e+"']");if(n){var i=n.querySelector(".max-icons-collection");if(o>=b.limit.icons)(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?i&&(i.style.display="block",a.d.danger("Ooop!",messages.limit.collection)):a.d.danger("Ooop!",messages.limit.guest),t.classList.add("limit-reached"),n.classList.add("limit-reached");else{i&&(i.style.display="none");var r=n.querySelector(".icons-collection-noregister");r&&(n.classList.remove("nologged-limit-reached"),n.querySelector(".collection-content").classList.remove("nologged-limit-reached"),r.style.display="none"),t.classList.remove("limit-reached"),n.classList.remove("limit-reached")}}},b.getActive=function(){if(window.db){if(!window.db.rowCount("list"))throw"No collections stored";var e=window.db.queryAll("list",{query:{active:1}});return e=e.length?e[0]:window.db.queryAll("list")[0]}},b.clear=function(e){window.db.truncate(e),L.clear(),b.emit("clear",{bookmark_id:e}),void 0!==c&&c.collection_delete(e);var t=document.get(".collection[data-order='0'] .collection-header .edit-name input");t&&(t.value=messages.collection.default_name,t.classList.remove("limit-reached"),b.rename()),L.updateToggle(),L.markSelectedIcons(),ga("send","event","Collection","Clear")},b.duplicate=function(){ga("send","event","Collection","Duplicate");var e=b.getActive(),t={},o=a.j(),n=!1;t.name=e.name+" 2",t.status=1,t.color=e.color,t.created=o,t.updated=o,t.source="local",t.icons=window.db.queryAll(e.bookmark_id),t.icons.length&&t.icons.forEach(function(e){4==e.premium&&(n=!0)}),n?this.duplicate_files(t):new b(t,!1,!0)},b.duplicate_files=function(e){var t=new FormData;t.append("collection",JSON.stringify(e)),$.ajax({url:APP_URL+"Collections/duplicate",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){new b(e.data.data,!1,!0)}})},b.del=function(e,t){e instanceof Object&&(t=!0,e=e.id),e||(e=Object(a.a)(".collection[data-order='0']").dataset.bookmark);var o=window.db.queryAll("list",{query:{bookmark_id:e}});if(!o.length)return window.db.tableExists(e)&&window.db.dropTable(e),window.db.commit(),!1;if(o=o[0],1==window.db.rowCount("list")&&"tour_demo_collection"!=o.bookmark_id)return void b.clear(o.bookmark_id);window.db.deleteRows("list",{bookmark_id:o.bookmark_id}),window.db.commit(),window.db.tableExists(o.bookmark_id)&&window.db.dropTable(o.bookmark_id),void 0!==c&&c.collection_delete(o.bookmark_id),window.db.update("list",function(e){return e.order>o.order},function(e){e.order=parseInt(e.order,10)-1}),window.db.commit();var n=Object(a.a)(".collection[data-bookmark='"+o.bookmark_id+"']");if(!n)return!1;n.parentElement.removeChild(n);let i=b.limit.collections&&window.db.rowCount("list")>=b.limit.collections;document.querySelector("#new_collection_btn").disabled=i,window.db.rowCount("list")||b.new(),t||(b.emit("del",{bookmark_id:o.bookmark_id}),ga("send","event","Collection","Delete")),b.setActive(null,window.db.rowCount("list")>1)},b.new=function(e){if(!(b.limit.collections&&window.db.rowCount("list")>=b.limit.collections)&&(void 0!==e&&e instanceof Object||(e={}),e.name=void 0!==e.name&&e.name.length?e.name:messages.collection.default_name,new b(e),void 0!==c&&(c.set_collection(),c._toogle_cursors()),b.getActive())){var t=document.querySelector('section.collection[data-bookmark="'+b.getActive().bookmark_id+'"]');t.querySelector("div.edit-name").classList.add("active"),t.querySelector("div.edit-name input.collection-name-input").select()}},b.push=function(e){var t=e&&"number"==typeof e?{query:{bookmark_id:e}}:{sort:[["order","DESC"]]},o=window.db.queryAll("list",t);o.forEach(function(e){["ID"].forEach(function(t){delete e[t]}),e.icons=window.db.queryAll(e.bookmark_id,{sort:[["sort","DESC"]]})});b.emit("push",{data:o},function(e){let t=null;void 0!==e&&(window.db.showTables().length>0&&(window.db.showTables().forEach(e=>{window.db.dropTable(e)}),window.db.createTable("list",["name","bookmark_id","created","updated","active","source","order","color","status"]),window.db.commit()),e.forEach(function(e){let o=e.data.icons;o&&o.length>0?window.db.tableExists(e.data.bookmark_id)||(window.db.createTableWithData(e.data.bookmark_id,o),window.db.insertOrUpdate("list",{bookmark_id:e.data.bookmark_id},e.data),window.db.commit()):(window.db.tableExists(e.data.bookmark_id)||(null===t&&window.db.rowCount("list")&&(t=b.getActive().bookmark_id),window.db.createTable(e.data.bookmark_id,y.properties)),window.db.insertOrUpdate("list",{bookmark_id:e.data.bookmark_id},e.data),window.db.columnExists(e.data.bookmark_id,"imageUrl")||window.db.alterTable(e.data.bookmark_id,"imageUrl",""),window.db.commit())})),t&&b.setActive(t)})},b.enqueue=function(e){var t=Object.keys(e);if(t.length>1){!0;var o=0;for(var n in e)if(++o,"function"==typeof window[e[n].namespace][e[n].callback]){if(e[n].data)try{e[n].data.prevent=o!=t.length}catch(i){e[n].prevent=o!=t.length}window[e[n].namespace][e[n].callback](e[n].data)}}localStorage.getItem("fi_0")&&(!0,b.merge())},b.load=function(e){if(!Array.isArray(e)&&"object"==typeof e)e=Object.keys(e).map(function(t){return e[t]});e.forEach(function(e){if(Object(a.a)(".collection[data-bookmark='"+e.bookmark_id+"']"))return!1;e.source="remote",window.db.tableExists(e.bookmark_id)&&window.db.dropTable(e.bookmark_id),e.icons.length?window.db.createTableWithData(e.bookmark_id,e.icons):window.db.createTable(e.bookmark_id,y.properties),window.db.insertOrUpdate("list",{bookmark_id:e.bookmark_id},e)}),window.firstColorChange=!0},b.rename=function(e){e||(e=Object(a.a)(".collection[data-order='0'] .collection-header .edit-name input"));var t=e.parent(".collection"),o=t.get(".collection-header .edit-name"),n=(n=o.get("input").value).length?n:messages.collection.default_name;o.classList.remove("active"),e.dataset.original!=n&&(t.get(".collection-name").innerHTML=n,e.dataset.original=n,b.set(t.dataset.bookmark,{name:n}),ga("send","event","Collection","Rename"))},b.getCollectionData=function(e){var t=window.db.queryAll("list",{query:{bookmark_id:e}});if(t.length&&((t=t[0]).icons=window.db.queryAll(e).map(function(e){return{id:e.id,team:e.author,name:e.name,color:"#"+e.color,premium:e.premium,sort:e.sort}}),t.icons.length))return t},b.download=function(e,t,o){var r=document.querySelector('.collection[data-bookmark="'+e+'"]');L.reorderIcons(r,!1);var c=b.getCollectionData(e);"iconfont"==t&&window.db.queryAll(e,{query:{color:"XXXXXX"}}).length&&a.d.warning(messages.collection.aware,messages.collection.iconfont_colors),window.db.queryAll(e,{query:{premium:4}}).length&&a.d.warning(messages.collection.aware,messages.collection.download_personal),o=o||512;let l=`${FLATICON_DOWNLOAD_URL}download-collection`;$('[name="download-collection-form"].active-form').attr("action",l),document.querySelector('.active-form [name="downC_format"]').value=t||"font",document.querySelector('.active-form [name="downC_size"]').value=o||512,document.querySelector('.active-form [name="downC_user_id"]').value=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)||0,document.querySelector('.active-form [name="downC_bookmark_id"]').value=c.bookmark_id,document.querySelector('.active-form [name="downC_bookmark_name"]').value=c.name,document.querySelector('.active-form [name="downC_icons"]').value=JSON.stringify(c.icons),document.querySelector('.active-form [name="downC_backup"]').value=JSON.stringify(c),Object(a.a)(".modal-collection .collection_name").innerHTML=c.name,n.update_download_counter(3e3),L.downloading(),(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?$('[name="download-collection-form"].active-form').trigger("submit"):i.check_modal_download("collection",null),EventTracker.send("all","event","download","collection",t.toUpperCase(),{metric2:c.icons.length})},b.downloadBackup=function(e){e.preventDefault();var t=b.getCollectionData(b.getActive().bookmark_id),o={ID:t.ID,active:t.active,bookmark_id:t.bookmark_id,color:t.color,created:t.created,name:t.name,order:t.order,source:t.source,status:t.status,updated:t.updated},n=(t.ID,t.bookmark_id,{colId:o,colBookmarkId:t.icons}),i=encodeURIComponent(btoa(JSON.stringify(n))),a=t.name.split(" ").join("_")+"_backup.txt";if(window.navigator.msSaveOrOpenBlob&&window.Blob){var r=new Blob([i],{type:"text/plain"});navigator.msSaveOrOpenBlob(r,a)}else{var c=document.createElement("a");c.setAttribute("download",a),c.setAttribute("href","data:text/plain;charset=utf-8,"+i),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),document.querySelector("div.collection-backup.visible").classList.remove("visible")}},b.ninja=function(e){L.delIcon(e.icon),a.d.danger("Ninja!",e.message)},b.share=function(e,t){share.popup({network:e,url:t})},b.upload_icon=function(e,t,o,n,i,a,r){if(!e)return!1;var c=e.id;null==e.id&&(c=Date.now().toString());var l=new FormData;l.append("iconCollection",e),l.append("isColor",t),l.append("sort",o),l.append("bookmark_id",b.getActive().bookmark_id),l.append("iconId",c),l.append("update",!0===r),void 0!==a&&l.append("name",a),void 0!==i&&l.append("color",i),void 0!==n&&l.append("id",n),$.ajax({url:FLATICON_UPLOAD_ICONS_URL+"Collections/upload_icon",type:"POST",data:l,cache:!1,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},success:function(e){ga("send","event","Collection","Upload Icon","No Error"),k((e=JSON.parse(e)).data)}})},b.delete_files=function(e){if(window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.id:!gr.auth.me.id)return!1;var t=new FormData;t.append("icons",JSON.stringify(e)),$.ajax({url:APP_URL+"Collections/delete_files",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){}})},b.dragOver=function(e){if(e.preventDefault(),"IE"==a.g())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=b.getActive();document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="block"},b.dragEnd=function(e){if(e.preventDefault(),"IE"==a.g())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=b.getActive();document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="none"},b.drop=function(e){if(e.stopPropagation(),e.preventDefault(),"IE"==a.g())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=b.getActive();if(document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="none",document.querySelector(".overlay-drop").classList.remove("show"),!this.checkUploadLimits(e))return!1;e.dataTransfer.dropEffect="copy";var o=e.dataTransfer.files;if(o.length){for(var n=0;n<o.length;n++)o[n].id=Date.now().toString()+n,y.checkUploadSvg(o[n]);document.getElementById("fileCollection-"+t.bookmark_id).value=""}return!1},b.checkUploadLimits=function(e){var t=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?256:3,o=b.getActive(),n=window.db.queryAll(o.bookmark_id,{query:{premium:4}}).length,i=t-((void 0!==e.dataTransfer?e.dataTransfer.files.length:e.target.files.length)+n),a=document.querySelector('.collection[data-bookmark="'+o.bookmark_id+'"]');return(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?!(i<0)||(a.querySelector(".overlay-drop").style.display="block",a.querySelector(".overlay-drop").classList.add("upgrade"),!1):(a.querySelector(".overlay-drop").style.display="block",a.querySelector(".overlay-drop").classList.add("register"),!1)},b.updateReorder=function(e,t){b.emit("reorder",{bookmark_id:e,icons:t})},b.FirstIconOrder=function(e){var t=b.getActive();if("add"==e)document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] ul.collection_icons_list .icon-fill').insertAdjacentHTML("beforebegin",'<li class="collectionIcon first-icon" data-id="0" data-sort="0"></li>');else{var o=document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] ul.collection_icons_list .first-icon');o&&o.parentNode.removeChild(o)}},b.restore_backup=function(e){L.restoring=!0;for(var t=0,o=0,n=[],i=[],r=window.db.query(b.getActive().bookmark_id),c=r.length-1;c>=0;c--)i.push(r[c].id);for(var l in e)Array.isArray(e[l])&&(n=e[l]);if(window.db.rowCount(b.getActive().bookmark_id)>=b.limit.icons)a.d.danger("Ooops!",messages.limit.collection);else{if(window.db.rowCount(b.getActive().bookmark_id)+n.length>b.limit.icons){var s=b.limit.icons-window.db.rowCount(b.getActive().bookmark_id),d=!0;e:for(l=n.length-1;l>=0;l--){if(!(t<=s)){d=!1;break e}if(!(-1===i.indexOf(n[l].id)&&t<s)){d=!1;break e}t++}d?n.forEach(function(e){e.id<999999999?L.addIcon(e.id,a.p(e.name),null,e.color.replace("#",""),e.premium,e.color.replace("#","")):a.d.warning("Ooops!",messages.collection.fetch_personal)}):a.d.warning("Ooops!",messages.limit.backup_max_size)}else n.forEach(function(e){e.id<999999999?-1===i.indexOf(e.id)?(t++,L.addIcon(e.id,a.p(e.name),null,e.color.replace("#",""),e.premium,e.color.replace("#",""))):o++:a.d.warning("Ooops!",messages.collection.fetch_personal)});if(o!=n.length){var u=messages.collection.success_restore.replace("{0}",t).replace("{1}",n.length);a.d.success("Great!",u)}if(o>0){u=messages.collection.icons_skiped.replace("{0}",o).replace("{1}",n.length);a.d.success("Ooops!",u)}}L.restoring=!1,L.updateButtons(),document.querySelector("div.collection-backup.visible").classList.remove("visible")},L._toggleEditPanel=function(e){return!0===e?($(".edit-icon-content .right .active").removeClass("active"),$(".edit-icon-content .right .download-settings").addClass("active"),void $(".edit-icon-content").removeClass("edit-color").removeClass("edit-settings").addClass("download-settings")):$(".edit-icon-content").hasClass("download-settings")?($(".edit-icon-content").removeClass("download-settings"),$(".edit-icon-content .right .download-settings").removeClass("active"),this.classList.add("active"),$(".edit-icon-content .right ."+this.dataset.panel).addClass("active"),void $(".edit-icon-content").addClass(this.dataset.panel)):void(this.classList.contains("active")?$(".edit-icon-content .right .download-settings").removeClass("active"):($(".edit-icon-content .right .customize").removeClass("active"),$(".edit-icon-content").toggleClass("edit-color").toggleClass("edit-settings"),$(".edit-icon-content .right header button").toggleClass("active"),$(".edit-icon-content .right div:not(.download-settings)").toggleClass("active"),$(".edit-icon-content .right .download-settings").removeClass("active")))},L._openEditModal=function(e,t,o,n){document.querySelector('[data-id="'+t.id+'"]');e?document.querySelector(".only_registered .alert_no_user")&&(document.querySelector(".only_registered .alert_no_user").classList.remove("zoomOut"),(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.status:gr.auth.me.status)?document.querySelector(".only_registered").classList.add("hidden"):(document.querySelector(".only_registered").classList.remove("hidden"),document.querySelector(".only_registered .alert_no_user").style="")):(L.reset_widget(),document.body.classList.remove("overflow"),document.querySelectorAll(".icon--item.collectionIcon .edit input[type=radio]:checked").forEach(function(e){e.checked=!1}),window.Editor.close())},L.restoring=!1,L.changeIconColor=function(e,t,o,n,i,a){var r=$(t).parents(".icon--item")[0],c=$(t).parents(".collection")[0];if(r&&([].forEach.call(r.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline"),function(t){if(t.removeAttribute("style"),t.hasAttribute("fill")&&"none"==t.getAttribute("fill")&&(!t.hasAttribute("stroke")||t.hasAttribute("stroke")&&"none"==t.getAttribute("stroke")))return t.parentNode.removeChild(t),!0;t.hasAttribute("stroke")&&"none"!=t.getAttribute("stroke")?t.setAttribute("stroke","#"+e):t.hasAttribute("fill")&&-1==e.indexOf("#")?t.hasAttribute("fill")&&r.dataset.color&&6==r.dataset.color.length&&"XXXXXX"!=r.dataset.color&&t.setAttribute("fill","#"+e.replace("#","")):t.setAttribute("fill","#"+e.replace("#",""))}),i?r.classList.add("whitebg"):r.classList.remove("whitebg"),L.markSelectedColor(e,r),r.dataset.color!=e&&"XXXXXX"!=r.dataset.color&&"2"!=r.dataset.color&&(r.dataset.color=e,!o))){var l=["icoChangeColor",r.dataset.id,c.dataset.bookmark].join("_");if("tour_demo_collection"==c.dataset.bookmark)return;clearTimeout(window[l]),window[l]=setTimeout(function(){y.set(r.dataset.id,{color:e},c.dataset.bookmark,n),ga("send","event","Collection","Change Icon Color",e,{dimension11:e}),delete window[l]},500)}},L.isLight=function(e){return 299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16)>=225e3},L.changeCollectionColor=function(e,t){var o,n=Object(a.a)(".collection[data-order='0']"),i=n.dataset.color!=e,r=n.dataset.color;if(i){if(n.dataset.color=e,L.markSelectedColor(e,n),o=n.querySelectorAll('.icon--item:not([data-color="XXXXXX"]) svg')){var c=L.isLight(e);[].forEach.call(o,function(t){L.changeIconColor(e,t,!1,!0,c,!0)})}"tour_demo_collection"!=n.dataset.bookmark&&(clearTimeout(window.changeCollectionColorInterval),window.changeCollectionColorInterval=setTimeout(function(){window.firstColorChange||(b.set(n.dataset.bookmark,{color:e,force:!0,old_color:r}),ga("send","event","Collection","Change Color",e,{dimension11:e})),window.firstColorChange&&delete window.firstColorChange},500))}},L.updateButtons=function(){var e=window.db.queryAll("list",{query:{status:1}}).length;window.db.tableExists("tour_demo_collection")&&e--,e>b.limit.collections&&b.limitReached();var t=b.getActive(),o=window.db.rowCount(t.bookmark_id),n=Object(a.a)(".collection[data-bookmark='"+t.bookmark_id+"']"),i=n.querySelector(".menu-options ul.collection-options");if(i&&(o>0?(i.querySelector(".flaticon-collection_sort").removeAttribute("disabled"),i.querySelector(".flaticon-edit_collection_icons").removeAttribute("disabled"),n.querySelector(".collection-backup-download").classList.remove("disabled")):(i.querySelector(".flaticon-collection_sort").setAttribute("disabled","disabled"),i.querySelector(".flaticon-edit_collection_icons").setAttribute("disabled","disabled"),n.querySelector(".collection-backup-download").classList.add("disabled"))),window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.premium:!gr.auth.me.premium){var r=e>=b.limit.collections,c=document.querySelectorAll(".collection-options .flaticon-duplicate");c&&[].forEach.call(c,function(e){e.disabled=r})}(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.logged:gr.auth.logged)||[].forEach.call(document.querySelectorAll(".collection .flaticon-share"),function(e){e.parentNode.dataset.tooltip=messages.collection.share_disabled,e.disabled=!0}),e>1?Object(a.a)("#list_collections_btn").removeAttribute("disabled"):Object(a.a)("#list_collections_btn").setAttribute("disabled","disabled");let l=b.limit.collections&&window.db.queryAll("list").length>=b.limit.collections;document.querySelector("#new_collection_btn").disabled=l,b.fetch(!0)},L.updateToggle=function(){var e=Object(a.a)("#collections-toggle"),t=b.getActive();if(t){var o=window.db.rowCount(t.bookmark_id),n=Object(a.a)(".collection[data-bookmark='"+t.bookmark_id+"']");if(n){(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.logged:gr.auth.logged)||(0==o?n.querySelector(".collection-content .collection-options").classList.add("no-icons"):n.querySelector(".collection-content .collection-options").classList.remove("no-icons")),n.querySelector(".badge.badge-gray").innerHTML=o;var i=window.db.queryAll(t.bookmark_id,{query:{color:"XXXXXX"}}).length==o,r=window.db.queryAll(t.bookmark_id,{query:{premium:4}}).length==o;if(t.status){n.querySelector(".collection-content .download-holder button").disabled=!o;var c=n.querySelector(".collection-options .color_btn_holder");c&&(c.dataset.tooltip=!o||i?messages.collection.color_disabled:messages.filters.color),(s=n.querySelector(".collection-download .download-files .download button[data-format='iconfont']")).disabled=i,s.parentNode.dataset.tooltip=i?messages.collection.iconfont_disabled:messages.collection.iconfont_tooltip;var l=n.querySelector(".collection-download .download-files .download button[data-format='psd']"),s=(n.querySelector(".collection-download .download-files .download button[data-format='eps']"),n.querySelector('.collection-download .download-files .download a[data-format="png"]'),n.querySelector('.collection-download .download-files .download button[data-format="iconfont"]'));l.disabled=r,r?s.classList.add("disabled"):s.classList.remove("disabled")}if(null!==e){var d=e.querySelector(".badge");o?(d.classList.remove("hidden"),document.getElementById("collections-toggle").classList.remove("hide"),d.innerHTML=o):("home"==window.view.section&&document.querySelector("#collections-toggle span.badge").classList.contains("hidden")&&document.querySelector("section#hero")&&!document.querySelector("#header").classList.contains("fixed")?document.getElementById("collections-toggle").classList.add("hide"):"home"==window.view.section&&document.querySelector("#collections-toggle span.badge").classList.contains("hidden")&&!document.querySelector("section#hero")&&document.getElementById("collections-toggle").classList.remove("hide"),d.innerHTML=0),d.classList.add("animate");var u=setTimeout(function(){clearTimeout(u),d.classList.remove("animate"),L.updateIconsColorSvg(),e.classList.remove("loading"),Object(a.a)("#collections").classList.remove("loading")},500)}var m=document.querySelector(".empty-collection-gtm");null!==m&&m.remove(),window.db.rowCount(t.bookmark_id)||L.clear()}L.updateColoringCollectionButton(i,t.bookmark_id)}},L.updateColoringCollectionButton=function(e,t){if(!document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint'))return!1;e?document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint').setAttribute("disabled",!0):document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint').removeAttribute("disabled")},L.renderIcons=function(e,t){if(window.loading_svg){if(window.loading_svg.hasOwnProperty(t.dataset.bookmark))return!1}else window.loading_svg={},window.loading_svg[t.dataset.bookmark]=!0;Object(a.a)("#collections-toggle")&&Object(a.a)("#collections-toggle").classList.add("loading");var o=t.get(".icons");if(!(o.childElementCount>1)){var n=!1,i=!1,r=[],c=!1;if(e.forEach(function(a){var l=t.get('.icons .collectionIcon[data-id="'+a.id+'"]');if(a.sort<=e.length&&0!=a.sort&&null!=a.sort&&-1==r.indexOf(parseInt(a.sort,10))?r.push(parseInt(a.sort,10)):c=!0,!l){n||(n=Handlebars.tag("collection-icon"),a.bookmark_id=t.dataset.bookmark),i=!0,4!=a.premium&&(a.not_personal=!0),o.querySelector(".icon-upload").insertAdjacentHTML("afterend",n(a));let e=document.querySelector('.icons .collectionIcon[data-id="'+a.id+'"]');e.dataset.src=a.imageUrl,e.querySelector("img")&&(e.querySelector("img").src=a.imageUrl)}}),c&&L.reorderIcons(t,!0),e.length){for(var l="",s=30;--s;)l+='<li class="icon-fill icon--item"></li>';o.insertAdjacentHTML("beforeend",l)}i&&[].forEach.call(Object(a.a)(".collectionIconImage"),function(e){L.renderSVG(e)});var d=e.length;t.status&&(t.get("button.collection_color_button").disabled=!d,t.get("button.flaticon-edit_collection_icons").disabled=!d,t.get(".badge.badge-gray").innerHTML=d,t.classList.toggle("limit-reached",d>=b.limit.icons)),L.markSelectedColor(t.color,t)}},L.renderCollection=function(e){var t=window.db.rowCount("list"),o=Object(a.a)(".collection[data-bookmark='"+e.bookmark_id+"']");if(!o){var n=Handlebars.tag("collection");document.getElementById("collections-holder").insertAdjacentHTML("beforeend",n(e)),o=Object(a.a)(".collection[data-bookmark='"+e.bookmark_id+"']")}if(e.order)o.classList.remove("expanded","collection-height-2","collection-height-1");else{var i=t>1?t.length>2?"collection-height-2":"collection-height-1":"";i.length&&o.classList.add(i),o.classList.add("expanded"),e.icons.length&&L.renderIcons(e.icons,o)}o.get(".badge.badge-gray").innerHTML=e.icons.length},L.updateIconsColorSvg=function(){(function(e){return Array.prototype.slice.call(document.querySelectorAll(e))})('.icon--item.collectionIcon:not([data-color="XXXXXX"])').forEach(function(e){var t=L.isLight(e.dataset.color),o=e.getElementsByTagName("svg");L.changeIconColor(e.dataset.color,o,!1,!0,t,!0)})},L.update=function(e,t){if(null!==document.querySelector(".collection-section-header .collections-number")){var o=window.db.rowCount("list");if(!o)return void b.new();Object(a.a)(".collection-section-header .collections-number").innerHTML=o;var n=["-webkit-box-ordinal-group","-moz-box-ordinal-group","box-ordinal-group","-webkit-order","-moz-order","order","-ms-flex-order",""];window.db.queryAll("list",{sort:[["order","ASC"]]}).forEach(function(o,i,r){!e&&(o.order!=i||i&&o.active)&&(window.db.update("list",{bookmark_id:o.bookmark_id},function(e){return e.order=i,e.active=i?0:1,e}),window.db.commit(),o.order=i);var c=Object(a.a)(".collection[data-bookmark='"+o.bookmark_id+"']");if(o.icons=window.db.queryAll(o.bookmark_id,{sort:[["sort","ASC"]]}),c||(window.firstColorChange=!0,L.renderCollection(o),c=Object(a.a)(".collection[data-bookmark='"+o.bookmark_id+"']")),(c=Object(a.a)(".collection[data-bookmark='"+o.bookmark_id+"']")).style.cssText=n.join(":"+i+";"),c.dataset.order=i,i)c.classList.remove("expanded");else{var l=r.length>1?r.length>2?"collection-height-2":"collection-height-1":"collection-height";t||c.classList.add("expanded"),l.length&&c.classList.contains(l)&&c.classList.add(l),o.icons.length&&L.renderIcons(o.icons,c)}}),window.launching=null,L.markSelectedIcons(),L.updateToggle(),L.updateButtons()}},L.setLimits=function(e){if(!e)return!1;var t=Object(a.a)(".collection[data-bookmark='"+e.bookmark_id+"']");t.get(".max-icons-collection").style.display="none",t.get(".icons-collection-noregister").style.display="none",e.icons.length&&t.querySelector(".flaticon-edit_collection_icons").removeAttribute("disabled"),e.icons.length>=b.limit.icons?(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?t.classList.add("limit-reached"):(t.get(".max-icons-collection").style.display="block",a.d.danger("Ooop!",messages.limit.registered)):(t.get(".icons-collection-noregister").style.display="block",a.d.danger("Ooop!",messages.limit.guest)):t.classList.remove("limit-reached")},L.markSelectedColor=function(e,t){var o=t.classList.contains("icon")?".color-selector button":".collection-options .color-selector button",n=t.find(o);n&&[].forEach.call(n,function(t){t.dataset.color==e?t.classList.add("selected"):t.classList.remove("selected")})},L.show=function(){Object(a.a)("#collections").classList.add("visible"),Object(a.a)("#viewport").classList.add("collections-visible"),localStorage.widget_active=1},L.toggle=function(){var e=Object(a.a)("#collections"),t=Number(e.classList.toggle("visible")),o=t?"add":"remove";Object(a.a)("#viewport").classList[o]("collections-visible"),n.checkHybriDevices(),e.classList[o]("visible"),localStorage.widget_active=t;var i=document.createEvent("HTMLEvents");i.initEvent("resize",!0,!1),document.dispatchEvent(i),ga("send","event","Collection","Toggle",t?"Show":"Hide")},L.createIconsCPicker=function(e,t){if(e instanceof Element)var o=e.parent(".collectionIcon").get(".icon-cpicker"),n=$(o);else n=$(void 0!==e?".collection[data-bookmark='"+t+"'] .icon[data-id='"+e+"'] .icon-cpicker":".collection .icon--item .icon-cpicker");n.each(function(){var e=this.parent(".icon--item").dataset.color.toUpperCase(),t=$(this);t.data().hasOwnProperty("colpickId")||(this.innerHTML="",t.colpick({flat:!0,layout:"hex",submit:0,color:e,onChange:function(e,t,o,n){L.changeIconColor(t.toUpperCase(),n,!1,!1,L.isLight(t))}})),L.changeIconColor(e,this,!0,!0,L.isLight(e))})},L.createCollectionCPicker=function(){var e;$(".collection[data-order='0'] .col-cpicker").each(function(){e=this.parent(".collection").dataset.color.toUpperCase();var t=$(this);if(!t.data().hasOwnProperty("colpickId")){this.innerHTML="",window.firstColorChange=!0;t.colpick({flat:!0,layout:"hex",submit:0,color:e,onChange:function(e,t,o,n){L.changeCollectionColor(t.toUpperCase(),n)}}),t.colpickSetColor(e),delete window.firstColorChange}})},L.markSelectedIcons=function(e){if(!e){var t=b.getActive();if(!t)return;e=t.bookmark_id}var o=Object(a.a)(".viewport .icon--item:not(.collectionIcon):not(.icon-upload):not(.icon-fill)");o&&[].slice.call(o).forEach(function(e){e.classList.remove("selected");var t=e.get(".overlay .add-remove");null!==t&&(t.classList.add("icon--addcollection"),t.classList.remove("icon--removecollection"))}),window.db.queryAll(e).forEach(function(e){y.toggle(e.id)})},L.addIcon=function(e,t,o,n,r,l,s){if(void 0===e)return!1;if(!parseInt(e)&&!parseInt(e.id))return!1;const d=window.location.search,u=new URLSearchParams(d);if((null!==u.get("word")||null!==u.get("term"))&&Object(i.track_add_collection)(window.location.search,e,r),1==(r=1==e.premium?1:parseInt(r,10))&&(window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.premium:!gr.auth.me.premium)){let t=s,o=document.querySelector(".detail__icon__holder img");o&&(o=o.getAttribute("src")),h.a.callFunnelPremium(e);let n=document.querySelector("#modal-funnel-premium-add-icon"),i=new Image;n.querySelector(".row .img img")&&(i=n.querySelector(".row .img img"));let a=n.querySelector(".row .img");i.src=t||o,a.insertAdjacentElement("beforeend",i),modal.show(n.id),n.querySelector(".modal__container").classList.add("slide-in"),document.querySelector("#viewport").style.filter="none";let r=document.querySelector("body");return r.classList.contains("unscrollable")||(r.style.overflow="visible"),!1}if(!(_=b.getActive()).status){let e=document.querySelectorAll(".collection-locked-inside");for(const t of e){let e=t.closest(".collection");if(_.bookmark_id==e.dataset.bookmark){t.style.display="block";break}}return!1}var m=Object(a.a)(".collection[data-bookmark='"+_.bookmark_id+"']");m.classList.remove("empty");var p=m.get(".collection-content .premium-advise");if(p&&(p.style.display="none"),!window.launching&&window.db.rowCount(_.bookmark_id)>=b.limit.icons){(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?(m.get(".max-icons-collection").style.display="block",(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?a.d.danger("Ooop!",messages.limit.collection):a.d.danger("Ooop!",messages.limit.registered)):(m.classList.add("nologged-limit-reached"),m.querySelector(".collection-content").classList.add("nologged-limit-reached"),m.get(".icons-collection-noregister").style.display="block",a.d.danger("Ooop!",messages.limit.guest));var f=Object(a.a)("#collections-toggle .badge");f.classList.add("animate");var g=setTimeout(function(){clearTimeout(g),f.classList.remove("animate")},300)}else{var v=1;if(arguments.length>1){var _=b.getActive();if(v=parseInt(window.db.queryAll(_.bookmark_id).length,10)+1,e={id:parseInt(e,10),name:a.p(t),color:"2"==n?"XXXXXX":l||(null!=_.color?_.color:"000000"),premium:r||0,sort:v},Object(a.a)("section #detail .customize.active")&&"1"==n)if(void 0!==localStorage.color)e.color=localStorage.color.replace("#","");else{var k=Object(a.a)("section #detail #detail_picker .colpick_hex_field input");e.color=k?k.value:_.color}}if(m.classList.contains("expanded")||window.launching||m.classList.add("expanded"),window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium){var E=messages.external_icon.title,I=messages.external_icon.message,q=!1;void 0!==document.getElementById("detail")&&null!=document.getElementById("detail")&&Object(a.a)("#download-form #icon_id").value==e.id&&(q=!0,0==Object(a.a)("#download-form #selection").value&&a.d.warning(E,I,0));var x=document.querySelector('ul.icons .icon--item[data-id="'+e.id+'"]');q||null===x||0==x.dataset.premium&&0==x.dataset.selection&&(L.restoring||a.d.warning(E,I,0))}if(!window.db.queryAll(_.bookmark_id,{query:{id:e.id}}).length){var C=a.j();o=e.author||0;new y(e.id,a.p(e.name),o,e.color,_.bookmark_id,e.premium,e.sort),L.updateToggle(),L.updateButtons(),y.toggle(e.id);var T={};y.properties.forEach(function(t){T[t]=e[t]}),T.bookmark_id=_.bookmark_id,window.db.update("list",{bookmark_id:_.bookmark_id},function(e){return e.updated=C,e}),window.db.commit(),T.updated=C,T.created=C;var A=e;"number"==typeof A&&(A={id:e});var O={icon:A,name:t,author:o,color:n,premium:r,custom_color:l};void 0!==c&&c.icon_add(e.id,O);b.emit("put_icon",T,function(){var t;if(e.imageUrl=S.imageUrl,T.imageUrl=S.imageUrl,T.color=w(T.color)?T.color:"XXXXXX",e.src=S.imageUrl,window.db.insertOrUpdate(T.bookmark_id,{id:T.id},T),window.db.commit(),EventTracker.send("all","event","collection","add-icon",e.id),4==e.premium||"undefined"!=typeof src){var o=document.createElement("img");"undefined"!=typeof src?(o.id=e.id,o.dataset.premium=e.premium,o.dataset.src=e.imageUrl):(o.id=e.icon,o.dataset.premium=4,o.dataset.src=e.imageUrl),t=o,Object(a.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload").insertAdjacentHTML("afterend",Handlebars.tag("collection-icon")(e))}else e.not_personal=!0,m.get(".icon--item.collectionIcon[data-id='"+e.id+"']")||(Object(a.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload")||b.setActive(),Object(a.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload").insertAdjacentHTML("afterend",Handlebars.tag("collection-icon")(e)),t=Object(a.a)(".collection[data-order='0'] .icons .collectionIcon[data-id='"+e.id+"'] img"));t&&L.renderSVG(t)})}}},L.delIcon=function(e){var t=a.j(),o=Object(a.a)(".collection[data-order='0'] .collectionIcon.selected[data-id='"+e+"']");if(o){var n=o.parent(".collection").dataset.bookmark,i=o.parentElement,r=o.dataset.premium,l=o.dataset.name,s=o.dataset.color,d=o.dataset.src,u=(s="XXXXXX")?2:1;i.removeChild(o),i.children.length||(i.innerHTML=""),b.emit("del_icon",{bookmark_id:n,id:e,updated:t,premium:r})}if(!n||!window.db.tableExists(n))return!1;var m={icon:{id:e},id:e,name:l,author:0,color:u,premium:r,custom_color:s,src:d};void 0!==c&&c.icon_del(e,m),window.db.deleteRows(n,{id:e}),window.db.update("list",{bookmark_id:n},function(e){return e.updated=t,e}),window.db.commit(),y.toggle(e),L.updateToggle(),L.limitsCollection(n),ga("send","event","Collection","Remove Icon",e),L.updateButtons()},L.replaceSvg=function(e){var t,o=window.requestedSVG.indexOf(e.id);o>-1&&window.requestedSVG.splice(o,1);var n=Object(a.a)(".collection[data-bookmark='"+e.bookmark+"'] .icon--item[data-id='"+e.id+"']");if(!n){if(!(t=Object(a.a)(".collection .icon--item[data-id='"+e.id+"'] img")))return;n=Object(a.a)(".collection .icon--item[data-id='"+e.id+"']")}if(t||(t=n.get("img")),t&&e.svg){var i=e.svg.getElementsByTagName("svg")[0];i.setAttribute("width",48),i.setAttribute("height",48),(i="undefined"!=typeof ie?function e(t,o){o||(o=document);var n=o.createElementNS(t.namespaceURI,t.nodeName);for(var i=0,a=t.attributes.length;i<a;++i){var r=t.attributes[i];/^xmlns\b/.test(r.nodeName)||n.setAttributeNS(r.namespaceURI,r.nodeName,r.nodeValue)}for(var i=0,a=t.childNodes.length;i<a;++i){var c=t.childNodes[i];n.insertBefore(1==c.nodeType?e(c,o):o.createTextNode(c.nodeValue),null)}return n}(i):i)&&t&&(t.parentElement.replaceChild(i,t),L.createIconsCPicker(e.id,e.bookmark))}},L.renderSVG=function(e){if(null===e)return!1;e.removeAttribute("onload");var t=e.parent(".collection");if(void 0===t)return!1;if(!b.getActive().status)return e.src=e.dataset.src,!1;var o=t.querySelectorAll(".collection_icons_list.icons li.icon--item");if(o.length>0&&o.length<=2){for(var n="",i=30;i--;)n+='<li class="icon-fill icon--item"></li>';t.querySelector(".collection_icons_list.icons").insertAdjacentHTML("beforeend",n)}var a=e.parent(".icon--item"),r=e.dataset.src;e.classList.remove("collectionIconImage"),e.src=r,e.removeAttribute("data-src"),a.dataset.src=r},L.getSVGCode=function(e){if(e.id=parseInt(e.id,10)||0,window.requestedSVG||(window.requestedSVG=[]),-1===window.requestedSVG.indexOf(e.id)){window.requestedSVG.push(e.id);var t=new XMLHttpRequest;if(e.bookmark&&e.id&&e.src)t.onreadystatechange=function(){4==t.readyState&&200==t.status&&L.replaceSvg({svg:t.responseXML,id:e.id,bookmark:e.bookmark}),t.status},document.createElement("a").href=e.src.replace("/static",""),e.premium,t.open("GET",e.src,!0),t.send()}},L.clear=function(){document.querySelectorAll(".collection[data-order='0']").length&&(document.querySelectorAll(".collection[data-order='0'] ul.icons li.icon--item").forEach(function(e){e.classList.contains("icon-upload")||e.parentElement.removeChild(e)}),Object(a.a)(".collection[data-order='0']").classList.add("empty"))},L.scroll=function(e,t){var o=$("ul.collection_icons_list"),n=$("ul.collection_icons_list").offset().top,i=o.scrollTop();t>(o.outerHeight()||o.height())-80+n?setTimeout(function(){o.scrollTop(i+80)},100):i>0&&t<80+n&&setTimeout(function(){o.scrollTop(i-80)},100)},L.reorderIcons=function(e,t){var o=[],n=document.querySelectorAll('.collection[data-bookmark="'+e.dataset.bookmark+'"] ul.collection_icons_list li.collectionIcon.icon--item'),i=n.length;n.forEach(function(t){o.push({id:t.dataset.id,sort:i}),t.dataset.sort=i,y.set(t.dataset.id,{sort:i},e.dataset.bookmark,!0),i--}),t&&b.updateReorder(e.dataset.bookmark,o)},L.removeEmptyIcons_old=function(){document.querySelectorAll("ul.collection_icons_list .empty-icon").forEach(function(e){e.parentNode.removeChild(e)}),document.querySelectorAll("ul.collection_icons_list .dragHover").forEach(function(e){e.classList.remove("dragHover")})},L.addEmptyIcon_old=function(e,t){if(e.dataset.id==t.dataset.id)return!1;if(L.removeEmptyIcons(),e.classList.add("empty-icon"),"LI"==e.nodeName&&document.querySelectorAll('.collection_icons_list .collectionIcon[data-id="'+t.dataset.id+'"]').length){var o=b.getActive();document.querySelector('.collection[data-bookmark="'+o.bookmark_id+'"] ul.collection_icons_list').insertBefore(e,t)}},L.moveIcon=function(e,t){if(e.dataset.id==t.dataset.id)return!1;if("LI"==e.nodeName&&document.querySelectorAll('.collection_icons_list .collectionIcon[data-id="'+t.dataset.id+'"]').length){var o=b.getActive();document.querySelector('.collection[data-bookmark="'+o.bookmark_id+'"] ul.collection_icons_list').insertBefore(e,t),e.dataset.sort=parseInt(t.dataset.sort,10)+1}},L.downloading=function(){var e=new Date;e.setTime(e.getTime()+3e4);var t="; expires="+e.toGMTString();document.cookie="download_collection=1"+t+"; path=/",document.getElementById("collections").classList.add("loading"),document.querySelector(".collection.expanded .download-holder button").classList.add("disabled"),E=setInterval(I,1500)},L.reset_widget=function(e){document.querySelector(".detail__editor__body .free_user_warning").classList.add("hidden"),document.querySelector(".detail__editor__canvas .collection_limit").classList.add("hidden"),document.querySelector(".edit-icons-user-actions #download_button").classList.remove("hidden"),document.querySelector(".detail__editor__canvas .collection_locked").classList.add("hidden")},Handlebars.registerHelper("maxCollectionIcons",function(){return b.limit.icons}),Handlebars.registerHelper("iconLocked",function(){return 1!=this.premium||(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?4==this.premium?" personal-icon":"":" locked"}),Handlebars.registerHelper("collectionLimitIcons",function(){var e,t="";return this.icons.forEach(function(o){e=o.imageUrl,t+='<li><img src="'+e+'" name="'+o.name+'"></li>'}),t}),Handlebars.registerHelper("loadImg",function(e,t){return"src"in this?this.src:(this.premium,S.imageUrl)}),Handlebars.registerHelper("dataSearch",function(){var e=Object(a.a)("#words");if(e)return["?term=",e=e.value,"&page=",page,"&position=",this.position].join("")}),Handlebars.registerHelper("shareUrl",function(){return btoa(this.bookmark_id)}),Handlebars.registerHelper("setHeight",function(){if(window.db)return window.db.rowCount("list")>1?window.db.rowCount("list")>2?"collection-height-2":"collection-height-1":""}),void 0==window.btoa&&(window.btoa=function(e){for(var t,o,n=String(e),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,r="";n.charAt(0|a)||(i="=",a%1);r+=i.charAt(63&t>>8-a%1*8)){if((o=n.charCodeAt(a+=.75))>255)throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|o}return r});document.querySelectorAll(".collection_icons_list .popover-button").forEach(function(e){var t=e.closest(".collection_icons_list"),o=e.nextElementSibling;e.addEventListener("click",function(e){o&&t&&setTimeout(function(){var e=t.getBoundingClientRect(),n=o.getBoundingClientRect();if(n.left<=e.left){var i=e.left-n.left+"24";o.style.transform="translateX("+i+"px)"}},200)})});const C=[...document.querySelectorAll("input[name='collections__tour__option']")],T=e=>{C.map(t=>{t!=e.target&&t.checked&&(t.checked=!1)})};C.map(e=>e.addEventListener("click",T))},27:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n=o(1),i=o(32),a=o(26),r=o(0),c=(o(133),o(10));$(function(){if("IE"!=Object(n.g)()){$("#detail-overlay").on("click",function(e){e.target.parentNode.classList.contains("loading")&&(l.close(),l.pushState({page:"pagination"},document.title,l.prev_url))}),$("#detail-close").on("click",function(e){e.preventDefault(),r.e.view.setView(document.body.dataset.section||""),Detail.close(),l.pushState({page:"pagination"},document.title,l.prev_url),l.close(),Object(c.store_url)(l.prev_url)}),$(document).on("click","#detail-close-mobile",function(e){e.preventDefault(),l.pushState({page:"pagination"},document.title,l.prev_url),l.close(),Object(c.store_url)(l.prev_url)}),$(document).on("click","#detail-overlay #detail-prev",function(e){e.preventDefault(),l.goPrev()}),$(document).on("click","#detail-prev-mobile",function(e){e.preventDefault(),l.goPrev()}),$(document).on("click","#detail-overlay #detail-next",function(e){e.preventDefault(),l.goNext()}),$(document).on("click","#detail-next-mobile",function(e){e.preventDefault(),l.goNext()}),$(document).on("click",".collectionIcon .link-icon-detail",function(e){e.preventDefault(),e.stopPropagation(),document.location=this.href}),$(document).on("click",".link-icon-detail",function(e){if(!document.querySelector("#detail.loaded")){e.preventDefault();var t=(this.href||"")+(this.dataset.src||""),o=this.dataset.id;l.id||(l.prev_url=document.location.href,l.saveOGData());let c=new URL(t).search,s=new URLSearchParams(c),d=s.get("related_id");if(null===d?s.append("related_id",o):(s.delete("related_id"),s.append("related_id",d)),location.pathname.indexOf(messages.url.search)>-1&&(location.href.indexOf("style_id")>-1?s.append("origin","style"):s.append("origin","search")),location.pathname.indexOf(messages.url.free_icons)>-1&&s.append("origin","tag"),location.pathname.indexOf(messages.url.packs)>-1&&s.append("origin","pack"),null!==s.get("term")&&t.indexOf("term")>-1&&s.delete("term"),null!==s.get("word")&&s.delete("word"),t=t.indexOf("?")>-1?t+"&"+s.toString():t+"?"+s.toString(),o&&t){var n=document.getElementById("detail-overlay");n.classList.remove("hidden"),n.classList.add("loading"),document.getElementById("detail-spinner").classList.remove("hidden"),l.id&&l.hideNavigation(),l.id=o;var r=e.target.closest("li.icon--item");let c=!!e.currentTarget.dataset.edit;return l.pushState({page:"icon"},document.title,t),void Detail.getModalDetail(r,c).then(function(){i.Premium.check(),"function"==typeof a.f&&Object(a.f)();var e=l.getNext(l.id);l.checkNavigation("next",e.url);var t=l.getPrev(l.id);l.checkNavigation("prev",t.url),l.updateOGData(r.dataset.premium,r.dataset.icon_type),$("#detail-wrapper").animate({scrollTop:0},"slow"),Detail.firstView||(l.rendered=!0)})}}}),window.innerWidth<=640&&function(){let e=Object(r.c)("#detail-overlay");new MutationObserver(function(e){e[0].target.classList.contains("ready")&&setTimeout(()=>{let e=Object(r.c)(".detail__icon__inner"),t=Object(r.c)("#detail-prev-mobile"),o=Object(r.c)("#detail-next-mobile"),n=new Hammer(e);n.get("swipe").set({direction:Hammer.DIRECTION_ALL}),n.on("swipeleft swiperight",function(e){"swipeleft"!==e.type||o.classList.contains("hidden")?"swiperight"!==e.type||t.classList.contains("hidden")||l.goPrev():l.goNext()})},100)}).observe(e,{attributes:!0})}()}});var l={id:0,navigation:1,prev_url:document.location.href,icons_view:0,og_keys:["twitter:title","twitter:description","twitter:image","og:title","og:url","og:description","og:image","pinterest:title","pinterest:description","pinterest:image"],og_data:{},rendered:!1,checkNavigation:function(e,t){"next"==e&&(document.getElementById("detail-next").classList.toggle("hidden",!t),document.querySelector("#detail-next-mobile").classList.toggle("hidden",!t)),"prev"==e&&(document.getElementById("detail-prev").classList.toggle("hidden",!t),document.querySelector("#detail-prev-mobile").classList.toggle("hidden",!t))},hideNavigation:function(){document.getElementById("detail-next").classList.add("hidden"),document.getElementById("detail-prev").classList.add("hidden");let e=document.querySelector("#detail-next-mobile"),t=document.querySelector("#detail-prev-mobile");e&&e.classList.add("hidden"),t&&t.classList.add("hidden"),this.navigation=0},showNavigation:function(){document.getElementById("detail-next").classList.remove("hidden"),document.getElementById("detail-prev").classList.remove("hidden"),document.querySelector("#detail-next-mobile").classList.remove("hidden"),document.querySelector("#detail-prev-mobile").classList.remove("hidden"),this.navigation=1},getPrev:function(e){if(e){let t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return{id:null,url:null};let o=t.previousElementSibling;if(o&&(o.classList.contains("icon--item")||(o=o.previousElementSibling),o)){let t=o.dataset.id,n=o.querySelector("a");if(n&&e)return{id:t,url:n.href}}}return{id:null,url:null}},getPrevElement:function(e){if(e){let t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return null;let o=t.previousElementSibling;if(o&&(o.classList.contains("icon--item")||(o=o.previousElementSibling),o&&o.dataset.id))return o}return null},getNext:function(e){if(e){let t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return{id:null,url:null};let o=t.nextElementSibling;if(o&&(o.classList.contains("icon--item")||(o=o.nextElementSibling),o)){let t=o.dataset.id,n=o.querySelector("a");if(n&&e)return{id:t,url:n.href}}}return{id:null,url:null}},getNextElement:function(e){if(e){let t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return null;let o=t.nextElementSibling;if(o&&(o.classList.contains("icon--item")||(o=o.nextElementSibling),o&&o.dataset.id))return o}return null},goNext:function(){ga("send","event","Detail View","Move","Next"),this.goTo("next")},goPrev:function(){ga("send","event","Detail View","Move","Previous"),this.goTo("prev")},goTo:function(e){var t="prev"==e?this.getPrevElement(this.id):this.getNextElement(this.id);r.e.Editor&&r.e.Editor.close();let o=t.querySelector(".link-icon-detail");l.pushState({page:"icon"},document.title,o.href+(o.dataset.src||"")),Detail.getModalDetail(t).then(function(){i.Premium.check(),l.id=t.dataset.id;var o="prev"==e?l.getPrevElement(l.id):l.getNextElement(l.id);"next"==e?(document.getElementById("detail-next").classList.toggle("hidden",null==o),document.getElementById("detail-prev").classList.toggle("hidden",null==!o),document.querySelector("#detail-next-mobile").classList.toggle("hidden",null==o),document.querySelector("#detail-prev-mobile").classList.toggle("hidden",null==!o)):(document.getElementById("detail-prev").classList.toggle("hidden",null==o),document.getElementById("detail-next").classList.toggle("hidden",null==!o),document.querySelector("#detail-prev-mobile").classList.toggle("hidden",null==o),document.querySelector("#detail-next-mobile").classList.toggle("hidden",null==!o)),l.updateOGData(t.dataset.premium,t.dataset.icon_type)})},go:function(e){if(e)if(document.querySelector("#detail.loaded"))document.location.href=e;else{var t=this.getId(e);if(t)return this.prev_url||(this.prev_url=document.location.href),this.pushState({page:"icon"},document.title,e),this.id=t,void this.getDetail(e)}this.close()},close:function(){document.querySelector("body").classList.remove("unscrollable");var e=document.getElementById("detail-overlay");e.classList.remove("loading","ready"),e.classList.remove("hidden"),e.querySelector(".content").innerHTML="",this.restoreOGData(),this.icons_view=0,this.id=0},getId:function(e){var t=document.querySelector('a[href="'+e+'"]');return t?parseInt(t.parentNode.parentNode.dataset.id,10):null},getElementByUrl:function(e){var t=document.querySelector('.icon--holder a[href="'+e+'"]');return t?t.closest("li.icon--item"):null},pushState:function(e,t,o){const n=new CustomEvent("pushstate",{state:e,title:t,url:o});"object"==typeof window.history?window.history.pushState(e,t,o):History.pushState(e,t,o),window.dispatchEvent(n)},replaceState:function(e,t,o){History.replaceState(e,t,o)},saveOGData:function(){this.og_data.title=document.title;var e=this.og_data;this.og_keys.forEach(function(t){var o=-1!=t.indexOf("twitter")||-1!=t.indexOf("pinterest")?"name":"property";null!==document.querySelector("meta["+o+'="'+t+'"]')&&(e[t]=document.querySelector("meta["+o+'="'+t+'"]').content)}),this.og_data=e},restoreOGData:function(){var e;for(var t in this.og_data)if(e=this.og_data[t],"title"!=t){var o=-1!==t.indexOf("twitter")||-1!=t.indexOf("pinterest")?"name":"property";null!==document.querySelector("meta["+o+'="'+t+'"]')&&(document.querySelector("meta["+o+'="'+t+'"]').content=e)}else document.title=e;document.querySelector('meta[property="og:image:alt"]')&&("pack-detail"===r.e.view.section?document.querySelector('meta[property="og:image:alt"]').content=document.querySelector('meta[property="og:title"]').content:document.querySelector('meta[property="og:image:alt"]').remove())},updateOGData:function(e,t){let o=messages.og.title,n=messages.og.desc;"sticker"===t&&(o=o.replace("icons","stickers"),n=n.replace("vector icon","sticker"));var i=1==e,a=i?messages.common.free+" ":"premium ",r=i?"premium ":messages.common.free+" ",c=document.querySelector("#download-form #team").value,l=parseInt(document.querySelector("#download-form #icon_id").value,10);this.og_keys.forEach(function(e){var t=e.split(":"),i=e.split(":")[1],c="twitter"==t[0]||"pinterest"==t[0]?"name":"property";if(null!==document.querySelector("meta["+c+'="'+e+'"]'))switch(i){case"description":document.querySelector("meta["+c+'="'+e+'"]').content=n.replace(new RegExp("("+a+")","gi"),r);break;case"title":var l=document.querySelector(".detail__sidebar .title").innerHTML,s=document.querySelector(".author .username").innerHTML;document.querySelector("meta["+c+'="'+e+'"]').content=o.format(l,s).replace(new RegExp("("+a+")","gi"),r);break;case"url":document.querySelector("meta["+c+'="'+e+'"]').content=document.location.href}});var s=document.querySelector('meta[name="keywords"]');s&&(s.content=s.content.replace(new RegExp("("+a+")","gi"),r));var d="https://image.flaticon.com/{0}/png/512/{1}/{2}.png?size=1200x630f&pad=10,10,10,10&ext=png&bg=FFFFFFFF".format(c,Math.floor(l/1e3),l);document.querySelector('meta[property="og:image"]').content=d,document.querySelector('meta[name="twitter:image"]').content=d;let u=document.querySelector('meta[property="og:image:alt"]');u?u.content=document.querySelector(`.detail__icon__inner div[data-id="${l}"] img`).alt:((u=document.createElement("meta")).setAttribute("property","og:image:alt"),u.content=document.querySelector(`a[data-id="${l}"] img`).alt,document.querySelector('meta[property="og:image"]').insertAdjacentElement("afterEnd",u)),null!==document.querySelector('meta[name="pinterest:image"]')&&(document.querySelector('meta[name="pinterest:image"]').content=d)}}},316:function(e,t,o){"use strict";o.r(t);var n={};o.r(n),o.d(n,"fbpopup",function(){return l}),o.d(n,"pinpopup",function(){return s}),o.d(n,"glpopup",function(){return d}),o.d(n,"tweet",function(){return u});var i=o(0),a=o(26);var r=o(10);function c(){document.querySelector("meta[property='og:url']");var e=document.querySelector("meta[property='og:image']"),t=document.querySelector("meta[name='twitter:title']"),o=document.querySelector("meta[property='og:description']"),n=document.location.search?document.location.search:"";return{url:document.location.protocol+"//"+document.location.host+document.location.pathname+n,image:e?e.content:"",title:t?t.content:document.title,desc:o?o.content:document.title,pathname:window.location.pathname}}function l(e){void 0===e&&(e=c());var t="http://www.facebook.com/sharer.php?u="+e.url;window.open(t,"fbshare","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Facebook",e.pathname)}function s(e){void 0===e&&(e=c());var t="http://pinterest.com/pin/create/button/?url="+e.url+"&description="+e.title+"&media="+e.image;window.open(t,"pinshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Pinterest",e.pathname)}function d(e){void 0===e&&(e=c());var t="https://plus.google.com/share?url="+e.url;window.open(t,"glshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Google+",e.pathname)}function u(e,t){e.hasOwnProperty("preventDefault")&&e.preventDefault(),void 0===t&&(t=c());var o="http://twitter.com/share?url="+t.url+"&text="+t.title+"&";window.open(o,"Flaticon Twitter Share","height=450,width=550,top="+($(window).height()/2-225)+",left="+$(window).width()/2+",toolbar=0,location=0,menubar=0,directories=0,scrollbars=0"),ga("send","event","Social","Twitter",t.pathname)}window.fbpopup=l,window.pinpopup=s,window.tweet=u;var m=o(45),p=o(1),h=o(7),f=o(15);o(62);function g(e){if(e){var t="string"==typeof messages.common.cc_exp_title?messages.common.cc_exp_title:"Attention!",o="string"==typeof messages.common.cc_exp_desc?messages.common.cc_exp_desc:"Your credit card is about to expire, please update your credit card and continue with your premium plan";"undefined"!=typeof UserAlerts&&UserAlerts.warning(t,o,!0)}}function v(e){var t=e.status?e.premium?"premium":"registered":"guest";ga("set","dimension1",t),e.id&&ga("set","userId",e.id)}$(function(){let e=document.getElementById("logout_link");null!==e&&e.addEventListener("click",function(e){e.preventDefault(),window.FeatureFlag.isEnabled("user_oauth")||w.logout()})});var w={error:function(e){localStorage.removeItem("fi_user"),"undefined"!=typeof UserAlerts&&UserAlerts.warning(e.title,e.body),setTimeout(gr.auth.logout,3e3)},logout:function(){localStorage.removeItem("fi_user");const e=APP_URL+"logout";Object(h.a)(e,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json"},withCredentials:!0}).then(()=>{gr.auth.logout(),f.a.removeItem("g_state")})}};window.FeatureFlag.isEnabled("user_oauth")?"function"==typeof r.update_download_counter&&r.update_download_counter(1):gr.auth.timeout=setTimeout(function(){var e="string"==typeof messages.errors.connectivity?messages.errors.connectivity:"Error to connect Flaticon servers.";"undefined"!=typeof UserAlerts&&UserAlerts.danger("Oopps!",e),"function"==typeof Collection&&Collection.init()},3e3);var y=o(55);i.e.Collection=a.a,i.e.Widget=a.b,i.e.localStorageDB=function(e,t){e||(e="0");var o="fi_"+e,n=!1,i=null;try{var a=t==sessionStorage?sessionStorage:localStorage}catch(e){a=t}function r(e){return!!i.tables[e]}function c(e){r(e)||g("The table '"+e+"' does not exist")}function l(e,t,o){if(i.tables[e].fields=i.tables[e].fields.concat(t),void 0!==o)for(var n in i.data[e])if(i.data[e].hasOwnProperty(n))for(var a in t)i.data[e][n][t[a]]="object"==typeof o?o[t[a]]:o}function s(e,t){for(var o=Object.keys(i.data[e]),n=1;n<o.length+1;n++)if(o[n-1]!=n){t.ID=n;break}return t.ID||(t.ID=i.tables[e].auto_increment,i.tables[e].auto_increment++),i.data[e][t.ID]=t,t.ID}function d(e,t){return function(o,n){var i="string"==typeof o[e]?o[e].toLowerCase():o[e],a="string"==typeof n[e]?n[e].toLowerCase():n[e];return"DESC"===t?i==a?0:i<a?1:-1:i==a?0:i>a?1:-1}}function u(e,t){var o=[],n=!1,a=null;for(var r in i.data[e])if(i.data[e].hasOwnProperty(r)){for(var c in a=i.data[e][r],n=!0,t)if(t.hasOwnProperty(c))if("string"==typeof t[c]){if(null===a[c]||a[c].toString().toLowerCase()!=t[c].toString().toLowerCase()){n=!1;break}}else if(a[c]!=t[c]){n=!1;break}n&&o.push(r)}return o}function m(e,t){var o=[];for(var n in i.data[e])i.data[e].hasOwnProperty(n)&&1==t(v(i.data[e][n]))&&o.push(n);return o}function p(e){var t=[];for(var o in i.data[e])i.data[e].hasOwnProperty(o)&&t.push(o);return t}function h(e,t,o){for(var n="",a=0,r=0;r<t.length;r++){n=t[r];var c=o(v(i.data[e][n]));if(c){delete c.ID;var l=i.data[e][n];for(var s in c)c.hasOwnProperty(s)&&(l[s]=c[s]);i.data[e][n]=y(e,l),a++}}return a}function f(){try{return a.setItem(o,JSON.stringify(i)),!0}catch(e){return!1}}function g(e){throw new Error(e)}function v(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function w(e){return!e.toString().match(/[^a-z_0-9]/gi)}function y(e,t){for(var o="",n={},a=0;a<i.tables[e].fields.length;a++)void 0!==t[o=i.tables[e].fields[a]]&&(n[o]=t[o]);return n}function b(e,t){for(var o="",n={},a=0;a<i.tables[e].fields.length;a++)n[o=i.tables[e].fields[a]]=null===t[o]||void 0===t[o]?null:t[o];return n}return(i=a[o])&&(i=JSON.parse(i))&&i.tables&&i.data||(w(e)?(i={tables:{},data:{}},f(),n=!0):g("The name '"+e+"' contains invalid characters")),{commit:function(){return f()},isNew:function(){return n},drop:function(){a.hasOwnProperty(o)&&delete a[o],i=null},renameTable:function(e,t){return function(e,t){if(e==t)throw"Same table name choosen";if(!i.data.hasOwnProperty(e)&&!i.tables.hasOwnProperty(e))throw"The table doesn't exists on database";if(i.data.hasOwnProperty(t)||i.tables.hasOwnProperty(t))throw"New table name already exists on database";return i.data[t]=i.data[e],i.tables[t]=i.tables[e],delete i.data[e],delete i.tables[e],a.setItem(o,JSON.stringify(i)),!0}(e,t)},getDB:function(){return i},serialize:function(){return JSON.stringify(i)},tableExists:function(e){return r(e)},tableFields:function(e){return function(e){return i.tables[e].fields}(e)},tableCount:function(){return function(){var e=0;for(var t in i.tables)i.tables.hasOwnProperty(t)&&e++;return e}()},showTables:function(){return function(){var e=[];for(var t in i.tables)i.tables.hasOwnProperty(t)&&e.push(t);return e}()},columnExists:function(e,t){return function(e,t){var o=!1,n=i.tables[e].fields;for(var a in n)if(n[a]==t){o=!0;break}return o}(e,t)},createTable:function(e,t){e||(e=0);var o=!1;if(w(e))if(this.tableExists(e))g("The table name '"+e+"' already exists.");else{for(var n=!0,a=0;a<t.length;a++)if(!w(t[a])){n=!1;break}if(n){var r={};for(a=0;a<t.length;a++)r[t[a]]=!0;for(var c in delete r.ID,t=["ID"],r)r.hasOwnProperty(c)&&t.push(c);!function(e,t){i.tables[e]={fields:t,auto_increment:1},i.data[e]={}}(e,t),o=!0}else g("One or more field names in the table definition contains invalid characters")}else g("The database name '"+e+"' contains invalid characters.");return o},createTableWithData:function(e,t){("object"!=typeof t||!t.length||t.length<1)&&g("Data supplied isn't in object form. Example: [{k:v,k:v},{k:v,k:v} ..]");var o=Object.keys(t[0]);if(this.createTable(e,o)){this.commit();for(var n=0;n<t.length;n++)s(e,t[n])||g("Failed to insert record: ["+JSON.stringify(t[n])+"]");this.commit()}return!0},dropTable:function(e){c(e),function(e){delete i.tables[e],delete i.data[e]}(e),f()},truncate:function(e){c(e),function(e){i.tables[e].auto_increment=1,i.data[e]={}}(e),f()},alterTable:function(e,t,o){var n=!1;if(w(e)){if("object"==typeof t){for(var i=!0,a=0;a<t.length;a++)if(!w(t[a])){i=!1;break}if(i){var r={};for(a=0;a<t.length;a++)r[t[a]]=!0;for(var c in delete r.ID,t=[],r)r.hasOwnProperty(c)&&t.push(c);l(e,t,o),n=!0}else g("One or more field names in the table definition contains invalid characters")}else if("string"==typeof t)if(w(t)){var s=[];s.push(t),l(e,s,o),n=!0}else g("One or more field names in the table definition contains invalid characters")}else g("The database name '"+e+"' contains invalid characters");return n},rowCount:function(e){return c(e),function(e){var t=0;for(var o in i.data[e])i.data[e].hasOwnProperty(o)&&t++;return t}(e)},insert:function(e,t){return c(e),s(e,b(e,t))},insertOrUpdate:function(e,t,o){c(e);var n=[];if(t?"object"==typeof t?n=u(e,y(e,t)):"function"==typeof t&&(n=m(e,t)):n=p(e),0==n.length)return s(e,b(e,o));for(var i=[],a=0;a<n.length;a++)h(e,n,function(e){return i.push(e.ID),o});return i},update:function(e,t,o){c(e);var n=[];return t?"object"==typeof t?n=u(e,y(e,t)):"function"==typeof t&&(n=m(e,t)):n=p(e),h(e,n,o)},query:function(e,t,o,n,a,r){c(e);var l=[];return t?"object"==typeof t?l=u(e,y(e,t)):"function"==typeof t&&(l=m(e,t)):l=p(e),function(e,t,o,n,a,r){for(var c=null,l=[],s=null,u=0;u<t.length;u++)c=t[u],s=i.data[e][c],l.push(v(s));if(a&&a instanceof Array)for(u=0;u<a.length;u++)l.sort(d(a[u][0],a[u].length>1?a[u][1]:null));if(r&&r instanceof Array){for(var m=0;m<r.length;m++){var p={},h=r[m];for(u=0;u<l.length;u++)void 0!==l[u]&&(l[u].hasOwnProperty(h)&&p.hasOwnProperty(l[u][h])?delete l[u]:p[l[u][h]]=1)}var f=[];for(u=0;u<l.length;u++)void 0!==l[u]&&f.push(l[u]);l=f}return o=o&&"number"==typeof o?o:null,n=n&&"number"==typeof n?n:null,o&&n?l=l.slice(o,o+n):o?l=l.slice(o):n&&(l=l.slice(o,n)),l}(e,l,n,o,a,r)},queryAll:function(e,t){return t?this.query(e,t.hasOwnProperty("query")?t.query:null,t.hasOwnProperty("limit")?t.limit:null,t.hasOwnProperty("start")?t.start:null,t.hasOwnProperty("sort")?t.sort:null,t.hasOwnProperty("distinct")?t.distinct:null):this.query(e)},deleteRows:function(e,t){c(e);var o=[];return t?"object"==typeof t?o=u(e,y(e,t)):"function"==typeof t&&(o=m(e,t)):o=p(e),function(e,t){for(var o=0;o<t.length;o++)i.data[e].hasOwnProperty(t[o])&&delete i.data[e][t[o]];return t.length}(e,o)}}},i.e.Functions=r,i.e.SocialShare=n,i.e.Downloads=m,i.e.sanitize_filename=p.o,i.e.callback_handler=a.c,i.e.logged_in_callback=function(e){var t=!1;if("function"==typeof Collection&&Collection.init(),v(e),e.status)localStorage.fi_user=JSON.stringify(e);else{var o=document.querySelectorAll(".btn-download-pack");[].forEach.call(o,function(e){e.disabled=!0,e.removeAttribute("data-pack")})}for(var n in clearTimeout(window.FeatureFlag.isEnabled("user_oauth")?"":window.gr.auth.timeout),window.FeatureFlag.isEnabled("user_oauth")?(UserSession.userInfo.session.id=~~UserSession.userInfo.session.id,UserSession.userInfo.session.premium=~~UserSession.userInfo.session.premium):(gr.auth.me.id=~~gr.auth.me.id,gr.auth.me.premium=~~gr.auth.me.premium),(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)&&notify.addCustom({id:"cc_will_expire",priority:"5",showPremium:!0,expires:function(){return new Date((new Date).getTime()+36e5)},closeCallback:function(e){const t=document.getElementById("user-alert-container");if(t){const o=t.querySelector("button");o&&o.addEventListener("click",e)}},showCallback:function(){return 1==e.cc_will_expire},callback:function(){g(e.cc_will_expire)}}),window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session:gr.auth.me)if((window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session:gr.auth.me).hasOwnProperty(n)){if(!(Object.defineProperty instanceof Function))return!1;Object.defineProperty(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session:gr.auth.me,n,{value:(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session:gr.auth.me)[n],writable:!1,configurable:!1,enumerable:!1})}"function"==typeof r.update_download_counter&&r.update_download_counter(1),"object"!=typeof notify||t||""!=URL_CAMPAIGN||(t=!0,notify.printQueue())},i.e.Notifier=p.c,i.e.INFINITY=y.INFINITY,window.FeatureFlag.isEnabled("user_oauth")&&"function"==typeof i.e.Collection&&i.e.Collection.init()},32:function(e,t,o){"use strict";o.r(t),o.d(t,"Premium",function(){return n}),$(function(){$("#license-premium").on("change",function(){n.bannerSearch()}),void 0!==n&&n.imgDetailIcon()});var n={premium:0,selector_show:".fi-premium",selector_hide:".fi-not-premium",selector_show_icon:".fi-premium-icon",selector_hide_icon:".fi-not-premium-icon",original_banner:"",premium_banner:"",init:function(){window.FeatureFlag.isEnabled("user_oauth")?this.premium=window.UserSession.userInfo.session&&void 0!==window.UserSession.userInfo.session.premium?parseInt(window.UserSession.userInfo.session.premium,10):0:this.premium=void 0!==gr.auth.me.premium?parseInt(gr.auth.me.premium,10):0,this.activatePremium(),this.packLink()},is:function(){return this.premium},activatePremium:function(){var e=document.querySelector("#download-form #premium");e&&(1==e.value?this.premium?(this.showElements(this.selector_show_icon),this.hideElements(this.selector_hide_icon)):(this.showElements(this.selector_hide_icon),this.hideElements(this.selector_show_icon)):(this.showElements(this.selector_show_icon),this.hideElements(this.selector_hide_icon))),this.premium?(this.showElements(this.selector_show),this.hideElements(this.selector_hide)):(this.showElements(this.selector_hide),this.hideElements(this.selector_show)),document.getElementById("edge-content-icon-list")&&this.bannerSearch()},bannerSearch:function(){var e=document.getElementById("bn-icon-list");if(e){var t=document.querySelector("input#license-premium");if(!this.premium&&t){""==n.original_banner&&e&&(n.original_banner=e.innerHTML);var o=document.getElementById("fi-premium-edge-content-premium");""==n.premium_banner&&o&&(n.premium_banner=o.innerHTML),n.original_banner&&n.premium_banner&&t.checked&&(e.innerHTML=n.premium_banner,e.classList.add("fi-premium-edge-content-first"))}}},check:function(){window.FeatureFlag.isEnabled("user_oauth")?this.premium=void 0!==window.UserSession.userInfo.session.premium?window.UserSession.userInfo.session.premium:0:this.premium=void 0!==gr.auth.me.premium?gr.auth.me.premium:0,this.checkElements(),this.activatePremium()},showElements:function(e){[].forEach.call(document.querySelectorAll(e),function(e){e.classList.remove("hidden")})},hideElements:function(e){[].forEach.call(document.querySelectorAll(e),function(e){e.classList.add("hidden")})},deleteElements:function(e){document.querySelectorAll(e).forEach(function(e){document.getElementById(e.id).parentNode.removeChild(e)})},imgDetailIcon:function(){if("object"==typeof pack_items&&null!=pack_items){var e=this;pack_items.forEach(function(t,o){if("1"==o.premium&&!e.premium){var n=document.querySelector('.detail-content .main-icon[data-type="img"] img');n&&(n.src=o.png),o.src=o.png}})}},checkElements:function(){window.FeatureFlag.isEnabled("user_oauth")?(document.querySelectorAll(this.selector_show+", "+this.selector_show_icon).forEach(function(e){e.classList.toggle("hidden",!~~window.UserSession.userInfo.premium)}),document.querySelectorAll(this.selector_hide+", "+this.selector_hide_icon).forEach(function(e){e.classList.toggle("hidden",~~window.UserSession.userInfo.premium)})):(document.querySelectorAll(this.selector_show+", "+this.selector_show_icon).forEach(function(e){e.classList.toggle("hidden",!~~gr.auth.me.premium)}),document.querySelectorAll(this.selector_hide+", "+this.selector_hide_icon).forEach(function(e){e.classList.toggle("hidden",~~gr.auth.me.premium)}))},packLink:function(){var e=document.querySelector("section.list-top > a");e&&"1"==e.dataset.premium&&!this.premium&&(e.href=ACCOUNTS_BASE_URL+"premium/"+e.dataset.pack)}};n.init()},45:function(e,t,o){"use strict";o.r(t),o.d(t,"download_final",function(){return w}),o.d(t,"track_download",function(){return _}),o.d(t,"fillBase64Form",function(){return k}),o.d(t,"direct_download_icon_post",function(){return S}),o.d(t,"track_add_collection",function(){return q}),o.d(t,"download_pack",function(){return x}),o.d(t,"check_modal_download",function(){return j}),o.d(t,"open_attribution_modal",function(){return D}),o.d(t,"cleanFormatValue",function(){return H});var n=o(10),i=o(89),a=o(26),r=o(63),c=o(30),l=o(12),s=o(19),d=o(13),u=o(0),m=o(3);o(22);const p="icon-detail",h="512",f=()=>Object(c.b)()&&document.getElementById("collections").classList.contains("visible");function g(){var e=document.querySelector('[name="pack_id"]').value,t=document.querySelector('[name="premium"]').value,o=n.getUrlParameter("term")?n.getUrlParameter("term"):n.getUrlParameter("word")?n.getUrlParameter("word"):null;null!==o&&""!==o&&Logs.pushLog(`afterSearch|type,download|search,${o}|url,${window.location.href}|item_id,${e}|item_premium,${t}|search_type,packs|icon_type,${RESOURCE_TYPE}|format,all`,!0)}function v(){(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)||j("icon")}function w(e=null){Object(i.a)(localStorage.color);var t=n.getUrlParameter("term")?n.getUrlParameter("term"):n.getUrlParameter("word")?n.getUrlParameter("word"):void 0;let o,a;const r=u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section!==p||!u.e.FeatureFlag.isEnabled("download_modal")||f()?document.querySelector(".modal-download"):document.querySelector(".modal-download-detail");u.e.view.section===p?((window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)&&e.dataset.format&&((o=document.querySelector("#detail #download-form #format")).value=e.dataset.format),document.querySelector("#detail #download-form #size")&&!document.querySelector("#detail #download-form #size").value&&(document.querySelector("#detail #download-form #size").value=h),o=document.querySelector("#detail #download-form #format")):(e&&e.parents(".icon--item")[0]?a=e.parents(".icon--item")[0].dataset.id:r&&(a=r.dataset.iconId),o=document.querySelector(`#download-form-${a} #format`)),o&&"base64"!==o.value?function(e,t=null){y();let o=document.querySelector("#download-form");const n="404"===u.e.view.section&&!!Object(u.c)(".empty-search");if(u.e.view.section==p||"category-detail"==u.e.view.section)o=u.e.download_form?u.e.download_form:document.querySelector("#detail #download-form");else if(("icon-search"===u.e.view.section||"pack-detail"===u.e.view.section||n)&&t instanceof Event==0&&t){let e=t.closest(".modal-download");if(e){let t=e.dataset.iconId;if(t){let e=document.querySelector(`li.icon--item[data-id='${t}']:not(.collectionIcon)`);e&&(o=e.querySelector("#download-form-"+t))}}else o=u.e.download_form}document.getElementById("modal-base64")&&(document.getElementById("modal-base64").checked=!1,X(),document.querySelector("body").classList.remove("modal-open"));document.getElementById("modal-download")&&(document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open"));if(setTimeout(E,2e3),void 0!==e){var i=document.createElement("input");i.type="hidden",i.name="search",i.value=e,o.appendChild(i)}if(window.Cypress)return;b(),o.submit()}(t,e):m.a.getUserStats().then(e=>{if(e.now<e.max){const e=document.querySelector('.detail__icon__holder div[data-type="img"] img');e&&function(e,t){var o=new XMLHttpRequest;o.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(o.response)},o.open("GET",e),o.responseType="blob",o.send()}(e.src,function(e){k(e);var t=new FormData;t.append("id",document.querySelector("#download-form #icon_id").value);var o=new XMLHttpRequest;o.open("POST",APP_URL+"downloads/track-download"),o.send(t),b()})}else window.location.href=`${APP_URL}${messages.common.url_downloads_limit}`}),document.getElementById("modal-download")&&o&&"base64"!==o.value&&(document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")),document.querySelector(".modal-download-detail")&&(document.querySelector(".modal-download-detail").style.opacity=0,Object(d.g)(document.querySelector(".modal-download-detail")))}function y(){document.getElementById("author").value=document.getElementById("author").value||"0",document.getElementById("team").value=document.getElementById("team").value||"0",document.getElementById("pack").value=document.getElementById("pack").value||"0",document.getElementById("icon_id").value=document.getElementById("icon_id").value||"0",document.getElementById("format").value=document.getElementById("format").value||"png",document.getElementById("color").value=document.getElementById("color").value||"#000000",document.getElementById("colored").value=document.getElementById("colored").value||"1",document.getElementById("size").value=document.getElementById("size").value||"512",document.getElementById("style").value=document.getElementById("style").value||"Unknown",document.getElementById("keyword").value=document.getElementById("keyword").value||"icon"}function b(){let e;_(e=u.e.view.section==p?document.querySelector("#download-form #format").value:document.getElementById("format").value),n.update_download_counter(3e3),y();let t="icon",o="download";"sticker"===RESOURCE_TYPE&&(t=RESOURCE_TYPE,o="download-sticker"),e=u.e.view.section==p?document.querySelector("#download-form #format").value:document.getElementById("format").value,u.e.FeatureFlag.isEnabled("raw_svg")&&"raw-svg"===e&&(e="svg editable"),EventTracker.send("all","event",o,t,e.toUpperCase(),{dimension8:document.getElementById("author").value,dimension2:document.getElementById("team").value,dimension10:document.getElementById("pack").value,dimension3:document.getElementById("icon_id").value,dimension4:document.getElementById("format").value,dimension5:document.getElementById("color").value,dimension6:document.getElementById("size").value,dimension12:document.getElementById("style").value,dimension7:document.getElementById("keyword").value}),EventTracker.send("gtm","event",o,t,e.toUpperCase(),{dimension8:document.getElementById("author").value,dimension2:document.getElementById("team").value,dimension10:document.getElementById("pack").value,dimension3:document.getElementById("icon_id").value,dimension4:document.getElementById("format").value,dimension5:document.getElementById("color").value,dimension6:document.getElementById("size").value,dimension12:document.getElementById("style").value,dimension7:document.getElementById("keyword").value})}function _(e=""){var t="",o=document.getElementById("icon_id").value,n=document.getElementById("premium").value;let i=document.querySelector('.header--search .radio-group input[name="search-type"][type="radio"]:checked'),a="";i&&(a=i.value),(i=document.querySelector('.header--search .radio-group input[name="type"]:checked'))&&(a=`${i.value}${document.querySelector('.header--search .radio-group input[name="search-group"][data-type="packs"]:checked')?" packs":""}`);let r=document.getElementById("alternative-search"),c="";"undefined"===(t=decodeURIComponent(R("word")))&&(t=decodeURIComponent(R("term")));var l=decodeURIComponent(R("related_id")),s=decodeURIComponent(R("origin"));if(null!==r){let e=r.dataset.alternativeSearchType,t=r.dataset.originalTerm;void 0!==e&&void 0!==t&&(c=`|alternativeSearchType,${e}|originalTerm,${t}`)}o!==l&&(c+=`|related_id,${l}`),"undefined"!==s&&null!==s&&(c+=`|origin,${s}`),void 0===o||"undefined"===t&&"pack"!=s||Logs.pushLog(`afterSearch|type,download|search,${t}|url,${window.location.href}|item_id,${o}|item_premium,${n}|search_type,${a}|icon_type,${RESOURCE_TYPE}${c}|format,${e}`,!0)}function k(e){var t='<img src="'+e+'" />';$("#b64Image").val(t);var o='<style type="text/css">';o+="div.image {",o+="max-width: 256px;",o+="max-height: 256px;",o+="background-image: url("+e+")",o+="}",o+="</style>",$("#b64css").val(o),document.getElementById("modal-base64").checked=!0,function(){if(document.querySelector(".modal-base64")){const e=document.querySelector("body"),t=document.querySelector(".modal-base64 button[data-modal='modal-attribution-new']"),o=document.querySelector("#viewport"),n=document.querySelectorAll(".fi-modal.modal-base64 .copy-attributtion"),i=document.querySelector(".modal-base64 .modal__close");let a=document.querySelector("#detail")?document.querySelector("#detail"):document.querySelector("#detail-pack-aside");if(a){const e=a.querySelector(".author a")?a.querySelector(".author a").href:a.querySelector("#author-url").value,t=a.querySelector(".author .username").title,o=document.querySelector("div.modal-base64"),n=`<div>${messages.attribution.icons_made_by} <a href="${e}" title="${t}">${t}</a> from <a href="${APP_URL}" title="Flaticon">${window.location.host}</a></div>`;o.querySelector(".attribution__wrapper .copy-holder span textarea").textContent=n,o.querySelector(".input_atributtion_text").setAttribute("value",n)}t.addEventListener("click",function(){s.b.show("modal-attribution-new"),o.classList.remove("viewport");const e=this.dataset.type;M(e)}),n.forEach(e=>{e.addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),event.target.closest(".copy-holder").querySelector("textarea").select(),document.execCommand("copy")})}),i.addEventListener("click",function(){document.getElementById("modal-base64").checked=!1,H(),X(),e.classList.remove("modal-open")})}}(),document.querySelector("body").classList.add("modal-open")}function S(e,t){e.preventDefault();var o=e.target.parents(".icon--item")[0];!function(e,t){I(e)?function(e,t){document.getElementById("download-form-"+e.dataset.id).setAttribute("id","detail-download-form"),L(e,t)}(e,t):L(e,t)}(o,t),function(e){(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)||(e.classList.add("direct-download"),j("icon",e))}(o)}function E(){delete u.e.download_form,document.querySelector(".icon--item.direct-download")&&document.querySelector(".icon--item.direct-download").classList.remove("direct-download"),document.getElementById("detail-download-form")&&document.getElementById("detail-download-form").setAttribute("id","download-form")}function L(e,t){var o={icon_id:e.dataset.id,author:e.dataset.author,team:e.dataset.author,keyword:e.dataset.name,pack:e.dataset.pack,style:e.dataset.style,format:t,color:"",colored:e.dataset.color,size:"512",selection:e.dataset.selection,premium:e.dataset.premium,type:e.dataset.icon_type},n=document.createElement("form");n.setAttribute("id","download-form-"+e.dataset.id),n.setAttribute("method","GET"),n.setAttribute("action",FLATICON_DOWNLOAD_URL+"download/icon/"+e.dataset.id),Object.keys(o).map(function(e,t){var i=o[e],a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",e),a.setAttribute("id",e),a.setAttribute("value",i),n.appendChild(a)}),"0"==o.premium&&"0"==o.selection&&document.querySelector(".modal-download section.modal-body").classList.add("nopremium"),e.appendChild(n),u.e.download_form=n}function I(e=null){return e?(document.querySelector("#download-form #format")&&(document.querySelector("#download-form #format").value="png"),!!e.querySelector("#download-form-"+e.dataset.id)):!!document.getElementById("download-form")}function q(e,t,o){var n="";let i=document.querySelector('.header--search .radio-group input[name="search-type"][type="radio"]:checked'),a="";i&&(a=i.value),(i=document.querySelector('.header--search .radio-group input[name="type"]:checked'))&&(a=`${i.value}${document.querySelector('.header--search .radio-group input[name="search-group"][data-type="packs"]:checked')?" packs":""}`),"string"==typeof e&&"undefined"===(n=decodeURIComponent(R("word")))&&(n=decodeURIComponent(R("term"))),void 0!==t&&Logs.pushLog(`afterSearch|type,add_collection|search,${n}|url,${window.location.href}|item_id,${t}|item_premium,${o}|search_type,${a}|icon_type,${RESOURCE_TYPE}`,!0)}function x(){if(window.Cypress)return;g(),$("#form-download-pack").trigger("submit");const e="sticker"===RESOURCE_TYPE?"download-sticker":"download";EventTracker.send("ga","event",e,"pack"),document.querySelector("#modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")}$(function(){$(document).on("click","#download-premium",function(){document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")}),$(document).on("click","#detail ul.size button",function(){var e=$("#format").val(),t=$(this).attr("data-size");$("#size").val(t),"png"==e||"svg"==e?v():"base64"===e&&(j(),w())}),$(document).on("click","#detail #download .btn",function(e){e.preventDefault();const t=$(this).attr("data-format");if(!t)return;let o=document.querySelector("#download-form #format");if(u.e.view.section==p&&(o=document.querySelector("#detail #download-form #format")),o.value=t,"png"==t||m.a.isPremium()||e.currentTarget.classList.contains("popover-button"))"png"===t||"svg"===t||"psd"===t||"eps"===t||u.e.FeatureFlag.isEnabled("raw_svg")&&"raw-svg"===t?v():"base64"===t&&(j(),w());else{let e=(document.querySelector("#detail")?document.getElementById("detail"):document.getElementById("detail-content")).dataset.elementid;u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section!==p||!u.e.FeatureFlag.isEnabled("download_modal")?l.a.callModalDownloadOnlyForPremium(e):Object(r.a)(!0)}}),$(document).on("click","#detail ul.size a",e=>{const t=e.currentTarget,o=t.dataset.size;let n=document.getElementById("select-size");if(u.e.FeatureFlag.isEnabled("raw_svg")){n.querySelector(".popover-content a.active").classList.remove("active"),t.classList.add("active")}else{document.getElementById("select-size").querySelector("span").innerHTML=o+"px"}n.querySelector(".popover-button").classList.remove("active"),n.querySelector(".popover-content").classList.remove("show-menu"),document.querySelector("#download-form #size").value=o||h,document.querySelector("#detail #download .btn").click()}),$(document).on("change","#modal-download",function(){const e=document.querySelector(".modal-download #copy-attributtion");e.children[0].classList.add("active"),e.children[1].classList.remove("active"),0==document.getElementById("modal-download").checked&&(E(),document.querySelector("body").classList.remove("modal-open"))}),$(document).on("click",".modal-download .modal-fade-screen",function(){const e=document.querySelector(".modal-download #copy-attributtion");e.children[0].classList.add("active"),e.children[1].classList.remove("active")}),$(document).on("click",".track_download_pack",function(e){if(this.dataset.pack&&(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.logged:gr.auth.logged)){if((window.FeatureFlag.isEnabled("user_oauth")?!UserSession.userInfo.session.premium:!gr.auth.me.premium)&&1==this.dataset.premium)return void(location.href=ACCOUNTS_BASE_URL+"premium/"+this.dataset.pack);if(document.querySelector('#form-download-pack [name="user_id"]').value=window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.id:gr.auth.me.id,document.querySelector('#form-download-pack [name="pack_id"]').value=this.dataset.pack,n.update_download_counter(3e3),window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium){if(window.Cypress)return;g()}else j("pack",null)}}),$(document).on("click",".modal__trigger",function(){document.querySelector("#viewport").classList.remove("viewport"),M(this.dataset.type)}),$(document).on("click",".modal-attribution-new .copy__trigger",function(){this.previousElementSibling.select(),document.execCommand("copy"),this.children[1].classList.remove("active"),this.children[2].classList.add("active")}),$(document).on("click",".modal-attribution-new .modal__close",function(){const e=document.querySelectorAll(".copy__trigger");for(const t of e)t.children[2].classList.remove("active"),t.children[1].classList.add("active")})});var C,T,A,O,P=["icon","pack","collection"];function j(e,t){const o="icon",n="collection",i="pack";if(u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section===p&&e!==n&&!t&&Object(r.a)(),-1==P.indexOf(e))return;let c=u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section!==p||!u.e.FeatureFlag.isEnabled("download_modal")||e==n||t&&t.classList.contains("direct-download")?document.querySelector("div.modal-download"):document.querySelector(".modal-download-detail");return c?(function(e,t){e.classList.add("modal-"+t),e.querySelector("#download-premium").classList.add("modal-"+t),e.querySelector("#download-free").classList.add("modal-"+t),e.querySelector(".modal-body").classList.remove("nopremium"),[].forEach.call(e.querySelectorAll(".hidden"),function(e){e&&e.classList.contains("hidden")&&e.classList.remove("hidden")}),P.forEach(function(o){o!=t&&(e.classList.remove("modal-"+o),e.querySelector("#download-premium").classList.remove("modal-"+o),e.querySelector("#download-free").classList.remove("modal-"+o),[].forEach.call(e.querySelectorAll(".modal-"+o),function(e){e.classList.add("hidden")}))})}(c,e),e===o&&(document.querySelector(".modal-body #download-free")&&(document.querySelector(".modal-body #download-free").dataset.type=o),function(e,t){C=["send","event","Detail View","Premium Download"],{source:"not-premium-detail","download-type":"single",website:"flaticon"},T=["send","event","Detail View","Select Attribution Link"],A=["send","event","Detail View","Select Credit Attribution Link"],document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),B(this.closest(".copy-holder").querySelector(".input_atributtion_text"))}),document.querySelector(".fi-modal #download-premium").addEventListener("click",N),u.e.download_form=document.getElementById("download-form"),u.e.view.section==p&&(u.e.download_form=document.querySelector("#detail #download-form"));if(t){let o=t.dataset.id;u.e.download_form=document.querySelector(`#download-form-${o}`),e.dataset.iconId=o;let n=new Image;e.querySelector("p.filename .icon-holder img")&&(n=e.querySelector("p.filename .icon-holder img")),n.src=t.querySelector("img").getAttribute("src"),n.classList.add("replaced-svg");let i=e.querySelector("p.filename .icon-holder");i.insertAdjacentElement("afterbegin",n),e.querySelector("p.filename span.description").innerHTML=t.dataset.name,e.querySelector("p.author span.description").innerHTML="By "+t.dataset.author_name;let a=new Image;e.querySelector("p.author img")&&(a=e.querySelector("p.author img")),a.src=t.dataset.author_avatar,a.classList.add("avatar");let r=e.querySelector("p.author");r.insertAdjacentElement("afterbegin",a),0==t.dataset.selection&&e.querySelector(".modal-body").classList.add("nopremium"),O="<div>"+F(t.dataset.icon_type)+' <a href="'+t.dataset.author_website+'" title="'+t.dataset.author_name+'">'+t.dataset.author_name+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>"}else if(download_form){let a=document.querySelector("#detail")?document.getElementById("detail"):document.getElementById("detail-content"),r=a.querySelector("h1 .title").innerHTML;if((u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section!==p||!u.e.FeatureFlag.isEnabled("download_modal")||f()||t&&t.classList.contains("direct-download"))&&(e.querySelector(".filename .description").innerHTML=r),u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section!==p||!u.e.FeatureFlag.isEnabled("download_modal")||f()||t&&t.classList.contains("direct-download")){let t=a.querySelector(".main-icon img");t||(t=a.querySelector(".main-icon-without-slide img"));let o=new Image;e.querySelector("p.filename .icon-holder img")&&(o=e.querySelector("p.filename .icon-holder img")),o.src=t.src,o.classList.add("replaced-svg"),o.alt=r;let n=e.querySelector("p.filename .icon-holder");n.insertAdjacentElement("afterbegin",o)}var o=a.querySelector("#author-url"),n=a.querySelector(".author .username").title,i=a.querySelector(".author .avatar img");if(u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section!==p||!u.e.FeatureFlag.isEnabled("download_modal")||f()||t&&t.classList.contains("direct-download")){let t=new Image;e.querySelector("p.author img")&&(t=e.querySelector("p.author img")),t.src=i.src,t.classList.add("avatar");let o=e.querySelector("p.author");o.insertAdjacentElement("afterbegin",t),e.querySelector(".author .description").innerHTML="By "+n}0==download_form.selection.value&&e.querySelector(".modal-body").classList.add("nopremium"),O="<div>"+F(a.dataset.icon_type)+' <a href="'+o.value+'" title="'+n+'">'+n+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>"}(u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section!==p||!u.e.FeatureFlag.isEnabled("download_modal")||f()||t&&t.classList.contains("direct-download"))&&(e.querySelector(".copy-holder span").textContent=O,e.querySelector(".input_atributtion_text").setAttribute("value",O))}(c,t)),e===n&&(document.querySelector(".modal-collection #download-free").dataset.type=n,function(e){C=["send","event","Collection","Premium Download"],{source:"not-premium-detail","download-type":"collection",website:"flaticon"},T=null,A=null,e.querySelector("#download-free").addEventListener("click",a.d),e.querySelector("#download-premium").addEventListener("click",N),e.querySelector(".author")&&e.querySelector(".author").classList.add("hidden");document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),B(this.closest(".copy-holder").querySelector(".input_atributtion_text"))})}(c)),e===i&&(!function(e){C=["send","event","Pack","Premium Download"],{source:"not-premium-detail","download-type":"pack",website:"flaticon"},T=["send","event","Pack","Select Attribution Link"],A=["send","event","Pack","Select Credit Attribution Link"],document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),B(this.closest(".copy-holder").querySelector(".input_atributtion_text"))}),document.querySelector(".fi-modal #download-premium").addEventListener("click",N);var t=document.querySelector("#detail-pack-aside")?document.getElementById("detail-pack-aside"):document.getElementById("detail-content");const o=t.querySelector("#author-url").value;var n=t.querySelector(".author .username").title,i=t.querySelector(".author .avatar img");let a=new Image;e.querySelector("p.author img")&&(a=e.querySelector("p.author img"));a.src=i.src,a.classList.add("avatar"),e.querySelector("p.author").insertAdjacentElement("afterbegin",a),e.querySelector(".author .description").innerHTML="By "+n,O="<div>"+F(t.dataset.icon_type)+' <a href="'+o+'" title="'+n+'">'+n+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>",e.querySelector(".copy-holder span").textContent=O,e.querySelector(".input_atributtion_text").setAttribute("value",O),e.querySelector(".pack_name").innerHTML=document.querySelector("h1 .title").innerHTML;document.querySelector('meta[property="og:image"]')}(c),document.querySelector(".modal-body #download-free").dataset.type=i),void((u.e.FeatureFlag.isEnabled("download_modal")&&u.e.view.section!==p||!u.e.FeatureFlag.isEnabled("download_modal")||e==n||t&&t.classList.contains("direct-download"))&&(document.getElementById("modal-download").checked=!0))):void 0}function F(e){return{icon:messages.attribution.icons_made_by,sticker:messages.attribution.stickers_made_by,standard:messages.attribution.icons_made_by}[e]}function B(e=null){(e=e||document.querySelector(".fi-modal .input_atributtion_text")).select(),document.execCommand("copy"),T&&ga(T[0],T[1],T[2],T[3])}function U(){document.querySelector(".copy__text input").select(),document.execCommand("copy"),A&&ga(A[0],A[1],A[2],A[3])}function N(e){e.currentTarget.dataset.trackArguments&&EventTracker.getArgsFromElementAndSend(e.currentTarget),ga(C[0],C[1],C[2],C[3])}function D(){return window.Attribution.fromCollections=!0,window.Attribution.show(),((window.FeatureFlag.isEnabled("user_oauth")?!UserSession.userInfo.session:!gr.auth.me)||(window.FeatureFlag.isEnabled("user_oauth")?0===UserSession.userInfo.session.premium:0===gr.auth.me.premium))&&(window.Attribution.initialize(),window.Attribution.show(),document.querySelector(".copy__trigger").addEventListener("click",U),!0)}function R(e){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,o,n){t[o]=n});return t[e]}function M(e){let t=document.querySelectorAll(".copy__trigger");for(const e of t)e.children[2].classList.remove("active"),e.children[1].classList.add("active");let o=document.querySelectorAll(".accordion2__menu--item"),n=document.querySelector(".accordion2__container"),i=document.querySelectorAll("input.copy__text");for(const e of o)e.addEventListener("click",function(){for(const e of o)e.classList.remove("active");this.classList.add("active");let e=this.dataset.order;for(const e of n.children)e.classList.remove("active");n.children[e].classList.add("active")});let a=document.querySelector("#detail"),r=document.querySelector("#detail-pack-aside");if(a){c(a.querySelector("#author-url").value,a.querySelector(".author .username").title)}else if(r){c(r.querySelector("#author-url").value,r.querySelector(".author .username").title)}function c(e,t){const o=`<div>${F(a?a.dataset.icon_type:r.dataset.icon_type)} <a href="${e}" title="${t}">${t}</a> from <a href="${APP_URL}" title="Flaticon">${window.location.host}</a></div>`;for(const e of i)e.value=o,e.previousElementSibling.textContent=o}!function(e){let t=document.querySelector(".content-footer--text a");t&&("icon"==e&&(t.dataset.trackArguments="ga, event, premium, icon-main-attribute-modal"),"pack"==e&&(t.dataset.trackArguments="ga, event, premium, pack-main-attribute-modal"))}(e)}function H(){const e=document.querySelector("#detail #download-form #format");e&&(e.value="")}function X(){document.querySelectorAll(".fi-modal.modal-base64 .copy-attributtion").forEach(e=>{e.children[1].classList.contains("active")&&(e.children[0].classList.add("active"),e.children[1].classList.remove("active"))})}},55:function(e,t,o){"use strict";o.r(t),o.d(t,"INFINITY",function(){return s});var n=o(1),i=o(32),a=o(10),r=o(42),c=o(25),l=o(12);$(document).ready(function(){if(s.init(),document.getElementById("pagination-form")){s.currentPage=s.initPage;var e=s.pages?s.pages:Math.ceil(s.total/s.count,10);document.getElementById("pagination-total").innerHTML=a.number_format(e),document.getElementById("pagination-page").value=s.currentPage,s.check_pagination_buttons(),$("#pagination-form").on("submit",function(e){return e.preventDefault(),s.infinityLoaderBtn(s.axScript,"go"),!1}),$("a.pagination-next").on("click",function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("pagination-spinner").classList.remove("hidden"),s.infinityLoaderBtn(s.axScript,"next")}),$("a.pagination-prev").on("click",function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("pagination-spinner").classList.remove("hidden"),s.infinityLoaderBtn(s.axScript,"prev")})}$(".pagination a").on("click",function(){void 0!==gr.sponsor&&null!=gr.sponsor&&(void 0===gr.sponsor.popup||gr.auth.me.premium||gr.sponsor.popup.launch())}),$(".pagination-buttons a").on("click",function(){void 0!==gr.sponsor&&null!=gr.sponsor&&(void 0===gr.sponsor.popup||gr.auth.me.premium||gr.sponsor.popup.launch())});var t=Object(n.a)(".empty-search");if(t&&(0==s.total?($(".edge-content-iframe").hide(),t.classList.toggle("hidden",s.total>0),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.add("hidden")):($(".edge-content-iframe").show(),t.classList.toggle("hidden",s.total>0),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.remove("hidden")),void 0!==document.querySelector(".main_search_bar input[name='word']"))){var o=document.querySelector(".main_search_bar input[name='word']").value;if(-1==document.querySelector(".empty-search").className.indexOf("hidden")&&o.length){var i=localStorage["search-type"];i=-1!=["icons","packs"].indexOf(i)?i:"icons",ga("send","event","search-no-results",language,{dimension9:o})}}null==document.getElementById("tags-page")&&(null==document.getElementById("pagination-total")||parseInt(document.getElementById("pagination-total").innerHTML.replace(",",""),10)<=1)&&document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.add("hidden")});var s={infinityLoading:0,activatedInfinity:0,initPage:1,topPage:1,currentPage:1,bottomPage:1,count:0,total:0,total_icons:0,total_premium:0,axScript:"",css_selector:"",functionParser:"",cache_items:[],lastPage:self.currentPage,preLoad:!0,setUrl:!0,infinityCallback:"",fi_sponsor:{},total_found_packs:0,word:"",urlSendLog:["ajax/search"],loadFollows:0,pages:null,ads:null,init:function(){if("undefined"!=typeof INFINITY_CONFIG)for(var e in INFINITY_CONFIG)s[e]=INFINITY_CONFIG[e]},infinity:function(e,t){void 0!==t?this.axLoadItems(e,t,!0):(this.infinityLoading=1,this.bottomPage=this.bottomPage+1,this.axLoadItems(e,this.bottomPage,!0))},is_in_cache:function(e){this.cache_items.length>10&&this.cache_items.shift();for(var t=0;t<this.cache_items.length;t++)if(this.cache_items[t].page==e)return this.cache_items[t];return!1},pagination_update:function(){var e=this.pages?this.pages:Math.ceil(this.total/this.count,10);document.getElementById("pagination-total")&&(document.getElementById("pagination-total").innerHTML=a.number_format(e),document.getElementById("pagination-page").value=this.currentPage),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.toggle("hidden",this.currentPage==e);var t=document.getElementById("total_icon_badge"),o=messages.common.icons;t&&(t.innerHTML=this.total.toLocaleString("en-US"));var i=document.querySelector(".pack-header .list-header-title .badge");if(i){var r="";-1!=i.innerHTML.indexOf("icon")&&(r=o),i.innerHTML=this.total.toLocaleString("en-US")+" "+r}var c=Object(n.a)(".empty-search"),l=this.is_in_cache(this.currentPage);let s=document.querySelector("section.relateds-bar"),d=document.querySelector("section.pagination-bar");c&&l&&(c.classList.toggle("hidden",l.items.length>0),0==this.total?($(".edge-content-iframe").hide(),null!==s&&null!==d&&(s.classList.add("hidden"),d.classList.add("hidden"))):null!==s&&null!==d&&(s.classList.remove("hidden"),d.classList.remove("hidden")));var u=1==this.currentPage,m=document.querySelector(".search-pack-result:not(.similar-packs)"),p=document.querySelector(".search-pack-result-text");m&&(m.style.display=u?"":"none"),p&&(p.style.display=u?"none":""),$(window).trigger("resize"),a.emptyAuthorBox()},axLoadItems:function(e,t,o){var n=e;t>1&&(n=n+"/"+t);var i=window.location.href.lastIndexOf("?");if(-1!=i&&(n=n+"?"+window.location.href.substring(i+1,window.location.href.length)),-1!=n.indexOf("undefined"))return!1;var a=this.is_in_cache(t);if(a&&o&&(this.tplLoadItem(a.items,t,a.ads),this.pagination_update()),a)window.scrollTo(0,0);else if(void 0!==e&&""!=e){if(document.getElementById("group_id")){var r=parseInt(document.getElementById("group_id").value,10)||0;"/ajax/packs/search"==e&&r&&(n=addVarQueryString(n,"group_id",r))}var c=this;$.ajax({url:n,type:"get",dataType:"json",success:function(e){var n=e.items||[],i=parseInt(e.total,10)||0,a=parseInt(e.pages,10)||0,r=e.pack_id;this.total=e.total||0,this.pages=e.pages||0,e.d_gad&&(this.ads=e.d_gad),"icon-search"!==window.view.section||n.length||window.location.reload();var s=document.querySelector(".btn-pattern");if(s){var d=s.href.split("#");d.pop(),d.push("pack="+r),s.href=d.join("#")}c.cache_items.push({page:t,items:n,total:i,ads:this.ads}),o&&(c.currentPage=t,c.total=i,c.pages=a,c.tplLoadItem(n,t,this.ads),c.pagination_update(),c.check_pagination_buttons()),EventTracker.send("gtm","event","pagination"),l.a.callModalPremium(),window.scrollTo(0,0)},error:function(e,t,o){document.getElementById("pagination-spinner").classList.add("hidden"),c.infinityLoading=0}})}},infinityLoaderBtn:function(e,t){this.lastPage=this.currentPage;var o=this.pages?this.pages:Math.ceil(this.total/this.count,10);if("go"==t){var n=parseInt(document.getElementById("pagination-page").value,10);this.infinityLoading=1,this.currentPage=!isNaN(n)&&n>0&&n<=o?n:1,this.bottomPage=this.currentPage,this.initPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage<o&&this.axLoadItems(e,this.currentPage+1,!1)}"clear"==t&&(this.infinityLoading=1,this.currentPage=1,this.initPage=this.currentPage,this.bottomPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage<o&&this.axLoadItems(e,this.currentPage+1,!1)),"next"==t&&(this.currentPage++,this.total>(this.currentPage-1)*this.count?(this.infinityLoading=1,this.bottomPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage<o&&this.axLoadItems(e,this.currentPage+1,!1)):(this.infinityLoading=0,this.currentPage--)),"prev"==t&&(this.currentPage--,this.currentPage>=1?(this.topPage=this.currentPage,this.infinityLoading=1,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage>1&&this.axLoadItems(e,this.currentPage-1,!1)):(this.infinityLoading=0,this.currentPage=1)),this.check_pagination_buttons()},check_pagination_buttons:function(){var e=document.getElementById("pagination-more"),t=document.getElementById("pagination-less"),o=0,n=this;document.getElementById("pagination-total")&&(o=parseInt(document.getElementById("pagination-total").innerHTML.replace(",",""),10)),document.querySelector(".list-options .pagination-simple")&&document.querySelector(".list-options .pagination-simple").classList.toggle("hidden",1==o),document.querySelectorAll(".pagination-prev").forEach(function(e){e.classList.toggle("disabled",1==n.currentPage),t&&t.classList.toggle("hidden",1==n.currentPage)}),document.querySelectorAll(".pagination-next").forEach(function(e){e.classList.toggle("disabled",n.currentPage==o||0==o)});var i=document.querySelectorAll(".pagination-next").length,a=document.querySelectorAll(".pagination-prev").length;document.get("#pagination-form .pagination-next")&&document.get("#pagination-form .pagination-prev")&&document.get("#pagination-form .pagination-next").classList.contains("disabled")&&document.get("#pagination-form .pagination-prev").classList.contains("disabled")&&o>1&&(document.querySelector(".pagination-next").classList.contains("disabled")?e&&(e.classList.add("hidden"),t.classList.remove("hidden")):e&&(e.classList.remove("hidden"),t.classList.add("hidden"))),i&&a&&(document.get("#pagination-form .pagination-next").classList.contains("disabled")&&document.get("#pagination-form .pagination-prev").classList.contains("disabled")&&o>1?(document.get("#pagination-form").style.display="none",e&&(e.classList.add("hidden"),t.classList.remove("hidden"))):document.get("#pagination-form").style.display="block")},tplLoadItem:function(e,t,o){this.css_selector=""==this.css_selector||void 0===typeof this.css_selector?"ul.icons:not(.collection_icons_list)":this.css_selector,$(this.css_selector).empty();var l=document.get(this.css_selector);-1!==this.axScript.indexOf("pack")&&!~~gr.auth.me.premium&&window.matchMedia("(min-width: 740px)").matches&&(document.querySelector('#form-download-pack [name="premium"]')&&"0"==document.querySelector('#form-download-pack [name="premium"]').value&&((s=document.createElement("li")).id="bn-icon-list",s.className="a-wrapper edge-content edge-content-icon-list edge-content-first",s.style.display="none",s.setAttribute("data-order","1"),s.setAttribute("data-row","2"),s.setAttribute("data-min","45")));if(void 0!==this.fi_sponsor.freepik&&!~~gr.auth.me.premium&&!o){var s,d=t%14;t>=14&&d++,this.fi_sponsor.freepik.page=d,this.fi_sponsor.partner.page=d,(s=document.createElement("li"))&&(s.id="bn-icon-list",s.className="bn-space a-wrapper edge-content edge-content-icon-list edge-content-first",s.style.display="none",s.setAttribute("data-order","1"),s.setAttribute("data-row","2"),s.setAttribute("data-min","55"));var u=document.createElement("li");u&&(u.id="bn-icon-list-second",u.className="bn-space a-wrapper edge-content edge-content-icon-list edge-content-first edge-content-icon-list-second",u.style.display="none",u.setAttribute("data-order","2"),u.setAttribute("data-row","6"),u.setAttribute("data-min","80"));var m=document.querySelector("section.search-result ul.icons");m&&(m.appendChild(s),m.appendChild(u));var p=document.createElement("div");p&&(p.className="edge-content edge-content-first show last-edge-content",p.innerHTML=this.fi_sponsor.partner.url.replace("---PAGE---",this.fi_sponsor.partner.page));var h=document.querySelector(".last-edge-content");h&&(h.innerHTML="",h.appendChild(p))}if(document.getElementById("pagination-spinner")&&document.getElementById("pagination-spinner").classList.add("hidden"),document.getElementById("filters-spinner")&&document.getElementById("filters-spinner").classList.add("hidden"),l&&!isNaN(this.topPage)&&!isNaN(this.bottomPage)&&e.length>0){t=this.currentPage;var f=Handlebars.tag(this.templateTag),g=$(".total-items");if(void 0!==g&&null!=g&&$(".total-items").html(this.total.toLocaleString("en-US")),e.forEach(function(e,o){if(1==o&&(e.page=t),l.insertAdjacentHTML("beforeend",f(e)),100==o)return!1}),this.setUrl){var v=n.k(n.q(window.location.href),this.currentPage,window.location.search);"object"==typeof window.history?window.history.pushState({page:"pagination"},document.title,v):History.pushState({page:"pagination"},document.title,v),a.store_url(v);var w=n.q(window.location.href);window.url=w;var y=n.k(w,t).replace(APP_URL,"");ga("send","pageview","/"+y),ga("send","pageview",y,{metric1:t,dimension9:n.n(decodeURIComponent(window.location.search)).word})}this.setUrl=!0,"undefined"!=typeof Widget&&null!=Widget&&Widget.markSelectedIcons(),setTimeout(()=>window.Lazyload.run(),50),window.dispatchEvent(new Event("resize"))}if(void 0!==this.infinityCallback){var b;if("string"==typeof this.infinityCallback&&(this.infinityCallback=this.infinityCallback.split(".")),void 0!==this.infinityCallback)if(this.infinityCallback instanceof Array)this.infinityCallback.forEach(function(e){"function"==typeof(b=b?b[e]:window[e])&&(b(),b=null)});this.infinityLoading=0}i.Premium.init(),this.addFakeItemsToList(this.css_selector);const _=document.body.dataset.section||"",k=new CustomEvent("sectionView",{detail:{section:_,modal:!1,page:t}});window.dispatchEvent(k),"following-styles"!=_&&"following-authors"!=_||setTimeout(function(){r.a.init(),"following-authors"==_?r.a.FollowsCallbackInit():r.a.BookmarkCallbackInit()},500),Object(c.b)()},serialize:function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},addFakeItemsToList:function(e=null){if(null===t)var t=document.querySelector("section.search-result ul.icons");else t=document.querySelector(e);if(t&&t.classList.contains("icons"))for(var o=20;o>=0;o--)t.insertAdjacentHTML("beforeend",'<li class="icon--item icon-fill"></li>');var n=document.querySelector("section.search-result section.box-container");if(n){var i='<article class="box emptybox"></article>';for(o=20;o>=0;o--)n.insertAdjacentHTML("beforeend",i)}var a=document.querySelector(".following__list.bookmarks__list.box-container");if(a)for(i='<article class="box emptybox"></article>',o=4;o>=0;o--)a.insertAdjacentHTML("beforeend",i)}}},89:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=localStorage,i=5;function a(){var e=n.color;if(e){$("#download-form #color").val(e);var t=document.querySelectorAll("#detail .svg-version svg");[].forEach.call(t,function(t){[].forEach.call(t.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline"),function(t){t.style.fill=e})});var o=$("#detail .svg-version");!function(e){var t=parseInt(e.substr(0,2),16),o=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return 299*t+587*o+114*n>=225e3}(e.substring(1))?o.removeClass("light-icons"):o.addClass("light-icons")}}function r(e){if(void 0!==e){var t=[],o=0;if("#"!=e.charAt(0)&&(e="#"+e),!$('#detail .color-selector button[data-color="'+e+'"]').length&&(void 0!==n.customColors&&""!=n.customColors&&(o=(t=JSON.parse(n.customColors)).length),-1==t.indexOf(e))){if(o>=i){var a=Object.keys(t)[0],r=t[a];t.splice(a,1),$('#detail ul.color-selector .custom-color[data-color="'+r+'"]').parent().remove()}t.push(e),c(e),n.customColors=JSON.stringify(t)}}}function c(e){var t=$("#detail ul.color-selector"),o=document.createElement("li"),n=document.createElement("button");n.dataset.color=e,n.className="custom-color",n.style.backgroundColor=e,n.addEventListener("click",a),o.appendChild(n),t.append(o)}$(document).ready(function(){})}});
//# sourceMappingURL=fi-base.019602b4d97f2adeaedb.js.map